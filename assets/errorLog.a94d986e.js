var d=Object.defineProperty,m=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var e=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var s=(r,t,o)=>t in r?d(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,n=(r,t)=>{for(var o in t||(t={}))E.call(t,o)&&s(r,o,t[o]);if(e)for(var o of e(t))h.call(t,o)&&s(r,o,t[o]);return r},i=(r,t)=>m(r,c(t));import{cn as p,co as I,cp as l}from"./index.a7e7c866.js";import{a as C}from"./exceptionEnum.1496ab9e.js";const x=p({id:"error-log",state:()=>({errorLogInfoList:null,errorLogListCount:0}),getters:{getErrorLogInfoList(){return this.errorLogInfoList||[]},getErrorLogListCount(){return this.errorLogListCount}},actions:{addErrorLogInfo(r){const t=i(n({},r),{time:I(new Date)});this.errorLogInfoList=[t,...this.errorLogInfoList||[]],this.errorLogListCount++},setErrorLogListCount(r){this.errorLogListCount=r},addAjaxErrorInfo(r){const{useErrorHandle:t}=l;if(!t)return;const o={message:r.message,type:C.AJAX};if(r.response){const{config:{url:a="",data:g="",method:L="get",headers:f={}}={},data:u={}}=r.response;o.url=a,o.name="Ajax Error",o.file="-",o.stack=JSON.stringify(u),o.detail=JSON.stringify({params:g,method:L,headers:f})}this.addErrorLogInfo(o)}}});export{x as u};
