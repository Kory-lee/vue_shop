var v=(e,n,r)=>new Promise((F,m)=>{var c=s=>{try{d(r.next(s))}catch(u){m(u)}},y=s=>{try{d(r.throw(s))}catch(u){m(u)}},d=s=>s.done?F(s.value):Promise.resolve(s.value).then(c,y);d((r=r.apply(e,n)).next())});import{d as B,bd as G,be as P,at as V,bf as z,bg as L,bh as k,bi as N,bj as M,bk as A,bl as K,bm as O,bn as U,ac as W,r as S,af as j,c as q,u as w,K as Q,V as H,f as a,o as J,a as X,q as o,l as t,aE as f,x as g,b as Y,h as Z,bo as x,F as ee,v as oe}from"./vendor.4f112e74.js";import{c as te,S as ne,_ as se}from"./index.a8042b0d.js";/* empty css               *//* empty css              *//* empty css               */import{L as ae,u as le,a as I}from"./LoginFormTitle.09c93419.js";const ie=B({name:"LoginForm",components:{LoginFormTitle:ae,Col:G,Row:P,Button:V,Checkbox:z,Input:L,Form:k,FormItem:k.Item,InputPassword:L.Password,Divider:N,GithubFilled:M,WechatFilled:A,AlipayCircleFilled:K,GoogleCircleFilled:O,TwitterCircleFilled:U},setup(){const{t:e}=W(),{getPrefixCls:n}=te(),r=n("login"),F=S(!1),m=S(null),c=S(!1),y=ne(),{getLoginState:d,setLoginState:s}=le(),u=j({account:"kory",password:"123456"}),b=q(()=>w(d)===I.LOGIN);function p(){return v(this,null,function*(){if(!w(m))return;const l=yield w(m).validate();if(!!l)try{c.value=!0;const C=yield y.login(Q({password:l.password,username:l.account}));C&&H.success({message:e("sys.login.loginSuccessTitle"),description:`${e("sys.login.loginSuccessDesc")}: ${C.realName}`,duration:3})}finally{c.value=!1}})}return{t:e,formData:u,prefixCls:r,rememberMe:F,formRef:m,loading:c,getShow:b,handleLogin:p,setLoginState:s,LoginStateEnum:I}}});function re(e,n,r,F,m,c){const y=a("LoginFormTitle"),d=a("Input"),s=a("FormItem"),u=a("InputPassword"),b=a("Checkbox"),p=a("Col"),l=a("Button"),C=a("Row"),_=a("Divider"),D=a("GithubFilled"),E=a("WechatFilled"),T=a("AlipayCircleFilled"),h=a("GoogleCircleFilled"),R=a("TwitterCircleFilled"),$=a("Form");return e.getShow?(J(),X(ee,{key:0},[o(y,{class:"enter-x"}),o($,{ref:"formRef",model:e.formData,class:"p-4 enter-x",onKeypress:x(e.handleLogin,["enter"])},{default:t(()=>[o(s,{name:"account",class:"enter-x"},{default:t(()=>[o(d,{value:e.formData.account,"onUpdate:value":n[0]||(n[0]=i=>e.formData.account=i),placeholder:e.t("sys.login.username"),size:"large"},null,8,["value","placeholder"])]),_:1}),o(s,{name:"password",class:"enter-x"},{default:t(()=>[o(u,{value:e.formData.password,"onUpdate:value":n[1]||(n[1]=i=>e.formData.password=i),"visibility-toggle":"",placeholder:e.t("sys.login.password"),size:"large"},null,8,["value","placeholder"])]),_:1}),o(C,{class:"enter-x"},{default:t(()=>[o(p,{span:12},{default:t(()=>[o(s,null,{default:t(()=>[o(b,{modelValue:e.rememberMe,"onUpdate:modelValue":n[2]||(n[2]=i=>e.rememberMe=i),size:"small"},{default:t(()=>[f(g(e.t("sys.login.rememberMe")),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(p,{span:12},{default:t(()=>[o(s,{class:"text-right"},{default:t(()=>[o(l,{type:"link",size:"small",onClick:n[3]||(n[3]=i=>e.setLoginState(e.LoginStateEnum.RESET_PASSWORD))},{default:t(()=>[f(g(e.t("sys.login.forgetPassword")),1)]),_:1})]),_:1})]),_:1})]),_:1}),o(s,{class:"enter-x"},{default:t(()=>[o(l,{type:"primary",size:"large",block:"",loading:e.loading,onClick:e.handleLogin},{default:t(()=>[f(g(e.t("sys.login.loginButton")),1)]),_:1},8,["loading","onClick"])]),_:1}),o(C,{class:"enter-x"},{default:t(()=>[o(p,{xs:24,md:7},{default:t(()=>[o(l,{block:"",onClick:n[4]||(n[4]=i=>e.setLoginState(e.LoginStateEnum.MOBILE))},{default:t(()=>[f(g(e.t("sys.login.mobileSignInFormTitle")),1)]),_:1})]),_:1}),o(p,{xs:24,md:{span:8,offset:1},class:"!my-2 !md:my-0"},{default:t(()=>[o(l,{block:"",onClick:n[5]||(n[5]=i=>e.setLoginState(e.LoginStateEnum.QR_CODE))},{default:t(()=>[f(g(e.t("sys.login.qrSignInFormTitle")),1)]),_:1})]),_:1}),o(p,{xs:24,md:{span:7,offset:1}},{default:t(()=>[o(l,{block:"",onClick:n[6]||(n[6]=i=>e.setLoginState(e.LoginStateEnum.REGISTER))},{default:t(()=>[f(g(e.t("sys.login.registerButton")),1)]),_:1})]),_:1})]),_:1}),o(_,{class:"enter-x"},{default:t(()=>[f(g(e.t("sys.login.otherSignIn")),1)]),_:1}),Y("div",{class:Z(["flex justify-evenly enter-x",`${e.prefixCls}-sign-in-way`])},[o(D),o(E),o(T),o(h),o(R)],2)]),_:1},8,["model","onKeypress"])],64)):oe("",!0)}var ye=se(ie,[["render",re]]);export{ye as default};
