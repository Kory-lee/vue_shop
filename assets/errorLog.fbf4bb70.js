var u=Object.defineProperty,d=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var e=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var s=(r,t,o)=>t in r?u(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,n=(r,t)=>{for(var o in t||(t={}))c.call(t,o)&&s(r,o,t[o]);if(e)for(var o of e(t))p.call(t,o)&&s(r,o,t[o]);return r},i=(r,t)=>d(r,E(t));import{C as h}from"./vendor.19bf757c.js";import{as as I,at as l}from"./index.9b7e9a93.js";import{a as C}from"./exceptionEnum.9447ab1e.js";const S=h({id:"error-log",state:()=>({errorLogInfoList:null,errorLogListCount:0}),getters:{getErrorLogInfoList(){return this.errorLogInfoList||[]},getErrorLogListCount(){return this.errorLogListCount}},actions:{addErrorLogInfo(r){const t=i(n({},r),{time:I(new Date)});this.errorLogInfoList=[t,...this.errorLogInfoList||[]],this.errorLogListCount++},setErrorLogListCount(r){this.errorLogListCount=r},addAjaxErrorInfo(r){const{useErrorHandle:t}=l;if(!t)return;const o={message:r.message,type:C.AJAX};if(r.response){const{config:{url:a="",data:g="",method:L="get",headers:f={}}={},data:m={}}=r.response;o.url=a,o.name="Ajax Error",o.file="-",o.stack=JSON.stringify(m),o.detail=JSON.stringify({params:g,method:L,headers:f})}this.addErrorLogInfo(o)}}});export{S as u};
