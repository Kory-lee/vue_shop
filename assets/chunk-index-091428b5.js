var WW=Object.defineProperty,jW=Object.defineProperties;var qW=Object.getOwnPropertyDescriptors;var az=Object.getOwnPropertySymbols;var GW=Object.prototype.hasOwnProperty,KW=Object.prototype.propertyIsEnumerable;var oz=(Y,D,X)=>D in Y?WW(Y,D,{enumerable:!0,configurable:!0,writable:!0,value:X}):Y[D]=X,iz=(Y,D)=>{for(var X in D||(D={}))GW.call(D,X)&&oz(Y,X,D[X]);if(az)for(var X of az(D))KW.call(D,X)&&oz(Y,X,D[X]);return Y},uz=(Y,D)=>jW(Y,qW(D));var sz=(Y,D,X)=>new Promise((oe,ue)=>{var Pe=He=>{try{ct(X.next(He))}catch(Ft){ue(Ft)}},at=He=>{try{ct(X.throw(He))}catch(Ft){ue(Ft)}},ct=He=>He.done?oe(He.value):Promise.resolve(He.value).then(Pe,at);ct((X=X.apply(Y,D)).next())});import{c as rr,A as ox,t as rx,P as $o,J as tx,a as Is,b as za,_ as _o,ab as XW,dR as rI,p as qu,dE as YW,F as ix,ca as aI,y as po,f as Aa,u as RA,h as ZW,N as JW,C as QW,H as ej,d3 as tj,co as nj,cr as rj,cE as aj,q as NA,R as cI,dB as oj,O as ax,d4 as BA,c6 as kz,dS as ij,dT as uj,ad as lI,ae as fI,b1 as sj,aW as cj,aF as lj,d7 as fj,d8 as vj,d9 as dj,cW as mj,da as cz,cj as gj,B as oI,cl as hj,b5 as pj,d6 as bj,d as yj,e as KN,c4 as wj,dU as FA,cX as Cj,j as xj,i as Ez,a1 as iI,a2 as nx,a3 as uI,a4 as sI,a$ as Sj,aK as kj,aJ as Ej,a6 as Tz,dV as Tj,Y as ms,dW as Oj,dX as Aj,dY as XN,w as YN,dZ as Dj,s as _j,d_ as Pj,af as Oz,ag as Bj,a_ as Fj,a7 as Mj,d$ as Rj}from"./entry-index-a3b6a048.js";import{o as Nj,P as Ij}from"./chunk-PageWrapper-9353a404.js";import{g as Az}from"./chunk-useDesign-b222c739.js";import{b as $j}from"./chunk-_baseIteratee-e844bac2.js";import{E as zj}from"./chunk-index-36e72051.js";import{C as Lj}from"./chunk-CheckOutlined-a23de646.js";import{u as Hj}from"./chunk-useRefs-16126eb6.js";import{u as Vj}from"./chunk-FormItemContext-7ce208b7.js";import"./chunk-index-8c5d2b3e.js";import"./chunk-DownOutlined-612cca38.js";import"./chunk-index-9c618a4c.js";import"./chunk-eagerComputed-a5009bfd.js";import"./chunk-responsiveObserve-831b722b.js";import"./chunk-useSize-02187ba2.js";import"./chunk-omit-7dc1ddc6.js";import"./chunk-_flatRest-c3dab8ce.js";import"./chunk-_setToString-5def7eb0.js";import"./chunk-index-3b532a4d.js";import"./chunk-index-cc9e5b82.js";import"./chunk-transButton-13b3c7f8.js";import"./chunk-get-5b240363.js";import"./chunk-hasIn-7e172235.js";import"./chunk-Form-5950de9d.js";import"./chunk-Col-1fb113fa.js";import"./chunk-intersection-5eeb8d6b.js";var Uj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Wj=Uj;function lz(Y){for(var D=1;D<arguments.length;D++){var X=arguments[D]!=null?Object(arguments[D]):{},oe=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(oe=oe.concat(Object.getOwnPropertySymbols(X).filter(function(ue){return Object.getOwnPropertyDescriptor(X,ue).enumerable}))),oe.forEach(function(ue){jj(Y,ue,X[ue])})}return Y}function jj(Y,D,X){return D in Y?Object.defineProperty(Y,D,{value:X,enumerable:!0,configurable:!0,writable:!0}):Y[D]=X,Y}var vI=function(D,X){var oe=lz({},D,X.attrs);return rr(ox,lz({},oe,{icon:Wj}),null)};vI.displayName="DeleteOutlined";vI.inheritAttrs=!1;var qj=vI,Gj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Kj=Gj;function fz(Y){for(var D=1;D<arguments.length;D++){var X=arguments[D]!=null?Object(arguments[D]):{},oe=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(oe=oe.concat(Object.getOwnPropertySymbols(X).filter(function(ue){return Object.getOwnPropertyDescriptor(X,ue).enumerable}))),oe.forEach(function(ue){Xj(Y,ue,X[ue])})}return Y}function Xj(Y,D,X){return D in Y?Object.defineProperty(Y,D,{value:X,enumerable:!0,configurable:!0,writable:!0}):Y[D]=X,Y}var dI=function(D,X){var oe=fz({},D,X.attrs);return rr(ox,fz({},oe,{icon:Kj}),null)};dI.displayName="DownloadOutlined";dI.inheritAttrs=!1;var Yj=dI,Zj={icon:function(D,X){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:X}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:D}}]}},name:"file",theme:"twotone"},Jj=Zj;function vz(Y){for(var D=1;D<arguments.length;D++){var X=arguments[D]!=null?Object(arguments[D]):{},oe=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(oe=oe.concat(Object.getOwnPropertySymbols(X).filter(function(ue){return Object.getOwnPropertyDescriptor(X,ue).enumerable}))),oe.forEach(function(ue){Qj(Y,ue,X[ue])})}return Y}function Qj(Y,D,X){return D in Y?Object.defineProperty(Y,D,{value:X,enumerable:!0,configurable:!0,writable:!0}):Y[D]=X,Y}var mI=function(D,X){var oe=vz({},D,X.attrs);return rr(ox,vz({},oe,{icon:Jj}),null)};mI.displayName="FileTwoTone";mI.inheritAttrs=!1;var eq=mI,tq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},nq=tq;function dz(Y){for(var D=1;D<arguments.length;D++){var X=arguments[D]!=null?Object(arguments[D]):{},oe=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(oe=oe.concat(Object.getOwnPropertySymbols(X).filter(function(ue){return Object.getOwnPropertyDescriptor(X,ue).enumerable}))),oe.forEach(function(ue){rq(Y,ue,X[ue])})}return Y}function rq(Y,D,X){return D in Y?Object.defineProperty(Y,D,{value:X,enumerable:!0,configurable:!0,writable:!0}):Y[D]=X,Y}var gI=function(D,X){var oe=dz({},D,X.attrs);return rr(ox,dz({},oe,{icon:nq}),null)};gI.displayName="PaperClipOutlined";gI.inheritAttrs=!1;var aq=gI,oq={icon:function(D,X){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:D}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:X}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:X}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:X}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:D}}]}},name:"picture",theme:"twotone"},iq=oq;function mz(Y){for(var D=1;D<arguments.length;D++){var X=arguments[D]!=null?Object(arguments[D]):{},oe=Object.keys(X);typeof Object.getOwnPropertySymbols=="function"&&(oe=oe.concat(Object.getOwnPropertySymbols(X).filter(function(ue){return Object.getOwnPropertyDescriptor(X,ue).enumerable}))),oe.forEach(function(ue){uq(Y,ue,X[ue])})}return Y}function uq(Y,D,X){return D in Y?Object.defineProperty(Y,D,{value:X,enumerable:!0,configurable:!0,writable:!0}):Y[D]=X,Y}var hI=function(D,X){var oe=mz({},D,X.attrs);return rr(ox,mz({},oe,{icon:iq}),null)};hI.displayName="PictureTwoTone";hI.inheritAttrs=!1;var sq=hI,Dz=rx("normal","exception","active","success"),cq=rx("line","circle","dashboard"),lq=rx("default","small"),IA=function(){return{prefixCls:$o.string,type:$o.oneOf(cq),percent:$o.number,format:{type:Function},status:$o.oneOf(Dz),showInfo:$o.looseBool,strokeWidth:$o.number,strokeLinecap:$o.oneOf(rx("butt","round","square")),strokeColor:{type:[String,Object]},trailColor:$o.string,width:$o.number,success:{type:Object,default:function(){return{}}},gapDegree:$o.number,gapPosition:$o.oneOf(rx("top","bottom","left","right")),size:$o.oneOf(lq),steps:$o.number,successPercent:$o.number,title:String}};function kh(Y){return!Y||Y<0?0:Y>100?100:Y}function MA(Y){var D=Y.success,X=Y.successPercent,oe=X;return D&&"progress"in D&&(tx(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),oe=D.progress),D&&"percent"in D&&(oe=D.percent),oe}var fq=globalThis&&globalThis.__rest||function(Y,D){var X={};for(var oe in Y)Object.prototype.hasOwnProperty.call(Y,oe)&&D.indexOf(oe)<0&&(X[oe]=Y[oe]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,oe=Object.getOwnPropertySymbols(Y);ue<oe.length;ue++)D.indexOf(oe[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,oe[ue])&&(X[oe[ue]]=Y[oe[ue]]);return X},vq=_o(_o({},IA()),{prefixCls:$o.string,direction:{type:String}}),dq=function(D){var X=[];return Object.keys(D).forEach(function(oe){var ue=parseFloat(oe.replace(/%/g,""));isNaN(ue)||X.push({key:ue,value:D[oe]})}),X=X.sort(function(oe,ue){return oe.key-ue.key}),X.map(function(oe){var ue=oe.key,Pe=oe.value;return"".concat(Pe," ").concat(ue,"%")}).join(", ")},mq=function(D,X){var oe=D.from,ue=oe===void 0?rI.blue:oe,Pe=D.to,at=Pe===void 0?rI.blue:Pe,ct=D.direction,He=ct===void 0?X==="rtl"?"to left":"to right":ct,Ft=fq(D,["from","to","direction"]);if(Object.keys(Ft).length!==0){var Te=dq(Ft);return{backgroundImage:"linear-gradient(".concat(He,", ").concat(Te,")")}}return{backgroundImage:"linear-gradient(".concat(He,", ").concat(ue,", ").concat(at,")")}},gq=Is({name:"Line",props:vq,setup:function(D,X){var oe=X.slots,ue=za(function(){var Ft=D.strokeColor,Te=D.direction;return Ft&&typeof Ft!="string"?mq(Ft,Te):{background:Ft}}),Pe=za(function(){return D.trailColor?{backgroundColor:D.trailColor}:void 0}),at=za(function(){var Ft=D.percent,Te=D.strokeWidth,se=D.strokeLinecap,Re=D.size;return _o({width:"".concat(kh(Ft),"%"),height:"".concat(Te||(Re==="small"?6:8),"px"),borderRadius:se==="square"?0:""},ue.value)}),ct=za(function(){return MA(D)}),He=za(function(){var Ft=D.strokeWidth,Te=D.size,se=D.strokeLinecap,Re=D.success;return{width:"".concat(kh(ct.value),"%"),height:"".concat(Ft||(Te==="small"?6:8),"px"),borderRadius:se==="square"?0:"",backgroundColor:Re==null?void 0:Re.strokeColor}});return function(){var Ft;return rr(XW,null,[rr("div",{class:"".concat(D.prefixCls,"-outer")},[rr("div",{class:"".concat(D.prefixCls,"-inner"),style:Pe.value},[rr("div",{class:"".concat(D.prefixCls,"-bg"),style:at.value},null),ct.value!==void 0?rr("div",{class:"".concat(D.prefixCls,"-success-bg"),style:He.value},null):null])]),(Ft=oe.default)===null||Ft===void 0?void 0:Ft.call(oe)])}}}),hq={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},pq=function(D){var X=qu(null);return YW(function(){var oe=Date.now(),ue=!1;D.value.forEach(function(Pe){var at,ct=((at=Pe)===null||at===void 0?void 0:at.$el)||Pe;if(!!ct){ue=!0;var He=ct.style;He.transitionDuration=".3s, .3s, .3s, .06s",X.value&&oe-X.value<100&&(He.transitionDuration="0s, 0s")}}),ue&&(X.value=Date.now())}),D},bq={gapDegree:$o.number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:$o.string,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:$o.number,trailColor:$o.string,trailWidth:$o.number,transition:$o.string},yq=globalThis&&globalThis.__rest||function(Y,D){var X={};for(var oe in Y)Object.prototype.hasOwnProperty.call(Y,oe)&&D.indexOf(oe)<0&&(X[oe]=Y[oe]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,oe=Object.getOwnPropertySymbols(Y);ue<oe.length;ue++)D.indexOf(oe[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,oe[ue])&&(X[oe[ue]]=Y[oe[ue]]);return X},gz=0;function hz(Y){return+Y.replace("%","")}function pz(Y){return Array.isArray(Y)?Y:[Y]}function bz(Y,D,X,oe){var ue=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Pe=arguments.length>5?arguments[5]:void 0,at=50-oe/2,ct=0,He=-at,Ft=0,Te=-2*at;switch(Pe){case"left":ct=-at,He=0,Ft=2*at,Te=0;break;case"right":ct=at,He=0,Ft=-2*at,Te=0;break;case"bottom":He=at,Te=2*at;break}var se="M 50,50 m ".concat(ct,",").concat(He,`
   a `).concat(at,",").concat(at," 0 1 1 ").concat(Ft,",").concat(-Te,`
   a `).concat(at,",").concat(at," 0 1 1 ").concat(-Ft,",").concat(Te),Re=Math.PI*2*at,Be={stroke:X,strokeDasharray:"".concat(D/100*(Re-ue),"px ").concat(Re,"px"),strokeDashoffset:"-".concat(ue/2+Y/100*(Re-ue),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:se,pathStyle:Be}}var wq=Is({name:"VCCircle",props:ix(bq,hq),setup:function(D){gz+=1;var X=qu(gz),oe=za(function(){return pz(D.percent)}),ue=za(function(){return pz(D.strokeColor)}),Pe=Hj(),at=aI(Pe,2),ct=at[0],He=at[1];pq(He);var Ft=function(){var se=D.prefixCls,Re=D.strokeWidth,Be=D.strokeLinecap,Xe=D.gapDegree,ve=D.gapPosition,yt=0;return oe.value.map(function(Qe,Vt){var I=ue.value[Vt]||ue.value[ue.value.length-1],je=Object.prototype.toString.call(I)==="[object Object]"?"url(#".concat(se,"-gradient-").concat(X.value,")"):"",we=bz(yt,Qe,I,Re,Xe,ve),St=we.pathString,et=we.pathStyle;yt+=Qe;var Ae={key:Vt,d:St,stroke:je,"stroke-linecap":Be,"stroke-width":Re,opacity:Qe===0?0:1,"fill-opacity":"0",class:"".concat(se,"-circle-path"),style:et};return rr("path",po({ref:ct(Vt)},Ae),null)})};return function(){var Te=D.prefixCls,se=D.strokeWidth,Re=D.trailWidth,Be=D.gapDegree,Xe=D.gapPosition,ve=D.trailColor,yt=D.strokeLinecap;D.strokeColor;var Qe=yq(D,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),Vt=bz(0,100,ve,se,Be,Xe),I=Vt.pathString,je=Vt.pathStyle;delete Qe.percent;var we=ue.value.find(function(et){return Object.prototype.toString.call(et)==="[object Object]"}),St={d:I,stroke:ve,"stroke-linecap":yt,"stroke-width":Re||se,"fill-opacity":"0",class:"".concat(Te,"-circle-trail"),style:je};return rr("svg",po({class:"".concat(Te,"-circle"),viewBox:"0 0 100 100"},Qe),[we&&rr("defs",null,[rr("linearGradient",{id:"".concat(Te,"-gradient-").concat(X.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(we).sort(function(et,Ae){return hz(et)-hz(Ae)}).map(function(et,Ae){return rr("stop",{key:Ae,offset:et,"stop-color":we[et]},null)})])]),rr("path",St,null),Ft().reverse()])}}});function Cq(Y){var D=Y.percent,X=Y.success,oe=Y.successPercent,ue=kh(MA({success:X,successPercent:oe}));return[ue,kh(kh(D)-ue)]}function xq(Y){var D=Y.success,X=D===void 0?{}:D,oe=Y.strokeColor,ue=X.strokeColor;return[ue||rI.green,oe||null]}var Sq=Is({inheritAttrs:!1,props:IA(),setup:function(D,X){var oe=X.slots,ue=za(function(){if(D.gapDegree||D.gapDegree===0)return D.gapDegree;if(D.type==="dashboard")return 75}),Pe=za(function(){var Re=D.width||120;return{width:typeof Re=="number"?"".concat(Re,"px"):Re,height:typeof Re=="number"?"".concat(Re,"px"):Re,fontSize:"".concat(Re*.15+6,"px")}}),at=za(function(){return D.strokeWidth||6}),ct=za(function(){return D.gapPosition||D.type==="dashboard"&&"bottom"||"top"}),He=za(function(){return Cq(D)}),Ft=za(function(){return Object.prototype.toString.call(D.strokeColor)==="[object Object]"}),Te=za(function(){return xq({success:D.success,strokeColor:D.strokeColor})}),se=za(function(){var Re;return Re={},Aa(Re,"".concat(D.prefixCls,"-inner"),!0),Aa(Re,"".concat(D.prefixCls,"-circle-gradient"),Ft.value),Re});return function(){var Re;return rr("div",{class:se.value,style:Pe.value},[rr(wq,{percent:He.value,strokeWidth:at.value,trailWidth:at.value,strokeColor:Te.value,strokeLinecap:D.strokeLinecap,trailColor:D.trailColor,prefixCls:D.prefixCls,gapDegree:ue.value,gapPosition:ct.value},null),(Re=oe.default)===null||Re===void 0?void 0:Re.call(oe)])}}}),kq=_o(_o({},IA()),{steps:$o.number,size:{type:String},strokeColor:$o.string,trailColor:$o.string}),Eq=Is({props:kq,setup:function(D,X){var oe=X.slots,ue=za(function(){return Math.round(D.steps*((D.percent||0)/100))}),Pe=za(function(){return D.size==="small"?2:14}),at=za(function(){for(var ct=D.steps,He=D.strokeWidth,Ft=He===void 0?8:He,Te=D.strokeColor,se=D.trailColor,Re=D.prefixCls,Be=[],Xe=0;Xe<ct;Xe+=1){var ve,yt=(ve={},Aa(ve,"".concat(Re,"-steps-item"),!0),Aa(ve,"".concat(Re,"-steps-item-active"),Xe<=ue.value-1),ve);Be.push(rr("div",{key:Xe,class:yt,style:{backgroundColor:Xe<=ue.value-1?Te:se,width:"".concat(Pe.value,"px"),height:"".concat(Ft,"px")}},null))}return Be});return function(){var ct;return rr("div",{class:"".concat(D.prefixCls,"-steps-outer")},[at.value,(ct=oe.default)===null||ct===void 0?void 0:ct.call(oe)])}}}),Tq=Is({name:"AProgress",props:ix(IA(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:0,strokeLinecap:"round"}),slots:["format"],setup:function(D,X){var oe=X.slots,ue=RA("progress",D),Pe=ue.prefixCls,at=ue.direction;tx(D.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var ct=za(function(){var se,Re=D.type,Be=D.showInfo,Xe=D.size,ve=Pe.value;return se={},Aa(se,ve,!0),Aa(se,"".concat(ve,"-").concat(Re==="dashboard"&&"circle"||Re),!0),Aa(se,"".concat(ve,"-show-info"),Be),Aa(se,"".concat(ve,"-").concat(Xe),Xe),Aa(se,"".concat(ve,"-rtl"),at.value==="rtl"),se}),He=za(function(){var se=D.percent,Re=se===void 0?0:se,Be=MA(D);return parseInt(Be!==void 0?Be.toString():Re.toString(),10)}),Ft=za(function(){var se=D.status;return Dz.indexOf(se)<0&&He.value>=100?"success":se||"normal"}),Te=function(){var Re=D.showInfo,Be=D.format,Xe=D.type,ve=D.percent,yt=D.title,Qe=MA(D);if(!Re)return null;var Vt,I=Be||(oe==null?void 0:oe.format)||function(we){return"".concat(we,"%")},je=Xe==="line";return Be||(oe==null?void 0:oe.format)||Ft.value!=="exception"&&Ft.value!=="success"?Vt=I(kh(ve),kh(Qe)):Ft.value==="exception"?Vt=je?rr(ZW,null,null):rr(JW,null,null):Ft.value==="success"&&(Vt=je?rr(QW,null,null):rr(Lj,null,null)),rr("span",{class:"".concat(Pe.value,"-text"),title:yt===void 0&&typeof Vt=="string"?Vt:void 0},[Vt])};return function(){var se=D.type,Re=D.steps,Be=D.strokeColor,Xe=D.title,ve=Te(),yt;se==="line"?yt=Re?rr(Eq,po(po({},D),{},{strokeColor:typeof Be=="string"?Be:void 0,prefixCls:Pe.value,steps:Re}),{default:function(){return[ve]}}):rr(gq,po(po({},D),{},{prefixCls:Pe.value}),{default:function(){return[ve]}}):(se==="circle"||se==="dashboard")&&(yt=rr(Sq,po(po({},D),{},{prefixCls:Pe.value}),{default:function(){return[ve]}}));var Qe=_o(_o({},ct.value),Aa({},"".concat(Pe.value,"-status-").concat(Ft.value),!0));return rr("div",{class:Qe,title:Xe},[yt])}}}),Oq=ej(Tq);function Aq(Y,D){var X="cannot ".concat(Y.method," ").concat(Y.action," ").concat(D.status,"'"),oe=new Error(X);return oe.status=D.status,oe.method=Y.method,oe.url=Y.action,oe}function yz(Y){var D=Y.responseText||Y.response;if(!D)return D;try{return JSON.parse(D)}catch(X){return D}}function Dq(Y){var D=new XMLHttpRequest;Y.onProgress&&D.upload&&(D.upload.onprogress=function(Pe){Pe.total>0&&(Pe.percent=Pe.loaded/Pe.total*100),Y.onProgress(Pe)});var X=new FormData;Y.data&&Object.keys(Y.data).forEach(function(ue){var Pe=Y.data[ue];if(Array.isArray(Pe)){Pe.forEach(function(at){X.append("".concat(ue,"[]"),at)});return}X.append(ue,Pe)}),Y.file instanceof Blob?X.append(Y.filename,Y.file,Y.file.name):X.append(Y.filename,Y.file),D.onerror=function(Pe){Y.onError(Pe)},D.onload=function(){return D.status<200||D.status>=300?Y.onError(Aq(Y,D),yz(D)):Y.onSuccess(yz(D),D)},D.open(Y.method,Y.action,!0),Y.withCredentials&&"withCredentials"in D&&(D.withCredentials=!0);var oe=Y.headers||{};return oe["X-Requested-With"]!==null&&D.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(oe).forEach(function(ue){oe[ue]!==null&&D.setRequestHeader(ue,oe[ue])}),D.send(X),{abort:function(){D.abort()}}}var _q=+new Date,Pq=0;function ZN(){return"vc-upload-".concat(_q,"-").concat(++Pq)}var JN=function(Y,D){if(Y&&D){var X=Array.isArray(D)?D:D.split(","),oe=Y.name||"",ue=Y.type||"",Pe=ue.replace(/\/.*$/,"");return X.some(function(at){var ct=at.trim();if(/^\*(\/\*)?$/.test(at))return!0;if(ct.charAt(0)==="."){var He=oe.toLowerCase(),Ft=ct.toLowerCase(),Te=[Ft];return(Ft===".jpg"||Ft===".jpeg")&&(Te=[".jpg",".jpeg"]),Te.some(function(se){return He.endsWith(se)})}return/\/\*$/.test(ct)?Pe===ct.replace(/\/.*$/,""):ue===ct?!0:/^\w+$/.test(ct)?(tj(!1,"Upload takes an invalidate 'accept' type '".concat(ct,"'.Skip for check.")),!0):!1})}return!0};function Bq(Y,D){var X=Y.createReader(),oe=[];function ue(){X.readEntries(function(Pe){var at=Array.prototype.slice.apply(Pe);oe=oe.concat(at);var ct=!at.length;ct?D(oe):ue()})}ue()}var Fq=function(D,X,oe){var ue=function Pe(at,ct){at.path=ct||"",at.isFile?at.file(function(He){oe(He)&&(at.fullPath&&!He.webkitRelativePath&&(Object.defineProperties(He,{webkitRelativePath:{writable:!0}}),He.webkitRelativePath=at.fullPath.replace(/^\//,""),Object.defineProperties(He,{webkitRelativePath:{writable:!1}})),X([He]))}):at.isDirectory&&Bq(at,function(He){He.forEach(function(Ft){Pe(Ft,"".concat(ct).concat(at.name,"/"))})})};D.forEach(function(Pe){ue(Pe.webkitGetAsEntry())})},Mq=Fq,_z=function(){return{capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function}};function Rq(Y,D,X,oe){for(var ue=-1,Pe=Y==null?0:Y.length;++ue<Pe;){var at=Y[ue];D(oe,at,X(at),Y)}return oe}function Nq(Y){return function(D,X,oe){for(var ue=-1,Pe=Object(D),at=oe(D),ct=at.length;ct--;){var He=at[Y?ct:++ue];if(X(Pe[He],He,Pe)===!1)break}return D}}var Iq=Nq(),$q=Iq;function zq(Y,D){return Y&&$q(Y,D,nj)}function Lq(Y,D){return function(X,oe){if(X==null)return X;if(!rj(X))return Y(X,oe);for(var ue=X.length,Pe=D?ue:-1,at=Object(X);(D?Pe--:++Pe<ue)&&oe(at[Pe],Pe,at)!==!1;);return X}}var Hq=Lq(zq),Vq=Hq;function Uq(Y,D,X,oe){return Vq(Y,function(ue,Pe,at){D(oe,ue,X(ue),at)}),oe}function Wq(Y,D){return function(X,oe){var ue=aj(X)?Rq:Uq,Pe=D?D():{};return ue(X,Y,$j(oe),Pe)}}var jq=Wq(function(Y,D,X){Y[X?0:1].push(D)},function(){return[[],[]]}),qq=jq,Gq=globalThis&&globalThis.__awaiter||function(Y,D,X,oe){function ue(Pe){return Pe instanceof X?Pe:new X(function(at){at(Pe)})}return new(X||(X=Promise))(function(Pe,at){function ct(Te){try{Ft(oe.next(Te))}catch(se){at(se)}}function He(Te){try{Ft(oe.throw(Te))}catch(se){at(se)}}function Ft(Te){Te.done?Pe(Te.value):ue(Te.value).then(ct,He)}Ft((oe=oe.apply(Y,D||[])).next())})},Kq=globalThis&&globalThis.__rest||function(Y,D){var X={};for(var oe in Y)Object.prototype.hasOwnProperty.call(Y,oe)&&D.indexOf(oe)<0&&(X[oe]=Y[oe]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,oe=Object.getOwnPropertySymbols(Y);ue<oe.length;ue++)D.indexOf(oe[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,oe[ue])&&(X[oe[ue]]=Y[oe[ue]]);return X},Xq=Is({name:"AjaxUploader",inheritAttrs:!1,props:_z(),setup:function(D,X){var oe=this,ue=X.slots,Pe=X.attrs,at=X.expose,ct=qu(ZN()),He={},Ft=qu(),Te=!1,se=function(we,St){return Gq(oe,void 0,void 0,BA.mark(function et(){var Ae,Ue,Ee,Je,$,ae,Oe,Kt,Ie;return BA.wrap(function(an){for(;;)switch(an.prev=an.next){case 0:if(Ae=D.beforeUpload,Ue=we,!Ae){an.next=14;break}return an.prev=3,an.next=6,Ae(we,St);case 6:Ue=an.sent,an.next=12;break;case 9:an.prev=9,an.t0=an.catch(3),Ue=!1;case 12:if(Ue!==!1){an.next=14;break}return an.abrupt("return",{origin:we,parsedFile:null,action:null,data:null});case 14:if(Ee=D.action,typeof Ee!="function"){an.next=21;break}return an.next=18,Ee(we);case 18:Je=an.sent,an.next=22;break;case 21:Je=Ee;case 22:if($=D.data,typeof $!="function"){an.next=29;break}return an.next=26,$(we);case 26:ae=an.sent,an.next=30;break;case 29:ae=$;case 30:return Oe=(kz(Ue)==="object"||typeof Ue=="string")&&Ue?Ue:we,Oe instanceof File?Kt=Oe:Kt=new File([Oe],we.name,{type:we.type}),Ie=Kt,Ie.uid=we.uid,an.abrupt("return",{origin:we,data:ae,parsedFile:Ie,action:Je});case 35:case"end":return an.stop()}},et,null,[[3,9]])}))},Re=function(we){var St=we.data,et=we.origin,Ae=we.action,Ue=we.parsedFile;if(!!Te){var Ee=D.onStart,Je=D.customRequest,$=D.name,ae=D.headers,Oe=D.withCredentials,Kt=D.method,Ie=et.uid,cn=Je||Dq,an={action:Ae,filename:$,data:St,file:Ue,headers:ae,withCredentials:Oe,method:Kt||"post",onProgress:function(rt){var ft=D.onProgress;ft==null||ft(rt,Ue)},onSuccess:function(rt,ft){var jt=D.onSuccess;jt==null||jt(rt,Ue,ft),delete He[Ie]},onError:function(rt,ft){var jt=D.onError;jt==null||jt(rt,ft,Ue),delete He[Ie]}};Ee(et),He[Ie]=cn(an)}},Be=function(){ct.value=ZN()},Xe=function(we){if(we){var St=we.uid?we.uid:we;He[St]&&He[St].abort&&He[St].abort(),delete He[St]}else Object.keys(He).forEach(function(et){He[et]&&He[et].abort&&He[et].abort(),delete He[et]})};NA(function(){Te=!0}),cI(function(){Te=!1,Xe()});var ve=function(we){var St=ax(we),et=St.map(function(Ae){return Ae.uid=ZN(),se(Ae,St)});Promise.all(et).then(function(Ae){var Ue=D.onBatchStart;Ue==null||Ue(Ae.map(function(Ee){var Je=Ee.origin,$=Ee.parsedFile;return{file:Je,parsedFile:$}})),Ae.filter(function(Ee){return Ee.parsedFile!==null}).forEach(function(Ee){Re(Ee)})})},yt=function(we){var St=D.accept,et=D.directory,Ae=we.target.files,Ue=ax(Ae).filter(function(Ee){return!et||JN(Ee,St)});ve(Ue),Be()},Qe=function(we){var St=Ft.value;if(!!St){var et=D.onClick;St.click(),et&&et(we)}},Vt=function(we){we.key==="Enter"&&Qe(we)},I=function(we){var St=D.multiple;if(we.preventDefault(),we.type!=="dragover")if(D.directory)Mq(Array.prototype.slice.call(we.dataTransfer.items),ve,function(Ee){return JN(Ee,D.accept)});else{var et=qq(Array.prototype.slice.call(we.dataTransfer.files),function(Ee){return JN(Ee,D.accept)}),Ae=et[0],Ue=et[1];St===!1&&(Ae=Ae.slice(0,1)),ve(Ae),Ue.length&&D.onReject&&D.onReject(Ue)}};return at({abort:Xe}),function(){var je,we,St=D.componentTag,et=D.prefixCls,Ae=D.disabled,Ue=D.id,Ee=D.multiple,Je=D.accept,$=D.capture,ae=D.directory,Oe=D.openFileDialogOnClick,Kt=D.onMouseenter,Ie=D.onMouseleave,cn=Kq(D,["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"]),an=(je={},Aa(je,et,!0),Aa(je,"".concat(et,"-disabled"),Ae),Aa(je,Pe.class,!!Pe.class),je),C=ae?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},rt=Ae?{}:{onClick:Oe?Qe:function(){},onKeydown:Oe?Vt:function(){},onMouseenter:Kt,onMouseleave:Ie,onDrop:I,onDragover:I,tabindex:"0"};return rr(St,po(po({},rt),{},{class:an,role:"button",style:Pe.style}),{default:function(){return[rr("input",po(po(po({},oj(cn,{aria:!0,data:!0})),{},{id:Ue,type:"file",ref:Ft,onClick:function(ze){return ze.stopPropagation()},key:ct.value,style:{display:"none"},accept:Je},C),{},{multiple:Ee,onChange:yt},$!=null?{capture:$}:{}),null),(we=ue.default)===null||we===void 0?void 0:we.call(ue)]}})}}});function QN(){}var wz=Is({name:"Upload",inheritAttrs:!1,props:ix(_z(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:QN,onError:QN,onSuccess:QN,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup:function(D,X){var oe=X.slots,ue=X.attrs,Pe=X.expose,at=qu(),ct=function(Ft){var Te;(Te=at.value)===null||Te===void 0||Te.abort(Ft)};return Pe({abort:ct}),function(){return rr(Xq,po(po(po({},D),ue),{},{ref:at}),oe)}}});function Pz(){return{capture:[Boolean,String],type:String,name:String,defaultFileList:Array,fileList:Array,action:[String,Function],directory:{type:Boolean,default:void 0},data:[Object,Function],method:String,headers:Object,showUploadList:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},accept:String,beforeUpload:Function,onChange:Function,"onUpdate:fileList":Function,onDrop:Function,listType:String,onPreview:Function,onDownload:Function,onReject:Function,onRemove:Function,remove:Function,supportServerRender:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},prefixCls:String,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},id:String,previewFile:Function,transformFile:Function,iconRender:Function,isImageUrl:Function,progress:Object,itemRender:Function,maxCount:Number,height:[Number,String],removeIcon:Function,downloadIcon:Function,previewIcon:Function}}function Yq(){return{listType:String,onPreview:Function,onDownload:Function,onRemove:Function,items:Array,progress:Object,prefixCls:String,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,locale:{type:Object,default:void 0},previewFile:Function,iconRender:Function,isImageUrl:Function,appendAction:Function,appendActionVisible:{type:Boolean,default:void 0},itemRender:Function}}function DA(Y){return _o(_o({},Y),{lastModified:Y.lastModified,lastModifiedDate:Y.lastModifiedDate,name:Y.name,size:Y.size,type:Y.type,uid:Y.uid,percent:0,originFileObj:Y})}function _A(Y,D){var X=ax(D),oe=X.findIndex(function(ue){var Pe=ue.uid;return Pe===Y.uid});return oe===-1?X.push(Y):X[oe]=Y,X}function eI(Y,D){var X=Y.uid!==void 0?"uid":"name";return D.filter(function(oe){return oe[X]===Y[X]})[0]}function Zq(Y,D){var X=Y.uid!==void 0?"uid":"name",oe=D.filter(function(ue){return ue[X]!==Y[X]});return oe.length===D.length?null:oe}var Jq=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",X=D.split("/"),oe=X[X.length-1],ue=oe.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(ue)||[""])[0]},Bz=function(D){return D.indexOf("image/")===0},Qq=function(D){if(D.type&&!D.thumbUrl)return Bz(D.type);var X=D.thumbUrl||D.url||"",oe=Jq(X);return/^data:image\//.test(X)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(oe)?!0:!(/^data:/.test(X)||oe)},Cm=200;function eG(Y){return new Promise(function(D){if(!Y.type||!Bz(Y.type)){D("");return}var X=document.createElement("canvas");X.width=Cm,X.height=Cm,X.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(Cm,"px; height: ").concat(Cm,"px; z-index: 9999; display: none;"),document.body.appendChild(X);var oe=X.getContext("2d"),ue=new Image;ue.onload=function(){var Pe=ue.width,at=ue.height,ct=Cm,He=Cm,Ft=0,Te=0;Pe>at?(He=at*(Cm/Pe),Te=-(He-ct)/2):(ct=Pe*(Cm/at),Ft=-(ct-He)/2),oe.drawImage(ue,Ft,Te,ct,He);var se=X.toDataURL();document.body.removeChild(X),D(se)},ue.src=window.URL.createObjectURL(Y)})}var tG=function(){return{prefixCls:String,locale:{type:Object,default:void 0},file:Object,items:Array,listType:String,isImgUrl:Function,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,iconRender:Function,actionIconRender:Function,itemRender:Function,onPreview:Function,onClose:Function,onDownload:Function,progress:Object}},nG=Is({name:"ListItem",inheritAttrs:!1,props:tG(),setup:function(D,X){var oe=X.slots,ue=X.attrs,Pe=qu(!1),at=qu();NA(function(){at.value=setTimeout(function(){Pe.value=!0},300)}),cI(function(){clearTimeout(at.value)});var ct=RA("upload",D),He=ct.rootPrefixCls,Ft=za(function(){return ij("".concat(He.value,"-fade"))});return function(){var Te,se,Re,Be,Xe=D.prefixCls,ve=D.locale,yt=D.listType,Qe=D.file,Vt=D.items,I=D.progress,je=D.iconRender,we=je===void 0?oe.iconRender:je,St=D.actionIconRender,et=St===void 0?oe.actionIconRender:St,Ae=D.itemRender,Ue=Ae===void 0?oe.itemRender:Ae,Ee=D.isImgUrl,Je=D.showPreviewIcon,$=D.showRemoveIcon,ae=D.showDownloadIcon,Oe=D.previewIcon,Kt=Oe===void 0?oe.previewIcon:Oe,Ie=D.removeIcon,cn=Ie===void 0?oe.removeIcon:Ie,an=D.downloadIcon,C=an===void 0?oe.downloadIcon:an,rt=D.onPreview,ft=D.onDownload,jt=D.onClose,ze=ue.class,Yt=ue.style,Zt="".concat(Xe,"-span"),Qt=we({file:Qe}),z=rr("div",{class:"".concat(Xe,"-text-icon")},[Qt]);if(yt==="picture"||yt==="picture-card")if(Qe.status==="uploading"||!Qe.thumbUrl&&!Qe.url){var Wn,dt=(Wn={},Aa(Wn,"".concat(Xe,"-list-item-thumbnail"),!0),Aa(Wn,"".concat(Xe,"-list-item-file"),Qe.status!=="uploading"),Wn);z=rr("div",{class:dt},[Qt])}else{var Fe,vn=Ee!=null&&Ee(Qe)?rr("img",{src:Qe.thumbUrl||Qe.url,alt:Qe.name,class:"".concat(Xe,"-list-item-image")},null):Qt,Ne=(Fe={},Aa(Fe,"".concat(Xe,"-list-item-thumbnail"),!0),Aa(Fe,"".concat(Xe,"-list-item-file"),Ee&&!Ee(Qe)),Fe);z=rr("a",{class:Ne,onClick:function(Pt){return rt(Qe,Pt)},href:Qe.url||Qe.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[vn])}var De=(Te={},Aa(Te,"".concat(Xe,"-list-item"),!0),Aa(Te,"".concat(Xe,"-list-item-").concat(Qe.status),!0),Aa(Te,"".concat(Xe,"-list-item-list-type-").concat(yt),!0),Te),nt=typeof Qe.linkProps=="string"?JSON.parse(Qe.linkProps):Qe.linkProps,Dt=$?et({customIcon:cn?cn({file:Qe}):rr(qj,null,null),callback:function(){return jt(Qe)},prefixCls:Xe,title:ve.removeFile}):null,ot=ae&&Qe.status==="done"?et({customIcon:C?C({file:Qe}):rr(Yj,null,null),callback:function(){return ft(Qe)},prefixCls:Xe,title:ve.downloadFile}):null,pt=yt!=="picture-card"&&rr("span",{key:"download-delete",class:["".concat(Xe,"-list-item-card-actions"),{picture:yt==="picture"}]},[ot,Dt]),$n="".concat(Xe,"-list-item-name"),le=Qe.url?[rr("a",po(po({key:"view",target:"_blank",rel:"noopener noreferrer",class:$n,title:Qe.name},nt),{},{href:Qe.url,onClick:function(Pt){return rt(Qe,Pt)}}),[Qe.name]),pt]:[rr("span",{key:"view",class:$n,onClick:function(Pt){return rt(Qe,Pt)},title:Qe.name},[Qe.name]),pt],vt={pointerEvents:"none",opacity:.5},ln=Je?rr("a",{href:Qe.url||Qe.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:Qe.url||Qe.thumbUrl?void 0:vt,onClick:function(Pt){return rt(Qe,Pt)},title:ve.previewFile},[Kt?Kt({file:Qe}):rr(zj,null,null)]):null,En=yt==="picture-card"&&Qe.status!=="uploading"&&rr("span",{class:"".concat(Xe,"-list-item-actions")},[ln,Qe.status==="done"&&ot,Dt]),Fn;Qe.response&&typeof Qe.response=="string"?Fn=Qe.response:Fn=((Re=Qe.error)===null||Re===void 0?void 0:Re.statusText)||((Be=Qe.error)===null||Be===void 0?void 0:Be.message)||ve.uploadError;var jn=rr("span",{class:Zt},[z,le]),Sr=rr("div",{class:De},[rr("div",{class:"".concat(Xe,"-list-item-info")},[jn]),En,Pe.value&&rr(uj,Ft.value,{default:function(){return[lI(rr("div",{class:"".concat(Xe,"-list-item-progress")},["percent"in Qe?rr(Oq,po(po({},I),{},{type:"line",percent:Qe.percent}),null):null]),[[fI,Qe.status==="uploading"]])]}})]),Rr=(se={},Aa(se,"".concat(Xe,"-list-").concat(yt,"-container"),!0),Aa(se,"".concat(ze),!!ze),se),qr=Qe.status==="error"?rr(sj,{title:Fn,getPopupContainer:function(Pt){return Pt.parentNode}},{default:function(){return[Sr]}}):Sr;return rr("div",{class:Rr,style:Yt,ref:qu},[Ue?Ue({originNode:qr,file:Qe,fileList:Vt,actions:{download:ft.bind(null,Qe),preview:rt.bind(null,Qe),remove:jt.bind(null,Qe)}}):qr])}}}),rG=function(D,X){var oe=X.slots,ue;return mj((ue=oe.default)===null||ue===void 0?void 0:ue.call(oe))[0]},aG=Is({name:"AUploadList",props:ix(Yq(),{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:eG,isImageUrl:Qq,items:[],appendActionVisible:!0}),setup:function(D,X){var oe=X.slots,ue=X.expose,Pe=qu(!1),at=cj();NA(function(){Pe.value==!0}),lj(function(){D.listType!=="picture"&&D.listType!=="picture-card"||(D.items||[]).forEach(function(Qe){typeof document=="undefined"||typeof window=="undefined"||!window.FileReader||!window.File||!(Qe.originFileObj instanceof File||Qe.originFileObj instanceof Blob)||Qe.thumbUrl!==void 0||(Qe.thumbUrl="",D.previewFile&&D.previewFile(Qe.originFileObj).then(function(Vt){Qe.thumbUrl=Vt||"",at.update()}))})});var ct=function(Vt,I){if(!!D.onPreview)return I==null||I.preventDefault(),D.onPreview(Vt)},He=function(Vt){typeof D.onDownload=="function"?D.onDownload(Vt):Vt.url&&window.open(Vt.url)},Ft=function(Vt){var I;(I=D.onRemove)===null||I===void 0||I.call(D,Vt)},Te=function(Vt){var I=Vt.file,je=D.iconRender||oe.iconRender;if(je)return je({file:I,listType:D.listType});var we=I.status==="uploading",St=D.isImageUrl&&D.isImageUrl(I)?rr(sq,null,null):rr(eq,null,null),et=we?rr(cz,null,null):rr(aq,null,null);return D.listType==="picture"?et=we?rr(cz,null,null):St:D.listType==="picture-card"&&(et=we?D.locale.uploading:St),et},se=function(Vt){var I=Vt.customIcon,je=Vt.callback,we=Vt.prefixCls,St=Vt.title,et={type:"text",size:"small",title:St,onClick:function(){je()},class:"".concat(we,"-list-item-card-actions-btn")};return gj(I)?rr(oI,et,{icon:function(){return I}}):rr(oI,et,{default:function(){return[rr("span",null,[I])]}})};ue({handlePreview:ct,handleDownload:He});var Re=RA("upload",D),Be=Re.prefixCls,Xe=Re.direction,ve=za(function(){var Qe;return Qe={},Aa(Qe,"".concat(Be.value,"-list"),!0),Aa(Qe,"".concat(Be.value,"-list-").concat(D.listType),!0),Aa(Qe,"".concat(Be.value,"-list-rtl"),Xe.value==="rtl"),Qe}),yt=za(function(){return _o(_o(_o({},fj("".concat(Be.value,"-").concat(D.listType==="picture-card"?"animate-inline":"animate"))),vj("".concat(Be.value,"-").concat(D.listType==="picture-card"?"animate-inline":"animate"))),{class:ve.value,appear:Pe.value})});return function(){var Qe=D.listType,Vt=D.locale,I=D.isImageUrl,je=D.items,we=je===void 0?[]:je,St=D.showPreviewIcon,et=D.showRemoveIcon,Ae=D.showDownloadIcon,Ue=D.removeIcon,Ee=D.previewIcon,Je=D.downloadIcon,$=D.progress,ae=D.appendAction,Oe=D.itemRender,Kt=D.appendActionVisible,Ie=ae==null?void 0:ae();return rr(dj,po(po({},yt.value),{},{tag:"div"}),{default:function(){return[we.map(function(an){var C=an.uid;return rr(nG,{key:C,locale:Vt,prefixCls:Be.value,file:an,items:we,progress:$,listType:Qe,isImgUrl:I,showPreviewIcon:St,showRemoveIcon:et,showDownloadIcon:Ae,onPreview:ct,onDownload:He,onClose:Ft,removeIcon:Ue,previewIcon:Ee,downloadIcon:Je,itemRender:Oe},_o(_o({},oe),{iconRender:Te,actionIconRender:se}))}),ae?lI(rr(rG,{key:"__ant_upload_appendAction"},{default:function(){return Ie}}),[[fI,!!Kt]]):null]}})}}}),oG=globalThis&&globalThis.__awaiter||function(Y,D,X,oe){function ue(Pe){return Pe instanceof X?Pe:new X(function(at){at(Pe)})}return new(X||(X=Promise))(function(Pe,at){function ct(Te){try{Ft(oe.next(Te))}catch(se){at(se)}}function He(Te){try{Ft(oe.throw(Te))}catch(se){at(se)}}function Ft(Te){Te.done?Pe(Te.value):ue(Te.value).then(ct,He)}Ft((oe=oe.apply(Y,D||[])).next())})},ex="__LIST_IGNORE_".concat(Date.now(),"__"),PA=Is({name:"AUpload",inheritAttrs:!1,props:ix(Pz(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",disabled:!1,supportServerRender:!0}),setup:function(D,X){var oe=this,ue=X.slots,Pe=X.attrs,at=X.expose,ct=Vj(),He=hj(D.defaultFileList||[],{value:pj(D,"fileList"),postState:function(Oe){var Kt=Date.now();return(Oe!=null?Oe:[]).map(function(Ie,cn){return!Ie.uid&&!Object.isFrozen(Ie)&&(Ie.uid="__AUTO__".concat(Kt,"_").concat(cn,"__")),Ie})}}),Ft=aI(He,2),Te=Ft[0],se=Ft[1],Re=qu("drop"),Be=qu();NA(function(){tx(D.fileList!==void 0||Pe.value===void 0,"Upload","`value` is not a valid prop, do you mean `fileList`?"),tx(D.transformFile===void 0,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),tx(D.remove===void 0,"Upload","`remove` props is deprecated. Please use `remove` event.")});var Xe=function(Oe,Kt,Ie){var cn,an,C=ax(Kt);D.maxCount===1?C=C.slice(-1):D.maxCount&&(C=C.slice(0,D.maxCount)),se(C);var rt={file:Oe,fileList:C};Ie&&(rt.event=Ie),(cn=D["onUpdate:fileList"])===null||cn===void 0||cn.call(D,rt.fileList),(an=D.onChange)===null||an===void 0||an.call(D,rt),ct.onFieldChange()},ve=function(Oe,Kt){return oG(oe,void 0,void 0,BA.mark(function Ie(){var cn,an,C,rt;return BA.wrap(function(jt){for(;;)switch(jt.prev=jt.next){case 0:if(cn=D.beforeUpload,an=D.transformFile,C=Oe,!cn){jt.next=13;break}return jt.next=5,cn(Oe,Kt);case 5:if(rt=jt.sent,rt!==!1){jt.next=8;break}return jt.abrupt("return",!1);case 8:if(delete Oe[ex],rt!==ex){jt.next=12;break}return Object.defineProperty(Oe,ex,{value:!0,configurable:!0}),jt.abrupt("return",!1);case 12:kz(rt)==="object"&&rt&&(C=rt);case 13:if(!an){jt.next=17;break}return jt.next=16,an(C);case 16:C=jt.sent;case 17:return jt.abrupt("return",C);case 18:case"end":return jt.stop()}},Ie)}))},yt=function(Oe){var Kt=Oe.filter(function(an){return!an.file[ex]});if(!!Kt.length){var Ie=Kt.map(function(an){return DA(an.file)}),cn=ax(Te.value);Ie.forEach(function(an){cn=_A(an,cn)}),Ie.forEach(function(an,C){var rt=an;if(Kt[C].parsedFile)an.status="uploading";else{var ft=an.originFileObj,jt;try{jt=new File([ft],ft.name,{type:ft.type})}catch(ze){jt=new Blob([ft],{type:ft.type}),jt.name=ft.name,jt.lastModifiedDate=new Date,jt.lastModified=new Date().getTime()}jt.uid=an.uid,rt=jt}Xe(rt,cn)})}},Qe=function(Oe,Kt,Ie){try{typeof Oe=="string"&&(Oe=JSON.parse(Oe))}catch(C){}if(!!eI(Kt,Te.value)){var cn=DA(Kt);cn.status="done",cn.percent=100,cn.response=Oe,cn.xhr=Ie;var an=_A(cn,Te.value);Xe(cn,an)}},Vt=function(Oe,Kt){if(!!eI(Kt,Te.value)){var Ie=DA(Kt);Ie.status="uploading",Ie.percent=Oe.percent;var cn=_A(Ie,Te.value);Xe(Ie,cn,Oe)}},I=function(Oe,Kt,Ie){if(!!eI(Ie,Te.value)){var cn=DA(Ie);cn.error=Oe,cn.response=Kt,cn.status="error";var an=_A(cn,Te.value);Xe(cn,an)}},je=function(Oe){var Kt,Ie=D.onRemove||D.remove;Promise.resolve(typeof Ie=="function"?Ie(Oe):Ie).then(function(cn){var an,C;if(cn!==!1){var rt=Zq(Oe,Te.value);rt&&(Kt=_o(_o({},Oe),{status:"removed"}),(an=Te.value)===null||an===void 0||an.forEach(function(ft){var jt=Kt.uid!==void 0?"uid":"name";ft[jt]===Kt[jt]&&!Object.isFrozen(ft)&&(ft.status="removed")}),(C=Be.value)===null||C===void 0||C.abort(Kt),Xe(Kt,rt))}})},we=function(Oe){var Kt;Re.value=Oe.type,Oe.type==="drop"&&((Kt=D.onDrop)===null||Kt===void 0||Kt.call(D,Oe))};at({onBatchStart:yt,onSuccess:Qe,onProgress:Vt,onError:I,fileList:Te,upload:Be});var St=RA("upload",D),et=St.prefixCls,Ae=St.direction,Ue=bj("Upload",yj.Upload,za(function(){return D.locale})),Ee=aI(Ue,1),Je=Ee[0],$=function(Oe,Kt){var Ie=D.removeIcon,cn=D.previewIcon,an=D.downloadIcon,C=D.previewFile,rt=D.onPreview,ft=D.onDownload,jt=D.disabled,ze=D.isImageUrl,Yt=D.progress,Zt=D.itemRender,Qt=D.iconRender,z=D.showUploadList,Wn=typeof z=="boolean"?{}:z,dt=Wn.showDownloadIcon,Fe=Wn.showPreviewIcon,vn=Wn.showRemoveIcon;return z?rr(aG,{listType:D.listType,items:Te.value,previewFile:C,onPreview:rt,onDownload:ft,onRemove:je,showRemoveIcon:!jt&&vn,showPreviewIcon:Fe,showDownloadIcon:dt,removeIcon:Ie,previewIcon:cn,downloadIcon:an,iconRender:Qt,locale:Je.value,isImageUrl:ze,progress:Yt,itemRender:Zt,appendActionVisible:Kt,appendAction:Oe},_o({},ue)):Oe==null?void 0:Oe()};return function(){var ae,Oe,Kt,Ie,cn=D.listType,an=D.disabled,C=D.type,rt=_o(_o({onBatchStart:yt,onError:I,onProgress:Vt,onSuccess:Qe},D),{id:(Oe=D.id)!==null&&Oe!==void 0?Oe:ct.id.value,prefixCls:et.value,beforeUpload:ve,onChange:void 0});if(delete rt.remove,(!ue.default||an)&&delete rt.id,C==="drag"){var ft,jt=KN(et.value,(ft={},Aa(ft,"".concat(et.value,"-drag"),!0),Aa(ft,"".concat(et.value,"-drag-uploading"),Te.value.some(function(Qt){return Qt.status==="uploading"})),Aa(ft,"".concat(et.value,"-drag-hover"),Re.value==="dragover"),Aa(ft,"".concat(et.value,"-disabled"),an),Aa(ft,"".concat(et.value,"-rtl"),Ae.value==="rtl"),ft),Pe.class);return rr("span",null,[rr("div",{class:jt,onDrop:we,onDragover:we,onDragleave:we,style:Pe.style},[rr(wz,po(po({},rt),{},{ref:Be,class:"".concat(et.value,"-btn")}),po({default:function(){return[rr("div",{class:"".concat(et,"-drag-container")},[(Kt=ue.default)===null||Kt===void 0?void 0:Kt.call(ue)])]}},ue))]),$()])}var ze=KN(et.value,(ae={},Aa(ae,"".concat(et.value,"-select"),!0),Aa(ae,"".concat(et.value,"-select-").concat(cn),!0),Aa(ae,"".concat(et.value,"-disabled"),an),Aa(ae,"".concat(et.value,"-rtl"),Ae.value==="rtl"),ae)),Yt=wj((Ie=ue.default)===null||Ie===void 0?void 0:Ie.call(ue)),Zt=function(z){return rr("div",{class:ze,style:z},[rr(wz,po(po({},rt),{},{ref:Be}),ue)])};return cn==="picture-card"?rr("span",{class:KN("".concat(et.value,"-picture-card-wrapper"),Pe.class)},[$(Zt,!!(Yt&&Yt.length))]):rr("span",{class:Pe.class},[Zt(Yt&&Yt.length?void 0:{display:"none"}),$()])}}}),Cz=globalThis&&globalThis.__rest||function(Y,D){var X={};for(var oe in Y)Object.prototype.hasOwnProperty.call(Y,oe)&&D.indexOf(oe)<0&&(X[oe]=Y[oe]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,oe=Object.getOwnPropertySymbols(Y);ue<oe.length;ue++)D.indexOf(oe[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,oe[ue])&&(X[oe[ue]]=Y[oe[ue]]);return X},tI=Is({name:"AUploadDragger",inheritAttrs:!1,props:Pz(),setup:function(D,X){var oe=X.slots,ue=X.attrs;return function(){var Pe=D.height,at=Cz(D,["height"]),ct=ue.style,He=Cz(ue,["style"]),Ft=_o(_o(_o({},at),He),{type:"drag",style:_o(_o({},ct),{height:typeof Pe=="number"?"".concat(Pe,"px"):Pe})});return rr(PA,Ft,oe)}}}),iG=_o(PA,{Dragger:tI,LIST_IGNORE:ex,install:function(D){return D.component(PA.name,PA),D.component(tI.name,tI),D}}),Fz={exports:{}};(function(Y){(function(){var D=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},X=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},oe=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},ue=function(e,n){return Pe(function(a,i){return e.eq(n(a),n(i))})},Pe=function(e){return{eq:e}},at=Pe(function(e,n){return e===n}),ct=at,He=function(e){return Pe(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,u=0;u<i;u++)if(!e.eq(n[u],a[u]))return!1;return!0})},Ft=function(e,n){return ue(He(e),function(a){return oe(a,n)})},Te=function(e){return Pe(function(n,a){var i=Object.keys(n),u=Object.keys(a);if(!Ft(ct).eq(i,u))return!1;for(var c=i.length,v=0;v<c;v++){var m=i[v];if(!e.eq(n[m],a[m]))return!1}return!0})},se=Pe(function(e,n){if(e===n)return!0;var a=D(e),i=D(n);return a!==i?!1:X(a)?e===n:a==="array"?He(se).eq(e,n):a==="object"?Te(se).eq(e,n):!1}),Re=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},Be=function(e){return function(n){return Re(n)===e}},Xe=function(e){return function(n){return typeof n===e}},ve=function(e){return function(n){return e===n}},yt=Be("string"),Qe=Be("object"),Vt=Be("array"),I=ve(null),je=Xe("boolean"),we=ve(void 0),St=function(e){return e==null},et=function(e){return!St(e)},Ae=Xe("function"),Ue=Xe("number"),Ee=function(){},Je=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},$=function(e,n){return function(a){return e(n(a))}},ae=function(e){return function(){return e}},Oe=function(e){return e},Kt=function(e,n){return e===n};function Ie(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var c=n.concat(i);return e.apply(null,c)}}var cn=function(e){return function(n){return!e(n)}},an=function(e){return function(){throw new Error(e)}},C=function(e){return e()},rt=function(e){e()},ft=ae(!1),jt=ae(!0),ze=function(){return Yt},Yt=function(){var e=function(i){return i()},n=Oe,a={fold:function(i,u){return i()},isSome:ft,isNone:jt,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:ae(null),getOrUndefined:ae(void 0),or:n,orThunk:e,map:ze,each:Ee,bind:ze,exists:ft,forall:jt,filter:function(){return ze()},toArray:function(){return[]},toString:ae("none()")};return a}(),Zt=function(e){var n=ae(e),a=function(){return u},i=function(c){return c(e)},u={fold:function(c,v){return v(e)},isSome:jt,isNone:ft,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(c){return Zt(c(e))},each:function(c){c(e)},bind:i,exists:i,forall:i,filter:function(c){return c(e)?u:Yt},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return u},Qt=function(e){return e==null?Yt:Zt(e)},z={some:Zt,none:ze,from:Qt},Wn=Array.prototype.slice,dt=Array.prototype.indexOf,Fe=Array.prototype.push,vn=function(e,n){return dt.call(e,n)},Ne=function(e,n){var a=vn(e,n);return a===-1?z.none():z.some(a)},De=function(e,n){return vn(e,n)>-1},nt=function(e,n){for(var a=0,i=e.length;a<i;a++){var u=e[a];if(n(u,a))return!0}return!1},Dt=function(e,n){for(var a=e.length,i=new Array(a),u=0;u<a;u++){var c=e[u];i[u]=n(c,u)}return i},ot=function(e,n){for(var a=0,i=e.length;a<i;a++){var u=e[a];n(u,a)}},pt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},$n=function(e,n){for(var a=[],i=[],u=0,c=e.length;u<c;u++){var v=e[u],m=n(v,u)?a:i;m.push(v)}return{pass:a,fail:i}},le=function(e,n){for(var a=[],i=0,u=e.length;i<u;i++){var c=e[i];n(c,i)&&a.push(c)}return a},vt=function(e,n,a){return pt(e,function(i,u){a=n(a,i,u)}),a},ln=function(e,n,a){return ot(e,function(i,u){a=n(a,i,u)}),a},En=function(e,n,a){for(var i=0,u=e.length;i<u;i++){var c=e[i];if(n(c,i))return z.some(c);if(a(c,i))break}return z.none()},Fn=function(e,n){return En(e,n,ft)},jn=function(e,n){for(var a=0,i=e.length;a<i;a++){var u=e[a];if(n(u,a))return z.some(a)}return z.none()},Sr=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Vt(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Fe.apply(n,e[a])}return n},Rr=function(e,n){return Sr(Dt(e,n))},qr=function(e,n){for(var a=0,i=e.length;a<i;++a){var u=e[a];if(n(u,a)!==!0)return!1}return!0},_t=function(e){var n=Wn.call(e,0);return n.reverse(),n},Pt=function(e,n){return le(e,function(a){return!De(n,a)})},Mt=function(e,n){for(var a={},i=0,u=e.length;i<u;i++){var c=e[i];a[String(c)]=n(c,i)}return a},Le=function(e,n){var a=Wn.call(e,0);return a.sort(n),a},Ye=function(e,n){return n>=0&&n<e.length?z.some(e[n]):z.none()},Wt=function(e){return Ye(e,0)},dn=function(e){return Ye(e,e.length-1)},Jt=Ae(Array.from)?Array.from:function(e){return Wn.call(e)},ke=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return z.none()},Rt=Object.keys,bn=Object.hasOwnProperty,un=function(e,n){for(var a=Rt(e),i=0,u=a.length;i<u;i++){var c=a[i],v=e[c];n(v,c)}},Nn=function(e,n){return fe(e,function(a,i){return{k:i,v:n(a,i)}})},fe=function(e,n){var a={};return un(e,function(i,u){var c=n(i,u);a[c.k]=c.v}),a},Ct=function(e){return function(n,a){e[a]=n}},it=function(e,n,a,i){var u={};return un(e,function(c,v){(n(c,v)?a:i)(c,v)}),u},Ut=function(e,n){var a={},i={};return it(e,n,Ct(a),Ct(i)),{t:a,f:i}},Pn=function(e,n){var a={};return it(e,n,Ct(a),Ee),a},sr=function(e,n){var a=[];return un(e,function(i,u){a.push(n(i,u))}),a},oa=function(e){return sr(e,Oe)},Cr=function(e,n){return vr(e,n)?z.from(e[n]):z.none()},vr=function(e,n){return bn.call(e,n)},sa=function(e,n){return vr(e,n)&&e[n]!==void 0&&e[n]!==null},bo=function(e,n,a){return a===void 0&&(a=se),Te(a).eq(e,n)},Ba=Array.isArray,wa=function(e){if(Ba(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},La=function(e,n,a){var i,u;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,u=e.length;i<u;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(vr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},ko=function(e,n){var a=[];return La(e,function(i,u){a.push(n(i,u,e))}),a},Ha=function(e,n){var a=[];return La(e,function(i,u){(!n||n(i,u,e))&&a.push(i)}),a},Fa=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},io=function(e,n,a,i){for(var u=we(a)?e[0]:a,c=0;c<e.length;c++)u=n.call(i,u,e[c],c);return u},Br=function(e,n,a){var i,u;for(i=0,u=e.length;i<u;i++)if(n.call(a,e[i],i,e))return i;return-1},uo=function(e){return e[e.length-1]},Ln=function(){return Ln=Object.assign||function(n){for(var a,i=1,u=arguments.length;i<u;i++){a=arguments[i];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},Ln.apply(this,arguments)};function bi(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)n.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(a[i[u]]=e[i[u]]);return a}function to(e,n,a){if(a||arguments.length===2)for(var i=0,u=n.length,c;i<u;i++)(c||!(i in n))&&(c||(c=Array.prototype.slice.call(n,0,i)),c[i]=n[i]);return e.concat(c||Array.prototype.slice.call(n))}var zo=function(e){var n=!1,a;return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return n||(n=!0,a=e.apply(null,i)),a}},yi=function(e,n,a,i){var u=e.isiOS()&&/ipad/i.test(a)===!0,c=e.isiOS()&&!u,v=e.isiOS()||e.isAndroid(),m=v||i("(pointer:coarse)"),g=u||!c&&v&&i("(min-device-width:768px)"),x=c||v&&!g,T=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,P=!x&&!g&&!T;return{isiPad:ae(u),isiPhone:ae(c),isTablet:ae(g),isPhone:ae(x),isTouch:ae(m),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ae(T),isDesktop:ae(P)}},Lo=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},wi=function(e,n){var a=Lo(e,n);if(!a)return{major:0,minor:0};var i=function(u){return Number(n.replace(a,"$"+u))};return Z(i(1),i(2))},Ci=function(e,n){var a=String(n).toLowerCase();return e.length===0?Ji():wi(e,a)},Ji=function(){return Z(0,0)},Z=function(e,n){return{major:e,minor:n}},xe={nu:Z,detect:Ci,unknown:Ji},Q=function(e,n){return ke(n.brands,function(a){var i=a.brand.toLowerCase();return Fn(e,function(u){var c;return i===((c=u.brand)===null||c===void 0?void 0:c.toLowerCase())}).map(function(u){return{current:u.name,version:xe.nu(parseInt(a.version,10),0)}})})},Ge=function(e,n){var a=String(n).toLowerCase();return Fn(e,function(i){return i.search(a)})},sn=function(e,n){return Ge(e,n).map(function(a){var i=xe.detect(a.versionRegexes,n);return{current:a.name,version:i}})},On=function(e,n){return Ge(e,n).map(function(a){var i=xe.detect(a.versionRegexes,n);return{current:a.name,version:i}})},j=function(e,n){return e.substring(n)},ne=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},Ze=function(e,n){return O(e,n)?j(e,n.length):e},kt=function(e,n){return e.indexOf(n)!==-1},O=function(e,n){return ne(e,n,0)},H=function(e){return function(n){return n.replace(e,"")}},te=H(/^\s+|\s+$/g),be=H(/^\s+/g),Ve=H(/\s+$/g),qe=function(e){return e.length>0},on=function(e){return!qe(e)},Sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zn=function(e){return function(n){return kt(n,e)}},or=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return kt(e,"edge/")&&kt(e,"chrome")&&kt(e,"safari")&&kt(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sn],search:function(e){return kt(e,"chrome")&&!kt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return kt(e,"msie")||kt(e,"trident")}},{name:"Opera",versionRegexes:[Sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zn("firefox")},{name:"Safari",versionRegexes:[Sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(kt(e,"safari")||kt(e,"mobile/"))&&kt(e,"applewebkit")}}],ir=[{name:"Windows",search:Zn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return kt(e,"iphone")||kt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Zn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zn("linux"),versionRegexes:[]},{name:"Solaris",search:Zn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hr={browsers:ae(or),oses:ae(ir)},Zr="Edge",Va="Chrome",ui="IE",Qi="Opera",Mi="Firefox",Ua="Safari",gs=function(){return ku({current:void 0,version:xe.unknown()})},ku=function(e){var n=e.current,a=e.version,i=function(u){return function(){return n===u}};return{current:n,version:a,isEdge:i(Zr),isChrome:i(Va),isIE:i(ui),isOpera:i(Qi),isFirefox:i(Mi),isSafari:i(Ua)}},xi={unknown:gs,nu:ku,edge:ae(Zr),chrome:ae(Va),ie:ae(ui),opera:ae(Qi),firefox:ae(Mi),safari:ae(Ua)},yo="Windows",hs="iOS",cu="Android",ps="Linux",$s="OSX",lu="Solaris",Ri="FreeBSD",zs="ChromeOS",Gu=function(){return bs({current:void 0,version:xe.unknown()})},bs=function(e){var n=e.current,a=e.version,i=function(u){return function(){return n===u}};return{current:n,version:a,isWindows:i(yo),isiOS:i(hs),isAndroid:i(cu),isOSX:i($s),isLinux:i(ps),isSolaris:i(lu),isFreeBSD:i(Ri),isChromeOS:i(zs)}},N={unknown:Gu,nu:bs,windows:ae(yo),ios:ae(hs),android:ae(cu),linux:ae(ps),osx:ae($s),solaris:ae(lu),freebsd:ae(Ri),chromeos:ae(zs)},me=function(e,n,a){var i=hr.browsers(),u=hr.oses(),c=n.bind(function(g){return Q(i,g)}).orThunk(function(){return sn(i,e)}).fold(xi.unknown,xi.nu),v=On(u,e).fold(N.unknown,N.nu),m=yi(v,c,e,a);return{browser:c,os:v,deviceType:m}},$e={detect:me},Tt=function(e){return window.matchMedia(e).matches},rn=zo(function(){return $e.detect(navigator.userAgent,z.from(navigator.userAgentData),Tt)}),Vn=function(){return rn()},Xr=navigator.userAgent,ta=Vn(),Tr=ta.browser,ca=ta.os,Da=ta.deviceType,fu=/WebKit/.test(Xr)&&!Tr.isEdge(),hc="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,pc=Xr.indexOf("Windows Phone")!==-1,Jn={opera:Tr.isOpera(),webkit:fu,ie:Tr.isIE()||Tr.isEdge()?Tr.version.major:!1,gecko:Tr.isFirefox(),mac:ca.isOSX()||ca.isiOS(),iOS:Da.isiPad()||Da.isiPhone(),android:ca.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Tr.isIE()?document.documentMode||7:10,fileApi:hc,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Tr.isIE(),desktop:Da.isDesktop(),windowsPhone:pc,browser:{current:Tr.current,version:Tr.version,isChrome:Tr.isChrome,isEdge:Tr.isEdge,isFirefox:Tr.isFirefox,isIE:Tr.isIE,isOpera:Tr.isOpera,isSafari:Tr.isSafari},os:{current:ca.current,version:ca.version,isAndroid:ca.isAndroid,isChromeOS:ca.isChromeOS,isFreeBSD:ca.isFreeBSD,isiOS:ca.isiOS,isLinux:ca.isLinux,isOSX:ca.isOSX,isSolaris:ca.isSolaris,isWindows:ca.isWindows},deviceType:{isDesktop:Da.isDesktop,isiPad:Da.isiPad,isiPhone:Da.isiPhone,isPhone:Da.isPhone,isTablet:Da.isTablet,isTouch:Da.isTouch,isWebView:Da.isWebView}},Eu=/^\s*|\s*$/g,tl=function(e){return e==null?"":(""+e).replace(Eu,"")},eu=function(e,n){return n?n==="array"&&Ba(e)?!0:typeof e===n:e!==void 0},nl=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},_f=vr,Hl=function(e,n,a){var i=this,u,c,v,m=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var g=e[3].match(/(^|\.)(\w+)$/i)[2],x=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!x[g]){if(e[2]==="static"){x[g]=n,this.onCreate&&this.onCreate(e[2],e[3],x[g]);return}n[g]||(n[g]=function(){},m=1),x[g]=n[g],i.extend(x[g].prototype,n),e[5]&&(u=i.resolve(e[5]).prototype,c=e[5].match(/\.(\w+)$/i)[1],v=x[g],m?x[g]=function(){return u[c].apply(this,arguments)}:x[g]=function(){return this.parent=u[c],v.apply(this,arguments)},x[g].prototype[g]=x[g],i.each(u,function(T,P){x[g].prototype[P]=u[P]}),i.each(n,function(T,P){u[P]?x[g].prototype[P]=function(){return this.parent=u[P],T.apply(this,arguments)}:P!==g&&(x[g].prototype[P]=T)})),i.each(n.static,function(T,P){x[g][P]=T})}},_a=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var u=n[i];for(var c in u)if(vr(u,c)){var v=u[c];v!==void 0&&(e[c]=v)}}return e},Ls=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),La(e,function(u,c){if(n.call(i,u,c,a)===!1)return!1;Ls(u,n,a,i)}))},Pf=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Ni=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},si=function(e,n){return!e||eu(e,"array")?e:ko(e.split(n||","),tl)},bc=function(e){var n=Jn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},xt={trim:tl,isArray:Ba,is:eu,toArray:wa,makeMap:nl,each:La,map:ko,grep:Ha,inArray:Fa,hasOwn:_f,extend:_a,create:Hl,walk:Ls,createNS:Pf,resolve:Ni,explode:si,_addCacheSuffix:bc},Hs=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ku(i.childNodes[0])},Eo=function(e,n){var a=n||document,i=a.createElement(e);return Ku(i)},rl=function(e,n){var a=n||document,i=a.createTextNode(e);return Ku(i)},Ku=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Vs=function(e,n,a){return z.from(e.dom.elementFromPoint(n,a)).map(Ku)},k={fromHtml:Hs,fromTag:Eo,fromText:rl,fromDom:Ku,fromPoint:Vs},b=function(e,n){var a=[],i=function(c){return a.push(c),n(c)},u=n(e);do u=u.bind(i);while(u.isSome());return a},_=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},L=function(e,n){return _(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},ce=8,Ke=9,qt=11,qn=1,cr=3,Cn=function(e,n){var a=e.dom;if(a.nodeType!==qn)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Hn=function(e){return e.nodeType!==qn&&e.nodeType!==Ke&&e.nodeType!==qt||e.childElementCount===0},xr=function(e,n){var a=n===void 0?document:n.dom;return Hn(a)?[]:Dt(a.querySelectorAll(e),k.fromDom)},Pr=function(e,n){var a=n===void 0?document:n.dom;return Hn(a)?z.none():z.from(a.querySelector(e)).map(k.fromDom)},lr=function(e,n){return e.dom===n.dom},Ca=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},pr=function(e,n){return L(e.dom,n.dom)},ia=function(e,n){return Vn().browser.isIE()?pr(e,n):Ca(e,n)};typeof window!="undefined"||Function("return this;")();var na=function(e){var n=e.dom.nodeName;return n.toLowerCase()},ci=function(e){return e.dom.nodeType},Dr=function(e){return function(n){return ci(n)===e}},Vv=function(e){return ci(e)===ce||na(e)==="#comment"},Ma=Dr(qn),so=Dr(cr),Eh=Dr(Ke),Ho=Dr(qt),xm=function(e){return function(n){return Ma(n)&&na(n)===e}},Uv=function(e){return k.fromDom(e.dom.ownerDocument)},mr=function(e){return Eh(e)?e:Uv(e)},Us=function(e){return k.fromDom(mr(e).dom.documentElement)},yc=function(e){return k.fromDom(mr(e).dom.defaultView)},no=function(e){return z.from(e.dom.parentNode).map(k.fromDom)},Th=function(e,n){for(var a=Ae(n)?n:ft,i=e.dom,u=[];i.parentNode!==null&&i.parentNode!==void 0;){var c=i.parentNode,v=k.fromDom(c);if(u.push(v),a(v)===!0)break;i=c}return u},Vo=function(e){var n=function(a){return le(a,function(i){return!lr(e,i)})};return no(e).map(Ii).map(n).getOr([])},al=function(e){return z.from(e.dom.previousSibling).map(k.fromDom)},Vl=function(e){return z.from(e.dom.nextSibling).map(k.fromDom)},la=function(e){return _t(b(e,al))},ol=function(e){return b(e,Vl)},Ii=function(e){return Dt(e.dom.childNodes,k.fromDom)},il=function(e,n){var a=e.dom.childNodes;return z.from(a[n]).map(k.fromDom)},To=function(e){return il(e,0)},Tu=function(e){return il(e,e.dom.childNodes.length-1)},Oh=function(e){return e.dom.childNodes.length},ul=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return k.fromDom(n)},pa=function(e){return Ho(e)&&et(e.dom.host)},Ul=Ae(Element.prototype.attachShadow)&&Ae(Node.prototype.getRootNode),sl=ae(Ul),$i=Ul?function(e){return k.fromDom(e.dom.getRootNode())}:mr,cl=function(e){return pa(e)?e:ul(mr(e))},Wv=function(e){var n=$i(e);return pa(n)?z.some(n):z.none()},Ah=function(e){return k.fromDom(e.dom.host)},Si=function(e){if(sl()&&et(e.target)){var n=k.fromDom(e.target);if(Ma(n)&&wc(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return Wt(a)}}return z.from(e.target)},wc=function(e){return et(e.dom.shadowRoot)},Xu=function(e,n){var a=no(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},Wl=function(e,n){var a=Vl(e);a.fold(function(){var i=no(e);i.each(function(u){Yo(u,n)})},function(i){Xu(i,n)})},Sm=function(e,n){var a=To(e);a.fold(function(){Yo(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Yo=function(e,n){e.dom.appendChild(n.dom)},jv=function(e,n){Xu(e,n),Yo(n,e)},_0=function(e,n){ot(n,function(a){Xu(e,a)})},qv=function(e,n){ot(n,function(a){Yo(e,a)})},km=function(e){e.dom.textContent="",ot(Ii(e),function(n){co(n)})},co=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Gv=function(e){var n=Ii(e);n.length>0&&_0(e,n),co(e)},Bf=function(e){var n=so(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Wv(k.fromDom(n)).fold(function(){return a.body.contains(n)},$(Bf,Ah))},li=function(e,n){var a=function(i,u){return li(e+i,n+u)};return{left:e,top:n,translate:a}},ll=li,P0=function(e){var n=e.getBoundingClientRect();return ll(n.left,n.top)},fl=function(e,n){return e!==void 0?e:n!==void 0?n:0},Kv=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,u=n.documentElement;if(a===e.dom)return ll(a.offsetLeft,a.offsetTop);var c=fl(i==null?void 0:i.pageYOffset,u.scrollTop),v=fl(i==null?void 0:i.pageXOffset,u.scrollLeft),m=fl(u.clientTop,a.clientTop),g=fl(u.clientLeft,a.clientLeft);return Ou(e).translate(v-g,c-m)},Ou=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?ll(i.offsetLeft,i.offsetTop):Bf(e)?P0(n):ll(0,0)},Em=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return ll(a,i)},Au=function(e,n,a){var i=a!==void 0?a.dom:document,u=i.defaultView;u&&u.scrollTo(e,n)},Xv=function(e,n){var a=Vn().browser.isSafari();a&&Ae(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},B0=function(e){var n=e===void 0?window:e;return Vn().browser.isFirefox()?z.none():z.from(n.visualViewport)},Tm=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Ff=function(e){var n=e===void 0?window:e,a=n.document,i=Em(k.fromDom(a));return B0(n).fold(function(){var u=n.document.documentElement,c=u.clientWidth,v=u.clientHeight;return Tm(i.left,i.top,c,v)},function(u){return Tm(Math.max(u.pageLeft,i.left),Math.max(u.pageTop,i.top),u.width,u.height)})},jl=function(e){return function(n){return!!n&&n.nodeType===e}},Yv=function(e){return!!e&&!Object.getPrototypeOf(e)},gr=jl(1),Du=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return De(n,i)}return!1}},Zv=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(gr(i))for(var u=0;u<a.length;u++){var c=i.ownerDocument.defaultView.getComputedStyle(i,null),v=c?c.getPropertyValue(e):null;if(v===a[u])return!0}return!1}},Jv=function(e){return function(n){return gr(n)&&n.hasAttribute(e)}},F0=function(e,n){return function(a){return gr(a)&&a.getAttribute(e)===n}},vl=function(e){return gr(e)&&e.hasAttribute("data-mce-bogus")},Po=function(e){return gr(e)&&e.getAttribute("data-mce-bogus")==="all"},Bo=function(e){return gr(e)&&e.tagName==="TABLE"},Cc=function(e){return function(n){return!!(gr(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},_u=Du(["textarea","input"]),Mn=jl(3),dl=jl(8),Om=jl(9),Or=jl(11),fa=Du(["br"]),Am=Du(["img"]),ys=Cc("true"),Pa=Cc("false"),Qv=Du(["td","th"]),tu=Du(["video","audio","object","embed"]),Mf=function(e,n,a){return a===void 0&&(a=Kt),e.exists(function(i){return a(i,n)})},Dh=function(e){for(var n=[],a=function(u){n.push(u)},i=0;i<e.length;i++)e[i].each(a);return n},ki=function(e,n,a){return e.isSome()&&n.isSome()?z.some(a(e.getOrDie(),n.getOrDie())):z.none()},M0=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?z.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):z.none()},R0=function(e,n){return e?z.some(n):z.none()},Ra=function(e){return e.style!==void 0&&Ae(e.style.getPropertyValue)},Dm=function(e,n,a){if(yt(a)||je(a)||Ue(a))e.setAttribute(n,a+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},w=function(e,n,a){Dm(e.dom,n,a)},A=function(e,n){var a=e.dom;un(n,function(i,u){Dm(a,u,i)})},M=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},J=function(e,n){return z.from(M(e,n))},_e=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},wt=function(e,n){e.dom.removeAttribute(n)},Gn=function(e){return ln(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},br=function(e,n,a){if(!yt(a))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ra(e)&&e.style.setProperty(n,a)},Gr=function(e,n){var a=e.dom;un(n,function(i,u){br(a,u,i)})},Nr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),u=i.getPropertyValue(n);return u===""&&!Bf(e)?Sa(a,n):u},Sa=function(e,n){return Ra(e)?e.style.getPropertyValue(n):""},Ei=function(e,n){var a=e.dom,i=Sa(a,n);return z.from(i).filter(function(u){return u.length>0})},_h=function(e){var n={},a=e.dom;if(Ra(a))for(var i=0;i<a.style.length;i++){var u=a.style.item(i);n[u]=a.style[u]}return n},$A=function(e){return e.dom.offsetWidth},ux=Vn().browser,sx=function(e){return Fn(e,Ma)},zA=function(e){return ux.isFirefox()&&na(e)==="table"?sx(Ii(e)).filter(function(n){return na(n)==="caption"}).bind(function(n){return sx(ol(n)).map(function(a){var i=a.dom.offsetTop,u=n.dom.offsetTop,c=n.dom.offsetHeight;return i<=u?-c:0})}).getOr(0):0},N0=function(e,n){return e.children&&De(e.children,n)},I0=function(e,n,a){var i=0,u=0,c=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&Nr(k.fromDom(e),"position")==="static"){var v=n.getBoundingClientRect();return i=v.left+(c.documentElement.scrollLeft||e.scrollLeft)-c.documentElement.clientLeft,u=v.top+(c.documentElement.scrollTop||e.scrollTop)-c.documentElement.clientTop,{x:i,y:u}}for(var m=n;m&&m!==a&&m.nodeType&&!N0(m,a);){var g=m;i+=g.offsetLeft||0,u+=g.offsetTop||0,m=g.offsetParent}for(m=n.parentNode;m&&m!==a&&m.nodeType&&!N0(m,a);)i-=m.scrollLeft||0,u-=m.scrollTop||0,m=m.parentNode;u+=zA(k.fromDom(n))}return{x:i,y:u}},cx={},ed={exports:cx};(function(e,n,a,i){(function(u,c){typeof n=="object"&&typeof a!="undefined"?a.exports=c():typeof e=="function"&&e.amd?e(c):(u=typeof globalThis!="undefined"?globalThis:u||self,u.EphoxContactWrapper=c())})(this,function(){var u=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof FA!="undefined"?FA:typeof self!="undefined"?self:{},c={exports:{}};(function(x){(function(T){var P=setTimeout;function B(){}function U(de,We){return function(){de.apply(We,arguments)}}function V(de){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof de!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Me(de,this)}function q(de,We){for(;de._state===3;)de=de._value;if(de._state===0){de._deferreds.push(We);return}de._handled=!0,V._immediateFn(function(){var ht=de._state===1?We.onFulfilled:We.onRejected;if(ht===null){(de._state===1?G:ie)(We.promise,de._value);return}var Xt;try{Xt=ht(de._value)}catch(Kn){ie(We.promise,Kn);return}G(We.promise,Xt)})}function G(de,We){try{if(We===de)throw new TypeError("A promise cannot be resolved with itself.");if(We&&(typeof We=="object"||typeof We=="function")){var ht=We.then;if(We instanceof V){de._state=3,de._value=We,re(de);return}else if(typeof ht=="function"){Me(U(ht,We),de);return}}de._state=1,de._value=We,re(de)}catch(Xt){ie(de,Xt)}}function ie(de,We){de._state=2,de._value=We,re(de)}function re(de){de._state===2&&de._deferreds.length===0&&V._immediateFn(function(){de._handled||V._unhandledRejectionFn(de._value)});for(var We=0,ht=de._deferreds.length;We<ht;We++)q(de,de._deferreds[We]);de._deferreds=null}function ge(de,We,ht){this.onFulfilled=typeof de=="function"?de:null,this.onRejected=typeof We=="function"?We:null,this.promise=ht}function Me(de,We){var ht=!1;try{de(function(Xt){ht||(ht=!0,G(We,Xt))},function(Xt){ht||(ht=!0,ie(We,Xt))})}catch(Xt){if(ht)return;ht=!0,ie(We,Xt)}}V.prototype.catch=function(de){return this.then(null,de)},V.prototype.then=function(de,We){var ht=new this.constructor(B);return q(this,new ge(de,We,ht)),ht},V.all=function(de){var We=Array.prototype.slice.call(de);return new V(function(ht,Xt){if(We.length===0)return ht([]);var Kn=We.length;function Tn(ur,tn){try{if(tn&&(typeof tn=="object"||typeof tn=="function")){var kn=tn.then;if(typeof kn=="function"){kn.call(tn,function(en){Tn(ur,en)},Xt);return}}We[ur]=tn,--Kn===0&&ht(We)}catch(en){Xt(en)}}for(var $t=0;$t<We.length;$t++)Tn($t,We[$t])})},V.resolve=function(de){return de&&typeof de=="object"&&de.constructor===V?de:new V(function(We){We(de)})},V.reject=function(de){return new V(function(We,ht){ht(de)})},V.race=function(de){return new V(function(We,ht){for(var Xt=0,Kn=de.length;Xt<Kn;Xt++)de[Xt].then(We,ht)})},V._immediateFn=typeof setImmediate=="function"?function(de){setImmediate(de)}:function(de){P(de,0)},V._unhandledRejectionFn=function(We){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",We)},V._setImmediateFn=function(We){V._immediateFn=We},V._setUnhandledRejectionFn=function(We){V._unhandledRejectionFn=We},x.exports?x.exports=V:T.Promise||(T.Promise=V)})(u)})(c);var v=c.exports,m=function(){return typeof window!="undefined"?window:Function("return this;")()}(),g={boltExport:m.Promise||v};return g})})(void 0,cx,ed);var $0=ed.exports.boltExport,z0=function(e){var n=z.none(),a=[],i=function(x){return z0(function(T){u(function(P){T(x(P))})})},u=function(x){v()?g(x):a.push(x)},c=function(x){v()||(n=z.some(x),m(a),a=[])},v=function(){return n.isSome()},m=function(x){ot(x,g)},g=function(x){n.each(function(T){setTimeout(function(){x(T)},0)})};return e(c),{get:u,map:i,isReady:v}},LA=function(e){return z0(function(n){n(e)})},HA={nu:z0,pure:LA},VA=function(e){setTimeout(function(){throw e},0)},Ws=function(e){var n=function(g){e().then(g,VA)},a=function(g){return Ws(function(){return e().then(g)})},i=function(g){return Ws(function(){return e().then(function(x){return g(x).toPromise()})})},u=function(g){return Ws(function(){return e().then(function(){return g.toPromise()})})},c=function(){return HA.nu(n)},v=function(){var g=null;return Ws(function(){return g===null&&(g=e()),g})},m=e;return{map:a,bind:i,anonBind:u,toLazy:c,toCached:v,toPromise:m,get:n}},lx=function(e){return Ws(function(){return new $0(e)})},UA=function(e){return Ws(function(){return $0.resolve(e)})},L0={nu:lx,pure:UA},WA=function(e,n){return n(function(a){var i=[],u=0,c=function(v){return function(m){i[v]=m,u++,u>=e.length&&a(i)}};e.length===0?a([]):ot(e,function(v,m){v.get(c(m))})})},jA=function(e){return WA(e,L0.nu)},td=function(e){var n=function(P){return td(e)},a=function(P){return td(e)},i=function(P){return td(P(e))},u=function(P){return td(e)},c=function(P){P(e)},v=function(P){return P(e)},m=function(P,B){return B(e)},g=function(P){return P(e)},x=function(P){return P(e)},T=function(){return z.some(e)};return{isValue:jt,isError:ft,getOr:ae(e),getOrThunk:ae(e),getOrDie:ae(e),or:n,orThunk:a,fold:m,map:i,mapError:u,each:c,bind:v,exists:g,forall:x,toOptional:T}},_m=function(e){var n=function(x){return x()},a=function(){return an(String(e))()},i=Oe,u=function(x){return x()},c=function(x){return _m(e)},v=function(x){return _m(x(e))},m=function(x){return _m(e)},g=function(x,T){return x(e)};return{isValue:ft,isError:jt,getOr:Oe,getOrThunk:n,getOrDie:a,or:i,orThunk:u,fold:g,map:c,mapError:v,each:Ee,bind:m,exists:ft,forall:jt,toOptional:z.none}},fx=function(e,n){return e.fold(function(){return _m(n)},td)},vx={value:td,error:_m,fromOption:fx},Pu=function(e){if(!Vt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return ot(e,function(i,u){var c=Rt(i);if(c.length!==1)throw new Error("one and only one name per case");var v=c[0],m=i[v];if(a[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Vt(m))throw new Error("case arguments must be an array");n.push(v),a[v]=function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];var T=g.length;if(T!==m.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+m.length+" ("+m+"), got "+T);var P=function(B){var U=Rt(B);if(n.length!==U.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+U.join(","));var V=qr(n,function(q){return De(U,q)});if(!V)throw new Error("Not all branches were specified when using match. Specified: "+U.join(", ")+`
Required: `+n.join(", "));return B[v].apply(null,g)};return{fold:function(){for(var B=[],U=0;U<arguments.length;U++)B[U]=arguments[U];if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);var V=B[u];return V.apply(null,g)},match:P,log:function(B){}}}}),a},Xn={generate:Pu};Xn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var ml=function(e){return e.fold(Oe,Oe)};function H0(e,n,a,i,u){return e(a,i)?z.some(a):Ae(u)&&u(a)?z.none():n(a,i,u)}var Pm=function(e,n,a){for(var i=e.dom,u=Ae(a)?a:ft;i.parentNode;){i=i.parentNode;var c=k.fromDom(i);if(n(c))return z.some(c);if(u(c))break}return z.none()},Ph=function(e,n,a){var i=function(u,c){return c(u)};return H0(i,Pm,e,n,a)},V0=function(e,n){var a=e.dom;return a.parentNode?js(k.fromDom(a.parentNode),function(i){return!lr(e,i)&&n(i)}):z.none()},js=function(e,n){var a=function(u){return n(k.fromDom(u))},i=Fn(e.dom.childNodes,a);return i.map(k.fromDom)},Rf=function(e,n,a){return Pm(e,function(i){return Cn(i,n)},a)},nd=function(e,n){return Pr(n,e)},lo=function(e,n,a){var i=function(u,c){return Cn(u,c)};return H0(i,Rf,e,n,a)},Uo=window.Promise?window.Promise:$0,Bm,dx=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],u=function(v){window.setTimeout(v,0)},c=0;c<i.length&&!a;c++)a=window[i[c]+"RequestAnimationFrame"];a||(a=u),a(e,n)},U0=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},mx=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},Bh=function(e){return clearTimeout(e)},qA=function(e){return clearInterval(e)},rd=function(e,n){var a,i=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];clearTimeout(a),a=U0(function(){e.apply(this,u)},n)};return i.stop=function(){clearTimeout(a)},i},fi={requestAnimationFrame:function(e,n){if(Bm){Bm.then(e);return}Bm=new Uo(function(a){n||(n=document.body),dx(a,n)}).then(e)},setTimeout:U0,setInterval:mx,setEditorTimeout:function(e,n,a){return U0(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=mx(function(){e.removed?clearInterval(i):n()},a);return i},debounce:rd,throttle:rd,clearInterval:qA,clearTimeout:Bh},gx=function(e,n){n===void 0&&(n={});var a=0,i={},u=k.fromDom(e),c=mr(u),v=n.maxLoadTime||5e3,m=function(G){n.referrerPolicy=G},g=function(G){Yo(cl(u),G)},x=function(G){var ie=cl(u);nd(ie,"#"+G).each(co)},T=function(G){return Cr(i,G).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},P=function(G,ie,re){var ge,Me=xt._addCacheSuffix(G),de=T(Me);i[Me]=de,de.count++;var We=function(tn,kn){for(var en=tn.length;en--;)tn[en]();de.status=kn,de.passed=[],de.failed=[],ge&&(ge.onload=null,ge.onerror=null,ge=null)},ht=function(){return We(de.passed,2)},Xt=function(){return We(de.failed,3)},Kn=function(tn,kn){tn()||(Date.now()-ur<v?fi.setTimeout(kn):Xt())},Tn=function(){Kn(function(){for(var tn=e.styleSheets,kn=tn.length;kn--;){var en=tn[kn],hn=en.ownerNode;if(hn&&hn.id===ge.id)return ht(),!0}return!1},Tn)};if(ie&&de.passed.push(ie),re&&de.failed.push(re),de.status!==1){if(de.status===2){ht();return}if(de.status===3){Xt();return}de.status=1;var $t=k.fromTag("link",c.dom);A($t,{rel:"stylesheet",type:"text/css",id:de.id});var ur=Date.now();n.contentCssCors&&w($t,"crossOrigin","anonymous"),n.referrerPolicy&&w($t,"referrerpolicy",n.referrerPolicy),ge=$t.dom,ge.onload=Tn,ge.onerror=Xt,g($t),w($t,"href",Me)}},B=function(G){return L0.nu(function(ie){P(G,Je(ie,ae(vx.value(G))),Je(ie,ae(vx.error(G))))})},U=function(G,ie,re){jA(Dt(G,B)).get(function(ge){var Me=$n(ge,function(de){return de.isValue()});Me.fail.length>0?re(Me.fail.map(ml)):ie(Me.pass.map(ml))})},V=function(G){var ie=xt._addCacheSuffix(G);Cr(i,ie).each(function(re){var ge=--re.count;ge===0&&(delete i[ie],x(re.id))})},q=function(G){ot(G,function(ie){V(ie)})};return{load:P,loadAll:U,unload:V,unloadAll:q,_setReferrerPolicy:m}},ja=function(){var e=new WeakMap,n=function(a,i){var u=$i(a),c=u.dom;return z.from(e.get(c)).getOrThunk(function(){var v=gx(c,i);return e.set(c,v),v})};return{forElement:n}},qs=ja(),da=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,u){var c,v;if(n){if(!u&&n[a])return n[a];if(n!==this.rootNode){if(c=n[i],c)return c;for(v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(c=v[i],c)return c}}},e.prototype.findPreviousNode=function(n,a,i,u){var c,v,m;if(n){if(c=n[i],this.rootNode&&c===this.rootNode)return;if(c){if(!u){for(m=c[a];m;m=m[a])if(!m[a])return m}return c}if(v=n.parentNode,v&&v!==this.rootNode)return v}},e}(),Nf=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Yu=["td","th"],GA=["thead","tbody","tfoot"],Fo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],nu=["h1","h2","h3","h4","h5","h6"],hx=["li","dd","dt"],Nt=["ul","ol","dl"],vu=["pre","script","textarea","style"],ql=function(e){var n;return function(a){return n=n||Mt(e,jt),vr(n,na(a))}},dr=ql(nu),Zu=ql(Nf),KA=function(e){return na(e)==="table"},Ti=function(e){return Ma(e)&&!Zu(e)},ad=function(e){return Ma(e)&&na(e)==="br"},gl=ql(Fo),Fh=ql(Nt),zi=ql(hx),ea=ql(GA),Gs=ql(Yu),Fm=ql(vu),xa=function(e,n,a){return Rf(e,n,a).isSome()},If="\uFEFF",du="\xA0",Bu=function(e){return e===If},XA=function(e){return e.replace(/\uFEFF/g,"")},Se=If,mu=Bu,xc=XA,od=gr,Ju=Mn,qa=function(e){return Ju(e)&&(e=e.parentNode),od(e)&&e.hasAttribute("data-mce-caret")},ba=function(e){return Ju(e)&&mu(e.data)},Qu=function(e){return qa(e)||ba(e)},Mm=function(e){return e.firstChild!==e.lastChild||!fa(e.firstChild)},W0=function(e,n){var a=e.ownerDocument,i=a.createTextNode(Se),u=e.parentNode;if(n){var c=e.previousSibling;if(Ju(c)){if(Qu(c))return c;if(Rh(c))return c.splitText(c.data.length-1)}u.insertBefore(i,e)}else{var c=e.nextSibling;if(Ju(c)){if(Qu(c))return c;if(Mh(c))return c.splitText(1),c}e.nextSibling?u.insertBefore(i,e.nextSibling):u.appendChild(i)}return i},Qn=function(e){var n=e.container();return Mn(n)?n.data.charAt(e.offset())===Se||e.isAtStart()&&ba(n.previousSibling):!1},j0=function(e){var n=e.container();return Mn(n)?n.data.charAt(e.offset()-1)===Se||e.isAtEnd()&&ba(n.nextSibling):!1},es=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},YA=function(e,n,a){var i=n.ownerDocument,u=i.createElement(e);u.setAttribute("data-mce-caret",a?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(es());var c=n.parentNode;return a?c.insertBefore(u,n):n.nextSibling?c.insertBefore(u,n.nextSibling):c.appendChild(u),u},Mh=function(e){return Ju(e)&&e.data[0]===Se},Rh=function(e){return Ju(e)&&e.data[e.data.length-1]===Se},ZA=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];vl(a)&&a.parentNode.removeChild(a)},q0=function(e){return e&&e.hasAttribute("data-mce-caret")?(ZA(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Sc=function(e){return qa(e.startContainer)},$f=ys,JA=Pa,QA=fa,eD=Mn,px=Du(["script","style","textarea"]),G0=Du(["img","input","textarea","hr","iframe","video","audio","object","embed"]),K0=Du(["table"]),bx=Qu,kc=function(e){return bx(e)?!1:eD(e)?!px(e.parentNode):G0(e)||QA(e)||K0(e)||X0(e)},id=function(e){return gr(e)&&e.getAttribute("unselectable")==="true"},X0=function(e){return id(e)===!1&&JA(e)},tD=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(X0(e))return!1;if($f(e))return!0}return!0},nD=function(e){return X0(e)?ln(Jt(e.getElementsByTagName("*")),function(n,a){return n||$f(a)},!1)!==!0:!1},rD=function(e){return G0(e)||nD(e)},Oo=function(e,n){return kc(e)&&tD(e,n)},hl=/^[ \t\r\n]*$/,Ks=function(e){return hl.test(e)},Rm=function(e,n){var a=k.fromDom(n),i=k.fromDom(e);return xa(i,"pre,code",Ie(lr,a))},yx=function(e,n){return Mn(e)&&Ks(e.data)&&Rm(e,n)===!1},ws=function(e){return gr(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},zf=function(e,n){return kc(e)&&yx(e,n)===!1||ws(e)||Y0(e)},Y0=Jv("data-mce-bookmark"),Z0=Jv("data-mce-bogus"),Gl=F0("data-mce-bogus","all"),Kl=function(e,n){var a=0;if(zf(e,e))return!1;var i=e.firstChild;if(!i)return!0;var u=new da(i,e);do{if(n){if(Gl(i)){i=u.next(!0);continue}if(Z0(i)){i=u.next();continue}}if(fa(i)){a++,i=u.next();continue}if(zf(i,e))return!1;i=u.next()}while(i);return a<=1},Zo=function(e,n){return n===void 0&&(n=!0),Kl(e.dom,n)},Nh=function(e){return e.nodeName.toLowerCase()==="span"},wx=function(e,n){return et(e)&&(zf(e,n)||Ti(k.fromDom(e)))},ud=function(e,n){var a=new da(e,n).prev(!1),i=new da(e,n).next(!1),u=we(a)||wx(a,n),c=we(i)||wx(i,n);return u&&c},sd=function(e){return Nh(e)&&e.getAttribute("data-mce-type")==="bookmark"},Nm=function(e,n){return Mn(e)&&e.data.length>0&&ud(e,n)},aD=function(e){return gr(e)?e.childNodes.length>0:!1},Im=function(e){return Or(e)||Om(e)},J0=function(e,n,a){var i=a||n;if(gr(n)&&sd(n))return n;for(var u=n.childNodes,c=u.length-1;c>=0;c--)J0(e,u[c],i);if(gr(n)){var v=n.childNodes;v.length===1&&sd(v[0])&&n.parentNode.insertBefore(v[0],n)}return!Im(n)&&!zf(n,i)&&!aD(n)&&!Nm(n,i)&&e.remove(n),n},oD=xt.makeMap,Ga=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ih=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xl=/[<>&\"\']/g,Q0=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,eb={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},ts={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Fu={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},$m=function(e){var n=k.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},cd=function(e,n){var a,i,u,c={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),ts[i]||(u="&"+e[a+1]+";",c[i]=u,c[u]=i);return c}},tb=cd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),zm=function(e,n){return e.replace(n?Ga:Ih,function(a){return ts[a]||a})},nb=function(e){return(""+e).replace(Xl,function(n){return ts[n]||n})},Lm=function(e,n){return e.replace(n?Ga:Ih,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":ts[a]||"&#"+a.charCodeAt(0)+";"})},rb=function(e,n,a){return a=a||tb,e.replace(n?Ga:Ih,function(i){return ts[i]||a[i]||i})},iD=function(e,n){var a=cd(n)||tb,i=function(v,m){return v.replace(m?Ga:Ih,function(g){return ts[g]!==void 0?ts[g]:a[g]!==void 0?a[g]:g.length>1?"&#"+((g.charCodeAt(0)-55296)*1024+(g.charCodeAt(1)-56320)+65536)+";":"&#"+g.charCodeAt(0)+";"})},u=function(v,m){return rb(v,m,a)},c=oD(e.replace(/\+/g,","));return c.named&&c.numeric?i:c.named?n?u:rb:c.numeric?Lm:zm},ab=function(e){return e.replace(Q0,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):eb[a]||String.fromCharCode(a)):Fu[n]||tb[n]||$m(n)})},Xs={encodeRaw:zm,encodeAllRaw:nb,encodeNumeric:Lm,encodeNamed:rb,getEncodeFunc:iD,decode:ab},Mu={},Hm={},Ys=xt.makeMap,Oi=xt.each,$h=xt.extend,zh=xt.explode,Cx=xt.inArray,Jo=function(e,n){return e=xt.trim(e),e?e.split(n||" "):[]},xx=function(e){var n={},a,i,u,c,v,m,g=function(T,P,B){var U,V,q,G=function(re,ge){var Me={},de,We;for(de=0,We=re.length;de<We;de++)Me[re[de]]=ge||{};return Me};B=B||[],P=P||"",typeof B=="string"&&(B=Jo(B));var ie=Jo(T);for(U=ie.length;U--;)V=Jo([a,P].join(" ")),q={attributes:G(V),attributesOrder:V,children:G(B,Hm)},n[ie[U]]=q},x=function(T,P){var B,U,V,q,G=Jo(T);B=G.length;for(var ie=Jo(P);B--;)for(U=n[G[B]],V=0,q=ie.length;V<q;V++)U.attributes[ie[V]]={},U.attributesOrder.push(ie[V])};return Mu[e]?Mu[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",u="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",u+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",m="acronym applet basefont big font strike tt",u=[u,m].join(" "),Oi(Jo(m),function(T){g(T,"",u)}),v="center dir isindex noframes",i=[i,v].join(" "),c=[i,u].join(" "),Oi(Jo(v),function(T){g(T,"",c)})),c=c||[i,u].join(" "),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),g("address dt dd div caption","",c),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),g("blockquote","cite",c),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",c),g("dl","","dt dd"),g("a","href target rel media hreflang type",u),g("q","cite",u),g("ins del","cite datetime",c),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",c),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[c,"param"].join(" ")),g("param","name value"),g("map","name",[c,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",c),g("th","colspan rowspan headers scope abbr",c),g("form","accept-charset action autocomplete enctype method name novalidate target",c),g("fieldset","disabled form name",[c,"legend"].join(" ")),g("label","form for",u),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?c:u),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[c,"li"].join(" ")),g("noscript","",c),e!=="html4"&&(g("wbr"),g("ruby","",[u,"rt rp"].join(" ")),g("figcaption","",c),g("mark rt rp summary bdi","",u),g("canvas","width height",c),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[c,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[c,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[u,"option"].join(" ")),g("article section nav aside main header footer","",c),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[c,"figcaption"].join(" ")),g("time","datetime",u),g("dialog","open",c),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",u),g("progress","value max",u),g("meter","value min max low high optimum",u),g("details","open",[c,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(x("script","language xml:space"),x("style","xml:space"),x("object","declare classid code codebase codetype archive standby align border hspace vspace"),x("embed","align name hspace vspace"),x("param","valuetype type"),x("a","charset name rev shape coords"),x("br","clear"),x("applet","codebase archive code object alt name width height align hspace vspace"),x("img","name longdesc align border hspace vspace"),x("iframe","longdesc frameborder marginwidth marginheight scrolling align"),x("font basefont","size color face"),x("input","usemap align"),x("select"),x("textarea"),x("h1 h2 h3 h4 h5 h6 div p legend caption","align"),x("ul","type compact"),x("li","type"),x("ol dl menu dir","compact"),x("pre","width xml:space"),x("hr","align noshade size width"),x("isindex","prompt"),x("table","summary width frame rules cellspacing cellpadding align bgcolor"),x("col","width align char charoff valign"),x("colgroup","width align char charoff valign"),x("thead","align char charoff valign"),x("tr","align char charoff valign bgcolor"),x("th","axis align char charoff valign nowrap bgcolor width height"),x("form","accept"),x("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),x("tfoot","align char charoff valign"),x("tbody","align char charoff valign"),x("area","nohref"),x("body","background bgcolor text link vlink alink")),e!=="html4"&&(x("input button select textarea","autofocus"),x("input textarea","placeholder"),x("a","download"),x("link script img","crossorigin"),x("img","loading"),x("iframe","sandbox seamless allowfullscreen loading")),Oi(Jo("a form meter progress dfn"),function(T){n[T]&&delete n[T].children[T]}),delete n.caption.children.table,delete n.script,Mu[e]=n,n)},Vm=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Oi(e,function(i,u){a[u]=a[u.toUpperCase()]=n==="map"?Ys(i,/[, ]/):zh(i,/[, ]/)})),a},Ir=function(e){var n={},a={},i=[],u={},c={},v=function(Ht,ut,Gt){var st=e[Ht];return st?st=Ys(st,/[, ]/,Ys(st.toUpperCase(),/[, ]/)):(st=Mu[Ht],st||(st=Ys(ut," ",Ys(ut.toUpperCase()," ")),st=$h(st,Gt),Mu[Ht]=st)),st};e=e||{};var m=xx(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var g=Vm(e.valid_styles),x=Vm(e.invalid_styles,"map"),T=Vm(e.valid_classes,"map"),P=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),B=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),U=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),V=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),q="td th iframe video audio object script code",G=v("non_empty_elements",q+" pre",U),ie=v("move_caret_before_on_enter_elements",q+" table",U),re=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),ge=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",re),Me=v("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Oi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Ht){c[Ht]=new RegExp("</"+Ht+"[^>]*>","gi")});var de=function(Ht){return new RegExp("^"+Ht.replace(/([?+*])/g,".$1")+"$")},We=function(Ht){var ut,Gt,st,In,mn,nr,Mr,Ta,_i,Zi,fs,Pi,Bi,So,Ll,Xo,vs,Zc,Ia=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,ha=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ho=/[*?+]/;if(Ht){var Ms=Jo(Ht,",");for(n["@"]&&(Xo=n["@"].attributes,vs=n["@"].attributesOrder),ut=0,Gt=Ms.length;ut<Gt;ut++)if(mn=Ia.exec(Ms[ut]),mn){if(So=mn[1],_i=mn[2],Ll=mn[3],Ta=mn[5],Pi={},Bi=[],nr={attributes:Pi,attributesOrder:Bi},So==="#"&&(nr.paddEmpty=!0),So==="-"&&(nr.removeEmpty=!0),mn[4]==="!"&&(nr.removeEmptyAttrs=!0),Xo&&(un(Xo,function(Jc,Rs){Pi[Rs]=Jc}),Bi.push.apply(Bi,vs)),Ta){for(Ta=Jo(Ta,"|"),st=0,In=Ta.length;st<In;st++)if(mn=ha.exec(Ta[st]),mn){if(Mr={},fs=mn[1],Zi=mn[2].replace(/[\\:]:/g,":"),So=mn[3],Zc=mn[4],fs==="!"&&(nr.attributesRequired=nr.attributesRequired||[],nr.attributesRequired.push(Zi),Mr.required=!0),fs==="-"){delete Pi[Zi],Bi.splice(Cx(Bi,Zi),1);continue}So&&(So==="="&&(nr.attributesDefault=nr.attributesDefault||[],nr.attributesDefault.push({name:Zi,value:Zc}),Mr.defaultValue=Zc),So===":"&&(nr.attributesForced=nr.attributesForced||[],nr.attributesForced.push({name:Zi,value:Zc}),Mr.forcedValue=Zc),So==="<"&&(Mr.validValues=Ys(Zc,"?"))),ho.test(Zi)?(nr.attributePatterns=nr.attributePatterns||[],Mr.pattern=de(Zi),nr.attributePatterns.push(Mr)):(Pi[Zi]||Bi.push(Zi),Pi[Zi]=Mr)}}!Xo&&_i==="@"&&(Xo=Pi,vs=Bi),Ll&&(nr.outputName=_i,n[Ll]=nr),ho.test(_i)?(nr.pattern=de(_i),i.push(nr)):n[_i]=nr}}},ht=function(Ht){n={},i=[],We(Ht),Oi(m,function(ut,Gt){a[Gt]=ut.children})},Xt=function(Ht){var ut=/^(~)?(.+)$/;Ht&&(Mu.text_block_elements=Mu.block_elements=null,Oi(Jo(Ht,","),function(Gt){var st=ut.exec(Gt),In=st[1]==="~",mn=In?"span":"div",nr=st[2];if(a[nr]=a[mn],u[nr]=mn,In||(ge[nr.toUpperCase()]={},ge[nr]={}),!n[nr]){var Mr=n[mn];Mr=$h({},Mr),delete Mr.removeEmptyAttrs,delete Mr.removeEmpty,n[nr]=Mr}Oi(a,function(Ta,_i){Ta[mn]&&(a[_i]=Ta=$h({},a[_i]),Ta[nr]=Ta[mn])})}))},Kn=function(Ht){var ut=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Mu[e.schema]=null,Ht&&Oi(Jo(Ht,","),function(Gt){var st=ut.exec(Gt),In,mn;st&&(mn=st[1],mn?In=a[st[2]]:In=a[st[2]]={"#comment":{}},In=a[st[2]],Oi(Jo(st[3],"|"),function(nr){mn==="-"?delete In[nr]:In[nr]={}}))})},Tn=function(Ht){var ut=n[Ht],Gt;if(ut)return ut;for(Gt=i.length;Gt--;)if(ut=i[Gt],ut.pattern.test(Ht))return ut};e.valid_elements?ht(e.valid_elements):(Oi(m,function(Ht,ut){n[ut]={attributes:Ht.attributes,attributesOrder:Ht.attributesOrder},a[ut]=Ht.children}),e.schema!=="html5"&&Oi(Jo("strong/b em/i"),function(Ht){var ut=Jo(Ht,"/");n[ut[1]].outputName=ut[0]}),Oi(Jo("ol ul sub sup blockquote span font a table tbody strong em b i"),function(Ht){n[Ht]&&(n[Ht].removeEmpty=!0)}),Oi(Jo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Ht){n[Ht].paddEmpty=!0}),Oi(Jo("span"),function(Ht){n[Ht].removeEmptyAttrs=!0})),Xt(e.custom_elements),Kn(e.valid_children),We(e.extended_valid_elements),Kn("+ol[ul|ol],+ul[ul|ol]"),Oi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Ht,ut){n[ut]&&(n[ut].parentsRequired=Jo(Ht))}),e.invalid_elements&&Oi(zh(e.invalid_elements),function(Ht){n[Ht]&&delete n[Ht]}),Tn("span")||We("span[!data-mce-type|*]");var $t=ae(g),ur=ae(x),tn=ae(T),kn=ae(V),en=ae(ge),hn=ae(re),Dn=ae(Me),Lt=ae(U),_n=ae(B),wr=ae(G),ra=ae(ie),Hr=ae(P),ao=ae(c),Ya=function(Ht,ut){var Gt=a[Ht.toLowerCase()];return!!(Gt&&Gt[ut.toLowerCase()])},su=function(Ht,ut){var Gt,st,In=Tn(Ht);if(In)if(ut){if(In.attributes[ut])return!0;if(Gt=In.attributePatterns,Gt){for(st=Gt.length;st--;)if(Gt[st].pattern.test(Ht))return!0}}else return!0;return!1},Su=ae(u);return{children:a,elements:n,getValidStyles:$t,getValidClasses:tn,getBlockElements:en,getInvalidStyles:ur,getShortEndedElements:Lt,getTextBlockElements:hn,getTextInlineElements:Dn,getBoolAttrs:kn,getElementRule:Tn,getSelfClosingElements:_n,getNonEmptyElements:wr,getMoveCaretBeforeOnEnterElements:ra,getWhiteSpaceElements:Hr,getSpecialElements:ao,isValidChild:Ya,isValid:su,getCustomElements:Su,addValidElements:We,setValidElements:ht,addCustomElements:Xt,addValidChildren:Kn}},er=function(e,n,a,i){var u=function(c){return c=parseInt(c,10).toString(16),c.length>1?c:"0"+c};return"#"+u(n)+u(a)+u(i)},pl=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,v=/\s+$/,m,g={},x,T,P=If;e=e||{},n&&(x=n.getValidStyles(),T=n.getInvalidStyles());var B=(`\\" \\' \\; \\: ; : `+P).split(" ");for(m=0;m<B.length;m++)g[B[m]]=P+m,g[P+m]=B[m];return{toHex:function(U){return U.replace(i,er)},parse:function(U){var V={},q,G,ie,re,ge=e.url_converter,Me=e.url_converter_scope||a,de=function(tn,kn,en){var hn=V[tn+"-top"+kn];if(!!hn){var Dn=V[tn+"-right"+kn];if(!!Dn){var Lt=V[tn+"-bottom"+kn];if(!!Lt){var _n=V[tn+"-left"+kn];if(!!_n){var wr=[hn,Dn,Lt,_n];for(m=wr.length-1;m--&&wr[m]===wr[m+1];);m>-1&&en||(V[tn+kn]=m===-1?wr[0]:wr.join(" "),delete V[tn+"-top"+kn],delete V[tn+"-right"+kn],delete V[tn+"-bottom"+kn],delete V[tn+"-left"+kn])}}}}},We=function(tn){var kn=V[tn],en;if(!!kn){for(kn=kn.split(" "),en=kn.length;en--;)if(kn[en]!==kn[0])return!1;return V[tn]=kn[0],!0}},ht=function(tn,kn,en,hn){!We(kn)||!We(en)||!We(hn)||(V[tn]=V[kn]+" "+V[en]+" "+V[hn],delete V[kn],delete V[en],delete V[hn])},Xt=function(tn){return re=!0,g[tn]},Kn=function(tn,kn){return re&&(tn=tn.replace(/\uFEFF[0-9]/g,function(en){return g[en]})),kn||(tn=tn.replace(/\\([\'\";:])/g,"$1")),tn},Tn=function(tn){return String.fromCharCode(parseInt(tn.slice(1),16))},$t=function(tn){return tn.replace(/\\[0-9a-f]+/gi,Tn)},ur=function(tn,kn,en,hn,Dn,Lt){if(Dn=Dn||Lt,Dn)return Dn=Kn(Dn),"'"+Dn.replace(/\'/g,"\\'")+"'";if(kn=Kn(kn||en||hn),!e.allow_script_urls){var _n=kn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(_n)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(_n))return""}return ge&&(kn=ge.call(Me,kn,"style")),"url('"+kn.replace(/\'/g,"\\'")+"')"};if(U){for(U=U.replace(/[\u0000-\u001F]/g,""),U=U.replace(/\\[\"\';:\uFEFF]/g,Xt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(tn){return tn.replace(/[;:]/g,Xt)});q=c.exec(U);)if(c.lastIndex=q.index+q[0].length,G=q[1].replace(v,"").toLowerCase(),ie=q[2].replace(v,""),G&&ie){if(G=$t(G),ie=$t(ie),G.indexOf(P)!==-1||G.indexOf('"')!==-1||!e.allow_script_urls&&(G==="behavior"||/expression\s*\(|\/\*|\*\//.test(ie)))continue;G==="font-weight"&&ie==="700"?ie="bold":(G==="color"||G==="background-color")&&(ie=ie.toLowerCase()),ie=ie.replace(i,er),ie=ie.replace(u,ur),V[G]=re?Kn(ie,!0):ie}de("border","",!0),de("border","-width"),de("border","-color"),de("border","-style"),de("padding",""),de("margin",""),ht("border","border-width","border-style","border-color"),V.border==="medium none"&&delete V.border,V["border-image"]==="none"&&delete V["border-image"]}return V},serialize:function(U,V){var q="",G=function(re){var ge,Me=x[re];if(Me)for(var de=0,We=Me.length;de<We;de++)re=Me[de],ge=U[re],ge&&(q+=(q.length>0?" ":"")+re+": "+ge+";")},ie=function(re,ge){var Me=T["*"];return Me&&Me[re]?!1:(Me=T[ge],!(Me&&Me[re]))};return V&&x?(G("*"),G(V)):un(U,function(re,ge){re&&(!T||ie(ge,V))&&(q+=(q.length>0?" ":"")+ge+": "+re+";")}),q}}},ob={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Um=function(e){return e instanceof Event||Ae(e.initEvent)},Sx=function(e){return e.isDefaultPrevented===jt||e.isDefaultPrevented===ft},ya=function(e){return St(e.preventDefault)||Um(e)},kx=function(e,n){var a=n!=null?n:{};for(var i in e)vr(ob,i)||(a[i]=e[i]);return et(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Ex=function(e,n,a,i){var u,c=kx(n,i);return c.type=e,St(c.target)&&(c.target=(u=c.srcElement)!==null&&u!==void 0?u:a),ya(n)&&(c.preventDefault=function(){c.defaultPrevented=!0,c.isDefaultPrevented=jt,Ae(n.preventDefault)?n.preventDefault():Um(n)&&(n.returnValue=!1)},c.stopPropagation=function(){c.cancelBubble=!0,c.isPropagationStopped=jt,Ae(n.stopPropagation)?n.stopPropagation():Um(n)&&(n.cancelBubble=!0)},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=jt,c.stopPropagation()},Sx(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?jt:ft,c.isPropagationStopped=c.cancelBubble===!0?jt:ft,c.isImmediatePropagationStopped=ft)),c},Tx="mce-data-",It=/^(?:mouse|contextmenu)|click/,Wm=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},Lh=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},Hh=function(e){return et(e)&&It.test(e.type)},ld=function(e,n){var a=Ex(e.type,e,document,n);if(Hh(e)&&we(e.pageX)&&!we(e.clientX)){var i=a.target.ownerDocument||document,u=i.documentElement,c=i.body,v=a;v.pageX=e.clientX+(u&&u.scrollLeft||c&&c.scrollLeft||0)-(u&&u.clientLeft||c&&c.clientLeft||0),v.pageY=e.clientY+(u&&u.scrollTop||c&&c.scrollTop||0)-(u&&u.clientTop||c&&c.clientTop||0)}return we(a.metaKey)&&(a.metaKey=!1),a},fd=function(e,n,a){var i=e.document,u={type:"ready"};if(a.domLoaded){n(u);return}var c=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},v=function(){Lh(e,"DOMContentLoaded",v),Lh(e,"load",v),a.domLoaded||(a.domLoaded=!0,n(u)),e=null};c()?v():Wm(e,"DOMContentLoaded",v),a.domLoaded||Wm(e,"load",v)},Yl=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Tx+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,u){var c=this,v,m,g,x,T,P,B,U=window,V=function(G){c.executeHandlers(ld(G||U.event),v)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[c.expando]?v=n[c.expando]:(v=c.count++,n[c.expando]=v,c.events[v]={}),u=u||n;var q=a.split(" ");for(g=q.length;g--;){if(x=q[g],P=V,T=B=!1,x==="DOMContentLoaded"&&(x="ready"),c.domLoaded&&x==="ready"&&n.readyState==="complete"){i.call(u,ld({type:x}));continue}c.hasMouseEnterLeave||(T=c.mouseEnterLeave[x],T&&(P=function(G){var ie=G.currentTarget,re=G.relatedTarget;if(re&&ie.contains)re=ie.contains(re);else for(;re&&re!==ie;)re=re.parentNode;re||(G=ld(G||U.event),G.type=G.type==="mouseout"?"mouseleave":"mouseenter",G.target=ie,c.executeHandlers(G,v))})),!c.hasFocusIn&&(x==="focusin"||x==="focusout")&&(B=!0,T=x==="focusin"?"focus":"blur",P=function(G){G=ld(G||U.event),G.type=G.type==="focus"?"focusin":"focusout",c.executeHandlers(G,v)}),m=c.events[v][x],m?x==="ready"&&c.domLoaded?i(ld({type:x})):m.push({func:i,scope:u}):(c.events[v][x]=m=[{func:i,scope:u}],m.fakeName=T,m.capture=B,m.nativeHandler=P,x==="ready"?fd(n,P,c):Wm(n,T||x,P,B))}return n=m=null,i}},e.prototype.unbind=function(n,a,i){var u,c,v,m,g;if(!n||n.nodeType===3||n.nodeType===8)return this;var x=n[this.expando];if(x){if(g=this.events[x],a){var T=a.split(" ");for(c=T.length;c--;)if(m=T[c],u=g[m],u){if(i){for(v=u.length;v--;)if(u[v].func===i){var P=u.nativeHandler,B=u.fakeName,U=u.capture;u=u.slice(0,v).concat(u.slice(v+1)),u.nativeHandler=P,u.fakeName=B,u.capture=U,g[m]=u}}(!i||u.length===0)&&(delete g[m],Lh(n,u.fakeName||m,u.nativeHandler,u.capture))}}else un(g,function(V,q){Lh(n,V.fakeName||q,V.nativeHandler,V.capture)}),g={};for(m in g)if(vr(g,m))return this;delete this.events[x];try{delete n[this.expando]}catch(V){n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var u;if(!n||n.nodeType===3||n.nodeType===8)return this;var c=ld({type:a,target:n},i);do u=n[this.expando],u&&this.executeHandlers(c,u),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!c.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],u=i&&i[n.type];if(u)for(var c=0,v=u.length;c<v;c++){var m=u[c];if(m&&m.func.call(m.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ro,ka,bl,Ka,Ru,ib,Ec,Vh,Tc,Oc,Zl,ns,Uh,Ac,gu,vd,uD,jm,vi="sizzle"+-new Date,Bn=window.document,Dc=0,sD=0,Ox=fb(),ub=fb(),Ax=fb(),qm=function(e,n){return e===n&&(Oc=!0),0},Jl="undefined",Lf=1<<31,cD={}.hasOwnProperty,Zs=[],lD=Zs.pop,fD=Zs.push,_c=Zs.push,Wh=Zs.slice,Hf=Zs.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},Dx="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",fo="[\\x20\\t\\r\\n\\f]",Vf="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Gm="\\["+fo+"*("+Vf+")(?:"+fo+"*([*^$|!~]?=)"+fo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Vf+"))|)"+fo+"*\\]",Cs=":("+Vf+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Gm+")*)|.*)\\)|)",Li=new RegExp("^"+fo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fo+"+$","g"),vD=new RegExp("^"+fo+"*,"+fo+"*"),dD=new RegExp("^"+fo+"*([>+~]|"+fo+")"+fo+"*"),mD=new RegExp("="+fo+`*([^\\]'"]*?)`+fo+"*\\]","g"),_x=new RegExp(Cs),xs=new RegExp("^"+Vf+"$"),jh={ID:new RegExp("^#("+Vf+")"),CLASS:new RegExp("^\\.("+Vf+")"),TAG:new RegExp("^("+Vf+"|[*])"),ATTR:new RegExp("^"+Gm),PSEUDO:new RegExp("^"+Cs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+fo+"*(even|odd|(([+-]|)(\\d*)n|)"+fo+"*(?:([+-]|)"+fo+"*(\\d+)|))"+fo+"*\\)|)","i"),bool:new RegExp("^(?:"+Dx+")$","i"),needsContext:new RegExp("^"+fo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+fo+"*((?:-\\d)?\\d*)"+fo+"*\\)|)(?=[^-]|$)","i")},gD=/^(?:input|select|textarea|button)$/i,hD=/^h\d$/i,sb=/^[^{]+\{\s*\[native \w/,pD=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cb=/[+~]/,lb=/'|\\/g,Ql=new RegExp("\\\\([\\da-f]{1,6}"+fo+"?|("+fo+")|.)","ig"),ef=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{_c.apply(Zs=Wh.call(Bn.childNodes),Bn.childNodes),Zs[Bn.childNodes.length].nodeType}catch(e){_c={apply:Zs.length?function(n,a){fD.apply(n,Wh.call(a))}:function(n,a){for(var i=n.length,u=0;n[i++]=a[u++];);n.length=i-1}}}var ma=function(e,n,a,i){var u,c,v,m,g,x,T,P,B,U;if((n?n.ownerDocument||n:Bn)!==ns&&Zl(n),n=n||ns,a=a||[],!e||typeof e!="string")return a;if((m=n.nodeType)!==1&&m!==9)return[];if(Ac&&!i){if(u=pD.exec(e))if(v=u[1]){if(m===9)if(c=n.getElementById(v),c&&c.parentNode){if(c.id===v)return a.push(c),a}else return a;else if(n.ownerDocument&&(c=n.ownerDocument.getElementById(v))&&jm(n,c)&&c.id===v)return a.push(c),a}else{if(u[2])return _c.apply(a,n.getElementsByTagName(e)),a;if((v=u[3])&&ro.getElementsByClassName)return _c.apply(a,n.getElementsByClassName(v)),a}if(ro.qsa&&(!gu||!gu.test(e))){if(P=T=vi,B=n,U=m===9&&e,m===1&&n.nodeName.toLowerCase()!=="object"){for(x=Ru(e),(T=n.getAttribute("id"))?P=T.replace(lb,"\\$&"):n.setAttribute("id",P),P="[id='"+P+"'] ",g=x.length;g--;)x[g]=P+qh(x[g]);B=cb.test(e)&&yl(n.parentNode)||n,U=x.join(",")}if(U)try{return _c.apply(a,B.querySelectorAll(U)),a}catch(V){}finally{T||n.removeAttribute("id")}}}return Ec(e.replace(Li,"$1"),n,a,i)};function fb(){var e=[];function n(a,i){return e.push(a+" ")>ka.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function Js(e){return e[vi]=!0,e}function Px(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||Lf)-(~e.sourceIndex||Lf);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function bD(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function yD(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Hi(e){return Js(function(n){return n=+n,Js(function(a,i){for(var u,c=e([],a.length,n),v=c.length;v--;)a[u=c[v]]&&(a[u]=!(i[u]=a[u]))})})}function yl(e){return e&&typeof e.getElementsByTagName!==Jl&&e}ro=ma.support={},Ka=ma.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Zl=ma.setDocument=function(e){var n,a=e?e.ownerDocument||e:Bn,i=a.defaultView;function u(c){try{return c.top}catch(v){}return null}return a===ns||a.nodeType!==9||!a.documentElement?ns:(ns=a,Uh=a.documentElement,Ac=!Ka(a),i&&i!==u(i)&&(i.addEventListener?i.addEventListener("unload",function(){Zl()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Zl()})),ro.attributes=!0,ro.getElementsByTagName=!0,ro.getElementsByClassName=sb.test(a.getElementsByClassName),ro.getById=!0,ka.find.ID=function(c,v){if(typeof v.getElementById!==Jl&&Ac){var m=v.getElementById(c);return m&&m.parentNode?[m]:[]}},ka.filter.ID=function(c){var v=c.replace(Ql,ef);return function(m){return m.getAttribute("id")===v}},ka.find.TAG=ro.getElementsByTagName?function(c,v){if(typeof v.getElementsByTagName!==Jl)return v.getElementsByTagName(c)}:function(c,v){var m,g=[],x=0,T=v.getElementsByTagName(c);if(c==="*"){for(;m=T[x++];)m.nodeType===1&&g.push(m);return g}return T},ka.find.CLASS=ro.getElementsByClassName&&function(c,v){if(Ac)return v.getElementsByClassName(c)},vd=[],gu=[],ro.disconnectedMatch=!0,gu=gu.length&&new RegExp(gu.join("|")),vd=vd.length&&new RegExp(vd.join("|")),n=sb.test(Uh.compareDocumentPosition),jm=n||sb.test(Uh.contains)?function(c,v){var m=c.nodeType===9?c.documentElement:c,g=v&&v.parentNode;return c===g||!!(g&&g.nodeType===1&&(m.contains?m.contains(g):c.compareDocumentPosition&&c.compareDocumentPosition(g)&16))}:function(c,v){if(v){for(;v=v.parentNode;)if(v===c)return!0}return!1},qm=n?function(c,v){if(c===v)return Oc=!0,0;var m=!c.compareDocumentPosition-!v.compareDocumentPosition;return m||(m=(c.ownerDocument||c)===(v.ownerDocument||v)?c.compareDocumentPosition(v):1,m&1||!ro.sortDetached&&v.compareDocumentPosition(c)===m?c===a||c.ownerDocument===Bn&&jm(Bn,c)?-1:v===a||v.ownerDocument===Bn&&jm(Bn,v)?1:Tc?Hf.call(Tc,c)-Hf.call(Tc,v):0:m&4?-1:1)}:function(c,v){if(c===v)return Oc=!0,0;var m,g=0,x=c.parentNode,T=v.parentNode,P=[c],B=[v];if(!x||!T)return c===a?-1:v===a?1:x?-1:T?1:Tc?Hf.call(Tc,c)-Hf.call(Tc,v):0;if(x===T)return Px(c,v);for(m=c;m=m.parentNode;)P.unshift(m);for(m=v;m=m.parentNode;)B.unshift(m);for(;P[g]===B[g];)g++;return g?Px(P[g],B[g]):P[g]===Bn?-1:B[g]===Bn?1:0},a)},ma.matches=function(e,n){return ma(e,null,null,n)},ma.matchesSelector=function(e,n){if((e.ownerDocument||e)!==ns&&Zl(e),n=n.replace(mD,"='$1']"),ro.matchesSelector&&Ac&&(!vd||!vd.test(n))&&(!gu||!gu.test(n)))try{var a=uD.call(e,n);if(a||ro.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch(i){}return ma(n,ns,null,[e]).length>0},ma.contains=function(e,n){return(e.ownerDocument||e)!==ns&&Zl(e),jm(e,n)},ma.attr=function(e,n){(e.ownerDocument||e)!==ns&&Zl(e);var a=ka.attrHandle[n.toLowerCase()],i=a&&cD.call(ka.attrHandle,n.toLowerCase())?a(e,n,!Ac):void 0;return i!==void 0?i:ro.attributes||!Ac?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ma.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ma.uniqueSort=function(e){var n,a=[],i=0,u=0;if(Oc=!ro.detectDuplicates,Tc=!ro.sortStable&&e.slice(0),e.sort(qm),Oc){for(;n=e[u++];)n===e[u]&&(i=a.push(u));for(;i--;)e.splice(a[i],1)}return Tc=null,e},bl=ma.getText=function(e){var n,a="",i=0,u=e.nodeType;if(u){if(u===1||u===9||u===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=bl(e)}else if(u===3||u===4)return e.nodeValue}else for(;n=e[i++];)a+=bl(n);return a},ka=ma.selectors={cacheLength:50,createPseudo:Js,match:jh,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ql,ef),e[3]=(e[3]||e[4]||e[5]||"").replace(Ql,ef),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ma.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ma.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return jh.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&_x.test(a)&&(n=Ru(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Ql,ef).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=Ox[e+" "];return n||(n=new RegExp("(^|"+fo+")"+e+"("+fo+"|$)"))&&Ox(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Jl&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var u=ma.attr(i,e);return u==null?n==="!=":n?(u+="",n==="="?u===a:n==="!="?u!==a:n==="^="?a&&u.indexOf(a)===0:n==="*="?a&&u.indexOf(a)>-1:n==="$="?a&&u.slice(-a.length)===a:n==="~="?(" "+u+" ").indexOf(a)>-1:n==="|="?u===a||u.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,u){var c=e.slice(0,3)!=="nth",v=e.slice(-4)!=="last",m=n==="of-type";return i===1&&u===0?function(g){return!!g.parentNode}:function(g,x,T){var P,B,U,V,q,G,ie=c!==v?"nextSibling":"previousSibling",re=g.parentNode,ge=m&&g.nodeName.toLowerCase(),Me=!T&&!m;if(re){if(c){for(;ie;){for(U=g;U=U[ie];)if(m?U.nodeName.toLowerCase()===ge:U.nodeType===1)return!1;G=ie=e==="only"&&!G&&"nextSibling"}return!0}if(G=[v?re.firstChild:re.lastChild],v&&Me){for(B=re[vi]||(re[vi]={}),P=B[e]||[],q=P[0]===Dc&&P[1],V=P[0]===Dc&&P[2],U=q&&re.childNodes[q];U=++q&&U&&U[ie]||(V=q=0)||G.pop();)if(U.nodeType===1&&++V&&U===g){B[e]=[Dc,q,V];break}}else if(Me&&(P=(g[vi]||(g[vi]={}))[e])&&P[0]===Dc)V=P[1];else for(;(U=++q&&U&&U[ie]||(V=q=0)||G.pop())&&!((m?U.nodeName.toLowerCase()===ge:U.nodeType===1)&&++V&&(Me&&((U[vi]||(U[vi]={}))[e]=[Dc,V]),U===g)););return V-=u,V===i||V%i===0&&V/i>=0}}},PSEUDO:function(e,n){var a,i=ka.pseudos[e]||ka.setFilters[e.toLowerCase()]||ma.error("unsupported pseudo: "+e);return i[vi]?i(n):i.length>1?(a=[e,e,"",n],ka.setFilters.hasOwnProperty(e.toLowerCase())?Js(function(u,c){for(var v,m=i(u,n),g=m.length;g--;)v=Hf.call(u,m[g]),u[v]=!(c[v]=m[g])}):function(u){return i(u,0,a)}):i}},pseudos:{not:Js(function(e){var n=[],a=[],i=ib(e.replace(Li,"$1"));return i[vi]?Js(function(u,c,v,m){for(var g,x=i(u,null,m,[]),T=u.length;T--;)(g=x[T])&&(u[T]=!(c[T]=g))}):function(u,c,v){return n[0]=u,i(n,null,v,a),n[0]=null,!a.pop()}}),has:Js(function(e){return function(n){return ma(e,n).length>0}}),contains:Js(function(e){return e=e.replace(Ql,ef),function(n){return(n.textContent||n.innerText||bl(n)).indexOf(e)>-1}}),lang:Js(function(e){return xs.test(e||"")||ma.error("unsupported lang: "+e),e=e.replace(Ql,ef).toLowerCase(),function(n){var a;do if(a=Ac?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Uh},focus:function(e){return e===ns.activeElement&&(!ns.hasFocus||ns.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ka.pseudos.empty(e)},header:function(e){return hD.test(e.nodeName)},input:function(e){return gD.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Hi(function(){return[0]}),last:Hi(function(e,n){return[n-1]}),eq:Hi(function(e,n,a){return[a<0?a+n:a]}),even:Hi(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Hi(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Hi(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Hi(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},ka.pseudos.nth=ka.pseudos.eq,ot(["radio","checkbox","file","password","image"],function(e){ka.pseudos[e]=bD(e)}),ot(["submit","reset"],function(e){ka.pseudos[e]=yD(e)});function Bx(){}Bx.prototype=ka.filters=ka.pseudos,ka.setFilters=new Bx,Ru=ma.tokenize=function(e,n){var a,i,u,c,v,m,g,x=ub[e+" "];if(x)return n?0:x.slice(0);for(v=e,m=[],g=ka.preFilter;v;){(!a||(i=vD.exec(v)))&&(i&&(v=v.slice(i[0].length)||v),m.push(u=[])),a=!1,(i=dD.exec(v))&&(a=i.shift(),u.push({value:a,type:i[0].replace(Li," ")}),v=v.slice(a.length));for(c in ka.filter)!ka.filter.hasOwnProperty(c)||(i=jh[c].exec(v))&&(!g[c]||(i=g[c](i)))&&(a=i.shift(),u.push({value:a,type:c,matches:i}),v=v.slice(a.length));if(!a)break}return n?v.length:v?ma.error(e):ub(e,m).slice(0)};function qh(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function vb(e,n,a){var i=n.dir,u=a&&i==="parentNode",c=sD++;return n.first?function(v,m,g){for(;v=v[i];)if(v.nodeType===1||u)return e(v,m,g)}:function(v,m,g){var x,T,P=[Dc,c];if(g){for(;v=v[i];)if((v.nodeType===1||u)&&e(v,m,g))return!0}else for(;v=v[i];)if(v.nodeType===1||u){if(T=v[vi]||(v[vi]={}),(x=T[i])&&x[0]===Dc&&x[1]===c)return P[2]=x[2];if(T[i]=P,P[2]=e(v,m,g))return!0}}}function db(e){return e.length>1?function(n,a,i){for(var u=e.length;u--;)if(!e[u](n,a,i))return!1;return!0}:e[0]}function wD(e,n,a){for(var i=0,u=n.length;i<u;i++)ma(e,n[i],a);return a}function dd(e,n,a,i,u){for(var c,v=[],m=0,g=e.length,x=n!=null;m<g;m++)(c=e[m])&&(!a||a(c,i,u))&&(v.push(c),x&&n.push(m));return v}function mb(e,n,a,i,u,c){return i&&!i[vi]&&(i=mb(i)),u&&!u[vi]&&(u=mb(u,c)),Js(function(v,m,g,x){var T,P,B,U=[],V=[],q=m.length,G=v||wD(n||"*",g.nodeType?[g]:g,[]),ie=e&&(v||!n)?dd(G,U,e,g,x):G,re=a?u||(v?e:q||i)?[]:m:ie;if(a&&a(ie,re,g,x),i)for(T=dd(re,V),i(T,[],g,x),P=T.length;P--;)(B=T[P])&&(re[V[P]]=!(ie[V[P]]=B));if(v){if(u||e){if(u){for(T=[],P=re.length;P--;)(B=re[P])&&T.push(ie[P]=B);u(null,re=[],T,x)}for(P=re.length;P--;)(B=re[P])&&(T=u?Hf.call(v,B):U[P])>-1&&(v[T]=!(m[T]=B))}}else re=dd(re===m?re.splice(q,re.length):re),u?u(null,m,re,x):_c.apply(m,re)})}function gb(e){for(var n,a,i,u=e.length,c=ka.relative[e[0].type],v=c||ka.relative[" "],m=c?1:0,g=vb(function(P){return P===n},v,!0),x=vb(function(P){return Hf.call(n,P)>-1},v,!0),T=[function(P,B,U){var V=!c&&(U||B!==Vh)||((n=B).nodeType?g(P,B,U):x(P,B,U));return n=null,V}];m<u;m++)if(a=ka.relative[e[m].type])T=[vb(db(T),a)];else{if(a=ka.filter[e[m].type].apply(null,e[m].matches),a[vi]){for(i=++m;i<u&&!ka.relative[e[i].type];i++);return mb(m>1&&db(T),m>1&&qh(e.slice(0,m-1).concat({value:e[m-2].type===" "?"*":""})).replace(Li,"$1"),a,m<i&&gb(e.slice(m,i)),i<u&&gb(e=e.slice(i)),i<u&&qh(e))}T.push(a)}return db(T)}function Gh(e,n){var a=n.length>0,i=e.length>0,u=function(c,v,m,g,x){var T,P,B,U=0,V="0",q=c&&[],G=[],ie=Vh,re=c||i&&ka.find.TAG("*",x),ge=Dc+=ie==null?1:Math.random()||.1,Me=re.length;for(x&&(Vh=v!==ns&&v);V!==Me&&(T=re[V])!=null;V++){if(i&&T){for(P=0;B=e[P++];)if(B(T,v,m)){g.push(T);break}x&&(Dc=ge)}a&&((T=!B&&T)&&U--,c&&q.push(T))}if(U+=V,a&&V!==U){for(P=0;B=n[P++];)B(q,G,v,m);if(c){if(U>0)for(;V--;)q[V]||G[V]||(G[V]=lD.call(g));G=dd(G)}_c.apply(g,G),x&&!c&&G.length>0&&U+n.length>1&&ma.uniqueSort(g)}return x&&(Dc=ge,Vh=ie),q};return a?Js(u):u}ib=ma.compile=function(e,n){var a,i=[],u=[],c=Ax[e+" "];if(!c){for(n||(n=Ru(e)),a=n.length;a--;)c=gb(n[a]),c[vi]?i.push(c):u.push(c);c=Ax(e,Gh(u,i)),c.selector=e}return c},Ec=ma.select=function(e,n,a,i){var u,c,v,m,g,x=typeof e=="function"&&e,T=!i&&Ru(e=x.selector||e);if(a=a||[],T.length===1){if(c=T[0]=T[0].slice(0),c.length>2&&(v=c[0]).type==="ID"&&ro.getById&&n.nodeType===9&&Ac&&ka.relative[c[1].type]){if(n=(ka.find.ID(v.matches[0].replace(Ql,ef),n)||[])[0],n)x&&(n=n.parentNode);else return a;e=e.slice(c.shift().value.length)}for(u=jh.needsContext.test(e)?0:c.length;u--&&(v=c[u],!ka.relative[m=v.type]);)if((g=ka.find[m])&&(i=g(v.matches[0].replace(Ql,ef),cb.test(c[0].type)&&yl(n.parentNode)||n))){if(c.splice(u,1),e=i.length&&qh(c),!e)return _c.apply(a,i),a;break}}return(x||ib(e,T))(i,n,!Ac,a,cb.test(e)&&yl(n.parentNode)||n),a},ro.sortStable=vi.split("").sort(qm).join("")===vi,ro.detectDuplicates=!!Oc,Zl(),ro.sortDetached=!0;var Fx=document,hb=Array.prototype.push,CD=Array.prototype.slice,Wo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Km=Yl.Event,wo=xt.makeMap("children,contents,next,prev"),Vi=function(e){return typeof e!="undefined"},wl=function(e){return typeof e=="string"},Pc=function(e){return e&&e===e.window},Mx=function(e,n){n=n||Fx;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var u;u=a.firstChild;)i.appendChild(u);return i},rs=function(e,n,a,i){var u;if(wl(n))n=Mx(n,di(e[0]));else if(n.length&&!n.nodeType){if(n=Er.makeArray(n),i)for(u=n.length-1;u>=0;u--)rs(e,n[u],a,i);else for(u=0;u<n.length;u++)rs(e,n[u],a,i);return e}if(n.nodeType)for(u=e.length;u--;)a.call(e[u],n);return e},md=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},Rx=function(e,n,a){var i,u;return n=Er(n)[0],e.each(function(){var c=this;(!a||i!==c.parentNode)&&(i=c.parentNode,u=n.cloneNode(!1),c.parentNode.insertBefore(u,c)),u.appendChild(c)}),e},xD=xt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),SD=xt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),kD={for:"htmlFor",class:"className",readonly:"readOnly"},ED={float:"cssFloat"},pb={},bb={},as=function(e,n){return new Er.fn.init(e,n)},TD=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},Uf=/^\s*|\s*$/g,Kh=function(e){return e==null?"":(""+e).replace(Uf,"")},Cl=function(e,n){var a,i,u,c;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(c=e[i],n.call(c,i,c)===!1))break}else for(u=0;u<a&&(c=e[u],n.call(c,u,c)!==!1);u++);return e},Nx=function(e,n){var a=[];return Cl(e,function(i,u){n(u,i)&&a.push(u)}),a},di=function(e){return e?e.nodeType===9?e:e.ownerDocument:Fx};as.fn=as.prototype={constructor:as,selector:"",context:null,length:0,init:function(e,n){var a=this,i,u;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Er(e).attr(n);a.context=n=document}if(wl(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Wo.exec(e),i)if(i[1])for(u=Mx(e,di(n)).firstChild;u;)hb.call(a,u),u=u.nextSibling;else{if(u=di(n).getElementById(i[2]),!u)return a;if(u.id!==i[2])return a.find(e);a.length=1,a[0]=u}else return Er(n).find(e);else this.add(e,!1);return a},toArray:function(){return xt.toArray(this)},add:function(e,n){var a=this,i,u;if(wl(e))return a.add(Er(e));if(n!==!1)for(i=Er.unique(a.toArray().concat(Er.makeArray(e))),a.length=i.length,u=0;u<i.length;u++)a[u]=i[u];else hb.apply(a,Er.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Cl(e,function(u,c){a.attr(u,c)});else if(Vi(n))this.each(function(){var u;if(this.nodeType===1){if(u=pb[e],u&&u.set){u.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=pb[e],i&&i.get)return i.get(a[0],e);if(SD[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=kD[e]||e,typeof e=="object")Cl(e,function(i,u){a.prop(i,u)});else if(Vi(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,u,c=function(m){return m.replace(/-(\D)/g,function(g,x){return x.toUpperCase()})},v=function(m){return m.replace(/[A-Z]/g,function(g){return"-"+g})};if(typeof e=="object")Cl(e,function(m,g){a.css(m,g)});else if(Vi(n))e=c(e),typeof n=="number"&&!xD[e]&&(n=n.toString()+"px"),a.each(function(){var m=this.style;if(u=bb[e],u&&u.set){u.set(this,n);return}try{this.style[ED[e]||e]=n}catch(g){}(n===null||n==="")&&(m.removeProperty?m.removeProperty(v(e)):m.removeAttribute(e))});else{if(i=a[0],u=bb[e],u&&u.get)return u.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(v(e))}catch(m){return}else return i.currentStyle?i.currentStyle[c(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],Km.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Vi(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch(i){Er(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Vi(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return rs(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return rs(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?rs(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?rs(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Er(e).append(this),this},prependTo:function(e){return Er(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Rx(this,e)},wrapAll:function(e){return Rx(this,e,!0)},wrapInner:function(e){return this.each(function(){Er(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Er(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Er(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Cl(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,u){var c=md(u,e);if(c!==n){var v=u.className;c?u.className=Kh((" "+v+" ").replace(" "+e+" "," ")):u.className+=v?" "+e:e}})),a},hasClass:function(e){return md(this[0],e)},each:function(e){return Cl(this,e)},on:function(e,n){return this.each(function(){Km.bind(this,e,n)})},off:function(e,n){return this.each(function(){Km.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?Km.fire(this,e.type,e):Km.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Er(CD.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Er.find(e,this[n],i);return Er(i)},filter:function(e){return Er(typeof e=="function"?Nx(this.toArray(),function(n,a){return e(a,n)}):Er.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Er&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Er(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Er(n)},offset:function(e){var n,a,i,u=0,c=0,v;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(v=n.getBoundingClientRect(),u=v.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,c=v.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:u,top:c})},push:hb,sort:Array.prototype.sort,splice:Array.prototype.splice},xt.extend(as,{extend:xt.extend,makeArray:function(e){return Pc(e)||e.nodeType?[e]:xt.toArray(e)},inArray:TD,isArray:xt.isArray,each:Cl,trim:Kh,grep:Nx,find:ma,expr:ma.selectors,unique:ma.uniqueSort,text:ma.getText,contains:ma.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Er.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Er.find.matches(e,n),n}});var Nu=function(e,n,a){var i=[],u=e[n];for(typeof a!="string"&&a instanceof Er&&(a=a[0]);u&&u.nodeType!==9&&!(a!==void 0&&(u===a||typeof a=="string"&&Er(u).is(a)));)u.nodeType===1&&i.push(u),u=u[n];return i},Xh=function(e,n,a,i){var u=[];for(i instanceof Er&&(i=i[0]);e;e=e[n])if(!(a&&e.nodeType!==a)){if(i!==void 0&&(e===i||typeof i=="string"&&Er(e).is(i)))break;u.push(e)}return u},yb=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Cl({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return Nu(e,"parentNode")},next:function(e){return yb(e,"nextSibling",1)},prev:function(e){return yb(e,"previousSibling",1)},children:function(e){return Xh(e.firstChild,"nextSibling",1)},contents:function(e){return xt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){as.fn[e]=function(a){var i=this,u=[];i.each(function(){var v=n.call(u,this,a,u);v&&(Er.isArray(v)?u.push.apply(u,v):u.push(v))}),this.length>1&&(wo[e]||(u=Er.unique(u)),e.indexOf("parents")===0&&(u=u.reverse()));var c=Er(u);return a?c.filter(a):c}}),Cl({parentsUntil:function(e,n){return Nu(e,"parentNode",n)},nextUntil:function(e,n){return Xh(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return Xh(e,"previousSibling",1,n).slice(1)}},function(e,n){as.fn[e]=function(a,i){var u=this,c=[];u.each(function(){var m=n.call(c,this,a,c);m&&(Er.isArray(m)?c.push.apply(c,m):c.push(m))}),this.length>1&&(c=Er.unique(c),(e.indexOf("parents")===0||e==="prevUntil")&&(c=c.reverse()));var v=Er(c);return i?v.filter(i):v}}),as.fn.is=function(e){return!!e&&this.filter(e).length>0},as.fn.init.prototype=as.fn,as.overrideDefaults=function(e){var n,a=function(i,u){return n=n||e(),arguments.length===0&&(i=n.element),u||(u=n.context),new a.fn.init(i,u)};return Er.extend(a,this),a},as.attrHooks=pb,as.cssHooks=bb;var Er=as,Xm=xt.each,OD=xt.grep,Yh=Jn.ie,Zh=/^([a-z0-9],?)+$/i,AD=function(e,n,a){var i=n.keep_values,u={set:function(v,m,g){n.url_converter&&m!==null&&(m=n.url_converter.call(n.url_converter_scope||a(),m,g,v[0])),v.attr("data-mce-"+g,m).attr(g,m)},get:function(v,m){return v.attr("data-mce-"+m)||v.attr(m)}},c={style:{set:function(v,m){if(m!==null&&typeof m=="object"){v.css(m);return}i&&v.attr("data-mce-style",m),m!==null&&typeof m=="string"?(v.removeAttr("style"),v.css(e.parse(m))):v.attr("style",m)},get:function(v){var m=v.attr("data-mce-style")||v.attr("style");return m=e.serialize(e.parse(m),v[0].nodeName),m}}};return i&&(c.href=c.src=u),c},Co=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},ru=function(e,n){var a=0,i,u;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)u=e.nodeType,!(n&&u===3&&(u===i||!e.nodeValue.length))&&(a++,i=u);return a},Ea=function(e,n){n===void 0&&(n={});var a={},i=window,u={},c=0,v=!0,m=!0,g=qs.forElement(k.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),x=[],T=n.schema?n.schema:Ir({}),P=pl({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),B=n.ownEvents?new Yl:Yl.Event,U=T.getBlockElements(),V=Er.overrideDefaults(function(){return{context:e,element:Lv.getRoot()}}),q=function(he){if(typeof he=="string")return!!U[he];if(he){var lt=he.nodeType;if(lt)return!!(lt===1&&U[he.nodeName])}return!1},G=function(he){return he&&e&&yt(he)?e.getElementById(he):he},ie=function(he){return V(typeof he=="string"?G(he):he)},re=function(he,lt,nn){var gn,kr,Yr=ie(he);return Yr.length&&(gn=qC[lt],gn&&gn.get?kr=gn.get(Yr,lt):kr=Yr.attr(lt)),typeof kr=="undefined"&&(kr=nn||""),kr},ge=function(he){var lt=G(he);return lt?lt.attributes:[]},Me=function(he,lt,nn){nn===""&&(nn=null);var gn=ie(he),kr=gn.attr(lt);if(!!gn.length){var Yr=qC[lt];Yr&&Yr.set?Yr.set(gn,nn,lt):gn.attr(lt,nn),kr!==nn&&n.onSetAttrib&&n.onSetAttrib({attrElm:gn,attrName:lt,attrValue:nn})}},de=function(he,lt){if(!Yh||he.nodeType!==1||lt)return he.cloneNode(lt);var nn=e.createElement(he.nodeName);return Xm(ge(he),function(gn){Me(nn,gn.nodeName,re(he,gn.nodeName))}),nn},We=function(){return n.root_element||e.body},ht=function(he){var lt=Ff(he);return{x:lt.x,y:lt.y,w:lt.width,h:lt.height}},Xt=function(he,lt){return I0(e.body,G(he),lt)},Kn=function(he,lt,nn){var gn=yt(lt)?ie(he).css(lt,nn):ie(he).css(lt);n.update_styles&&Co(P,gn)},Tn=function(he,lt){var nn=ie(he).css(lt);n.update_styles&&Co(P,nn)},$t=function(he,lt,nn){var gn=ie(he);return nn?gn.css(lt):(lt=lt.replace(/-(\D)/g,function(kr,Yr){return Yr.toUpperCase()}),lt==="float"&&(lt=Jn.browser.isIE()?"styleFloat":"cssFloat"),gn[0]&&gn[0].style?gn[0].style[lt]:void 0)},ur=function(he){var lt,nn;return he=G(he),lt=$t(he,"width"),nn=$t(he,"height"),lt.indexOf("px")===-1&&(lt=0),nn.indexOf("px")===-1&&(nn=0),{w:parseInt(lt,10)||he.offsetWidth||he.clientWidth,h:parseInt(nn,10)||he.offsetHeight||he.clientHeight}},tn=function(he){he=G(he);var lt=Xt(he),nn=ur(he);return{x:lt.x,y:lt.y,w:nn.w,h:nn.h}},kn=function(he,lt){var nn;if(!he)return!1;if(!Array.isArray(he)){if(lt==="*")return he.nodeType===1;if(Zh.test(lt)){var gn=lt.toLowerCase().split(/,/),kr=he.nodeName.toLowerCase();for(nn=gn.length-1;nn>=0;nn--)if(gn[nn]===kr)return!0;return!1}if(he.nodeType&&he.nodeType!==1)return!1}var Yr=Array.isArray(he)?he:[he];return ma(lt,Yr[0].ownerDocument||Yr[0],null,Yr).length>0},en=function(he,lt,nn,gn){var kr=[],Yr,Oa=G(he);for(gn=gn===void 0,nn=nn||(We().nodeName!=="BODY"?We().parentNode:null),xt.is(lt,"string")&&(Yr=lt,lt==="*"?lt=function(Df){return Df.nodeType===1}:lt=function(Df){return kn(Df,Yr)});Oa&&!(Oa===nn||St(Oa.nodeType)||Om(Oa)||Or(Oa));){if(!lt||typeof lt=="function"&&lt(Oa))if(gn)kr.push(Oa);else return[Oa];Oa=Oa.parentNode}return gn?kr:null},hn=function(he,lt,nn){var gn=en(he,lt,nn,!1);return gn&&gn.length>0?gn[0]:null},Dn=function(he,lt,nn){var gn=lt;if(he){for(typeof lt=="string"&&(gn=function(kr){return kn(kr,lt)}),he=he[nn];he;he=he[nn])if(typeof gn=="function"&&gn(he))return he}return null},Lt=function(he,lt){return Dn(he,lt,"nextSibling")},_n=function(he,lt){return Dn(he,lt,"previousSibling")},wr=function(he,lt){return ma(he,G(lt)||n.root_element||e,[])},ra=function(he,lt,nn){var gn,kr=typeof he=="string"?G(he):he;if(!kr)return!1;if(xt.isArray(kr)&&(kr.length||kr.length===0))return gn=[],Xm(kr,function(Oa,Df){Oa&&gn.push(lt.call(nn,typeof Oa=="string"?G(Oa):Oa,Df))}),gn;var Yr=nn||this;return lt.call(Yr,kr)},Hr=function(he,lt){ie(he).each(function(nn,gn){Xm(lt,function(kr,Yr){Me(gn,Yr,kr)})})},ao=function(he,lt){var nn=ie(he);Yh?nn.each(function(gn,kr){if(kr.canHaveHTML!==!1){for(;kr.firstChild;)kr.removeChild(kr.firstChild);try{kr.innerHTML="<br>"+lt,kr.removeChild(kr.firstChild)}catch(Yr){Er("<div></div>").html("<br>"+lt).contents().slice(1).appendTo(kr)}return lt}}):nn.html(lt)},Ya=function(he,lt,nn,gn,kr){return ra(he,function(Yr){var Oa=typeof lt=="string"?e.createElement(lt):lt;return Hr(Oa,nn),gn&&(typeof gn!="string"&&gn.nodeType?Oa.appendChild(gn):typeof gn=="string"&&ao(Oa,gn)),kr?Oa:Yr.appendChild(Oa)})},su=function(he,lt,nn){return Ya(e.createElement(he),he,lt,nn,!0)},Su=Xs.decode,Ht=Xs.encodeAllRaw,ut=function(he,lt,nn){var gn="",kr;gn+="<"+he;for(kr in lt)sa(lt,kr)&&(gn+=" "+kr+'="'+Ht(lt[kr])+'"');return typeof nn!="undefined"?gn+">"+nn+"</"+he+">":gn+" />"},Gt=function(he){var lt,nn=e.createElement("div"),gn=e.createDocumentFragment();for(gn.appendChild(nn),he&&(nn.innerHTML=he);lt=nn.firstChild;)gn.appendChild(lt);return gn.removeChild(nn),gn},st=function(he,lt){var nn=ie(he);return lt?nn.each(function(){for(var gn;gn=this.firstChild;)gn.nodeType===3&&gn.data.length===0?this.removeChild(gn):this.parentNode.insertBefore(gn,this)}).remove():nn.remove(),nn.length>1?nn.toArray():nn[0]},In=function(he){return ra(he,function(lt){var nn,gn=lt.attributes;for(nn=gn.length-1;nn>=0;nn--)lt.removeAttributeNode(gn.item(nn))})},mn=function(he){return P.parse(he)},nr=function(he,lt){return P.serialize(he,lt)},Mr=function(he){var lt,nn;if(Lv!==Ea.DOM&&e===document){if(a[he])return;a[he]=!0}nn=e.getElementById("mceDefaultStyles"),nn||(nn=e.createElement("style"),nn.id="mceDefaultStyles",nn.type="text/css",lt=e.getElementsByTagName("head")[0],lt.firstChild?lt.insertBefore(nn,lt.firstChild):lt.appendChild(nn)),nn.styleSheet?nn.styleSheet.cssText+=he:nn.appendChild(e.createTextNode(he))},Ta=function(he){he||(he=""),ot(he.split(","),function(lt){u[lt]=!0,g.load(lt,Ee)})},_i=function(he,lt,nn){ie(he).toggleClass(lt,nn).each(function(){this.className===""&&Er(this).attr("class",null)})},Zi=function(he,lt){ie(he).addClass(lt)},fs=function(he,lt){_i(he,lt,!1)},Pi=function(he,lt){return ie(he).hasClass(lt)},Bi=function(he){ie(he).show()},So=function(he){ie(he).hide()},Ll=function(he){return ie(he).css("display")==="none"},Xo=function(he){return(he||"mce_")+c++},vs=function(he){var lt=typeof he=="string"?G(he):he;return gr(lt)?lt.outerHTML:Er("<div></div>").append(Er(lt).clone()).html()},Zc=function(he,lt){ie(he).each(function(){try{if("outerHTML"in this){this.outerHTML=lt;return}}catch(nn){}st(Er(this).html(lt),!0)})},Ia=function(he,lt){var nn=G(lt);return ra(he,function(gn){var kr=nn.parentNode,Yr=nn.nextSibling;return Yr?kr.insertBefore(gn,Yr):kr.appendChild(gn),gn})},ha=function(he,lt,nn){return ra(lt,function(gn){return xt.is(gn,"array")&&(he=he.cloneNode(!0)),nn&&Xm(OD(gn.childNodes),function(kr){he.appendChild(kr)}),gn.parentNode.replaceChild(he,gn)})},ho=function(he,lt){var nn;return he.nodeName!==lt.toUpperCase()&&(nn=su(lt),Xm(ge(he),function(gn){Me(nn,gn.nodeName,re(he,gn.nodeName))}),ha(nn,he,!0)),nn||he},Ms=function(he,lt){for(var nn=he,gn;nn;){for(gn=lt;gn&&nn!==gn;)gn=gn.parentNode;if(nn===gn)break;nn=nn.parentNode}return!nn&&he.ownerDocument?he.ownerDocument.documentElement:nn},Jc=function(he){return P.toHex(xt.trim(he))},Rs=function(he){if(gr(he)){var lt=he.nodeName.toLowerCase()==="a"&&!re(he,"href")&&re(he,"id");if(re(he,"name")||re(he,"data-mce-bookmark")||lt)return!0}return!1},vc=function(he,lt){var nn,gn,kr=0;if(Rs(he))return!1;if(he=he.firstChild,he){var Yr=new da(he,he.parentNode),Oa=T?T.getWhiteSpaceElements():{};lt=lt||(T?T.getNonEmptyElements():null);do{if(nn=he.nodeType,gr(he)){var Df=he.getAttribute("data-mce-bogus");if(Df){he=Yr.next(Df==="all");continue}if(gn=he.nodeName.toLowerCase(),lt&&lt[gn]){if(gn==="br"){kr++,he=Yr.next();continue}return!1}if(Rs(he))return!1}if(nn===8||nn===3&&!Ks(he.nodeValue)||nn===3&&he.parentNode&&Oa[he.parentNode.nodeName]&&Ks(he.nodeValue))return!1;he=Yr.next()}while(he)}return kr<=1},yh=function(){return e.createRange()},nN=function(he,lt,nn){var gn=yh(),kr,Yr,Oa;if(he&&lt)return gn.setStart(he.parentNode,ru(he)),gn.setEnd(lt.parentNode,ru(lt)),kr=gn.extractContents(),gn=yh(),gn.setStart(lt.parentNode,ru(lt)+1),gn.setEnd(he.parentNode,ru(he)+1),Yr=gn.extractContents(),Oa=he.parentNode,Oa.insertBefore(J0(Lv,kr),he),nn?Oa.insertBefore(nn,he):Oa.insertBefore(lt,he),Oa.insertBefore(J0(Lv,Yr),he),st(he),nn||lt},sA=function(he,lt,nn,gn){if(xt.isArray(he)){for(var kr=he.length,Yr=[];kr--;)Yr[kr]=sA(he[kr],lt,nn,gn);return Yr}n.collect&&(he===e||he===i)&&x.push([he,lt,nn,gn]);var Oa=B.bind(he,lt,nn,gn||Lv);return Oa},wh=function(he,lt,nn){if(xt.isArray(he)){for(var gn=he.length,kr=[];gn--;)kr[gn]=wh(he[gn],lt,nn);return kr}else{if(x.length>0&&(he===e||he===i))for(var gn=x.length;gn--;){var Yr=x[gn];he===Yr[0]&&(!lt||lt===Yr[1])&&(!nn||nn===Yr[2])&&B.unbind(Yr[0],Yr[1],Yr[2])}return B.unbind(he,lt,nn)}},cA=function(he,lt,nn){return B.fire(he,lt,nn)},jC=function(he){if(he&&gr(he)){var lt=he.getAttribute("data-mce-contenteditable");return lt&&lt!=="inherit"?lt:he.contentEditable!=="inherit"?he.contentEditable:null}else return null},rN=function(he){for(var lt=We(),nn=null;he&&he!==lt&&(nn=jC(he),nn===null);he=he.parentNode);return nn},lA=function(){if(x.length>0)for(var he=x.length;he--;){var lt=x[he];B.unbind(lt[0],lt[1],lt[2])}un(u,function(nn,gn){g.unload(gn),delete u[gn]}),ma.setDocument&&ma.setDocument()},aN=function(he,lt){if(Yh){for(;he;){if(lt===he)return!0;he=he.parentNode}return!1}else return he===lt||lt.contains(he)},oN=function(he){return"startContainer: "+he.startContainer.nodeName+", startOffset: "+he.startOffset+", endContainer: "+he.endContainer.nodeName+", endOffset: "+he.endOffset},Lv={doc:e,settings:n,win:i,files:u,stdMode:v,boxModel:m,styleSheetLoader:g,boundEvents:x,styles:P,schema:T,events:B,isBlock:q,$:V,$$:ie,root:null,clone:de,getRoot:We,getViewPort:ht,getRect:tn,getSize:ur,getParent:hn,getParents:en,get:G,getNext:Lt,getPrev:_n,select:wr,is:kn,add:Ya,create:su,createHTML:ut,createFragment:Gt,remove:st,setStyle:Kn,getStyle:$t,setStyles:Tn,removeAllAttribs:In,setAttrib:Me,setAttribs:Hr,getAttrib:re,getPos:Xt,parseStyle:mn,serializeStyle:nr,addStyle:Mr,loadCSS:Ta,addClass:Zi,removeClass:fs,hasClass:Pi,toggleClass:_i,show:Bi,hide:So,isHidden:Ll,uniqueId:Xo,setHTML:ao,getOuterHTML:vs,setOuterHTML:Zc,decode:Su,encode:Ht,insertAfter:Ia,replace:ha,rename:ho,findCommonAncestor:Ms,toHex:Jc,run:ra,getAttribs:ge,isEmpty:vc,createRng:yh,nodeIndex:ru,split:nN,bind:sA,unbind:wh,fire:cA,getContentEditable:jC,getContentEditableParent:rN,destroy:lA,isChildOf:aN,dumpRng:oN},qC=AD(P,n,ae(Lv));return Lv};Ea.DOM=Ea(document),Ea.nodeIndex=ru;var Ix=Ea.DOM,wb=xt.each,Wf=xt.grep,$x=0,jf=1,gd=2,zx=3,xl=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var u=Ix,c,v=function(){u.remove(x),c&&(c.onerror=c.onload=c=null)},m=function(){v(),a()},g=function(){v(),Ae(i)?i():typeof console!="undefined"&&console.log&&""+n},x=u.uniqueId();c=document.createElement("script"),c.id=x,c.type="text/javascript",c.src=xt._addCacheSuffix(n),this.settings.referrerPolicy&&u.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=m,c.onerror=g,(document.getElementsByTagName("head")[0]||document.body).appendChild(c)},e.prototype.isDone=function(n){return this.states[n]===gd},e.prototype.markDone=function(n){this.states[n]=gd},e.prototype.add=function(n,a,i,u){var c=this.states[n];this.queue.push(n),c===void 0&&(this.states[n]=$x),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:u,scope:i||this}))},e.prototype.load=function(n,a,i,u){return this.add(n,a,i,u)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,u){var c=this,v=[],m=function(x,T){wb(c.scriptLoadedCallbacks[T],function(P){Ae(P[x])&&P[x].call(P.scope)}),c.scriptLoadedCallbacks[T]=void 0};c.queueLoadedCallbacks.push({success:a,failure:u,scope:i||this});var g=function(){var x=Wf(n);if(n.length=0,wb(x,function(P){if(c.states[P]===gd){m("success",P);return}if(c.states[P]===zx){m("failure",P);return}c.states[P]!==jf&&(c.states[P]=jf,c.loading++,c.loadScript(P,function(){c.states[P]=gd,c.loading--,m("success",P),g()},function(){c.states[P]=zx,c.loading--,v.push(P),m("failure",P),g()}))}),!c.loading){var T=c.queueLoadedCallbacks.slice(0);c.queueLoadedCallbacks.length=0,wb(T,function(P){v.length===0?Ae(P.success)&&P.success.call(P.scope):Ae(P.failure)&&P.failure.call(P.scope,v)})}};g()},e.ScriptLoader=new e,e}(),Ui=function(e){var n=e,a=function(){return n},i=function(u){n=u};return{get:a,set:i}},DD=function(e){return Qe(e)&&vr(e,"raw")},_D=function(e){return Vt(e)&&e.length>1},qf={},Cb=Ui("en"),xb=function(){return Cr(qf,Cb.get())},Sb=function(){return Nn(qf,function(e){return Ln({},e)})},PD=function(e){e&&Cb.set(e)},BD=function(){return Cb.get()},FD=function(e,n){var a=qf[e];a||(qf[e]=a={}),un(n,function(i,u){a[u.toLowerCase()]=i})},Jh=function(e){var n=xb().getOr({}),a=function(g){return Ae(g)?Object.prototype.toString.call(g):i(g)?"":""+g},i=function(g){return g===""||g===null||g===void 0},u=function(g){var x=a(g);return Cr(n,x.toLowerCase()).map(a).getOr(x)},c=function(g){return g.replace(/{context:\w+}$/,"")};if(i(e))return"";if(DD(e))return a(e.raw);if(_D(e)){var v=e.slice(1),m=u(e[0]).replace(/\{([0-9]+)\}/g,function(g,x){return vr(v,x)?a(v[x]):g});return c(m)}return c(u(e))},Gf=function(){return xb().bind(function(e){return Cr(e,"_dir")}).exists(function(e){return e==="rtl"})},Qh=function(e){return vr(qf,e)},Fr={getData:Sb,setCode:PD,getCode:BD,add:FD,translate:Jh,isRtl:Gf,hasCode:Qh},Xa=function(){var e=[],n={},a={},i=[],u=function(q,G){var ie=le(i,function(re){return re.name===q&&re.state===G});ot(ie,function(re){return re.callback()})},c=function(q){if(a[q])return a[q].instance},v=function(q){var G;return a[q]&&(G=a[q].dependencies),G||[]},m=function(q,G){Xa.languageLoad!==!1&&V(q,function(){var ie=Fr.getCode(),re=","+(G||"")+",";!ie||G&&re.indexOf(","+ie+",")===-1||xl.ScriptLoader.add(n[q]+"/langs/"+ie+".js")},"loaded")},g=function(q,G,ie){var re=G;return e.push(re),a[q]={instance:re,dependencies:ie},u(q,"added"),re},x=function(q){delete n[q],delete a[q]},T=function(q,G){return typeof G=="object"?G:typeof q=="string"?{prefix:"",resource:G,suffix:""}:{prefix:q.prefix,resource:G,suffix:q.suffix}},P=function(q,G){var ie=n[q];ot(G,function(re){xl.ScriptLoader.add(ie+"/"+re)})},B=function(q,G,ie,re){var ge=v(q);ot(ge,function(Me){var de=T(G,Me);U(de.resource,de,void 0,void 0)}),ie&&(re?ie.call(re):ie.call(xl))},U=function(q,G,ie,re,ge){if(!n[q]){var Me=typeof G=="string"?G:G.prefix+G.resource+G.suffix;Me.indexOf("/")!==0&&Me.indexOf("://")===-1&&(Me=Xa.baseURL+"/"+Me),n[q]=Me.substring(0,Me.lastIndexOf("/"));var de=function(){u(q,"loaded"),B(q,G,ie,re)};a[q]?de():xl.ScriptLoader.add(Me,de,re,ge)}},V=function(q,G,ie){ie===void 0&&(ie="added"),vr(a,q)&&ie==="added"||vr(n,q)&&ie==="loaded"?G():i.push({name:q,state:ie,callback:G})};return{items:e,urls:n,lookup:a,_listeners:i,get:c,dependencies:v,requireLangPack:m,add:g,remove:x,createUrl:T,addComponents:P,load:U,waitFor:V}};Xa.languageLoad=!0,Xa.baseURL="",Xa.PluginManager=Xa(),Xa.ThemeManager=Xa();var Kf=function(e){var n=Ui(z.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(z.none())},u=function(){return n.get().isSome()},c=function(){return n.get()},v=function(m){a(),n.set(z.some(m))};return{clear:i,isSet:u,get:c,set:v}},tf=function(){var e=Kf(Ee),n=function(a){return e.get().each(a)};return Ln(Ln({},e),{on:n})},ga=function(e,n){var a=null,i=function(){I(a)||(clearTimeout(a),a=null)},u=function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];I(a)&&(a=setTimeout(function(){a=null,e.apply(null,c)},n))};return{cancel:i,throttle:u}},kb=function(e,n){var a=null,i=function(){I(a)||(clearTimeout(a),a=null)},u=function(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];i(),a=setTimeout(function(){a=null,e.apply(null,c)},n)};return{cancel:i,throttle:u}},ep=function(e,n){var a=M(e,n);return a===void 0||a===""?[]:a.split(" ")},Qo=function(e,n,a){var i=ep(e,n),u=i.concat([a]);return w(e,n,u.join(" ")),!0},nf=function(e,n,a){var i=le(ep(e,n),function(u){return u!==a});return i.length>0?w(e,n,i.join(" ")):wt(e,n),!1},tp=function(e){return e.dom.classList!==void 0},MD=function(e){return ep(e,"class")},RD=function(e,n){return Qo(e,"class",n)},np=function(e,n){return nf(e,"class",n)},hd=function(e,n){tp(e)?e.dom.classList.add(n):RD(e,n)},Eb=function(e){var n=tp(e)?e.dom.classList:MD(e);n.length===0&&wt(e,"class")},Tb=function(e,n){if(tp(e)){var a=e.dom.classList;a.remove(n)}else np(e,n);Eb(e)},Ob=function(e,n){return tp(e)&&e.dom.classList.contains(n)},Ab=function(e,n){var a=[];return ot(Ii(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Ab(i,n))}),a},au=function(e,n){return xr(n,e)},rp=ae("mce-annotation"),Bc=ae("data-mce-annotation"),ou=ae("data-mce-annotation-uid"),Lx=function(e,n){var a=e.selection.getRng(),i=k.fromDom(a.startContainer),u=k.fromDom(e.getBody()),c=n.fold(function(){return"."+rp()},function(x){return"["+Bc()+'="'+x+'"]'}),v=il(i,a.startOffset).getOr(i),m=lo(v,c,function(x){return lr(x,u)}),g=function(x,T){return _e(x,T)?z.some(M(x,T)):z.none()};return m.bind(function(x){return g(x,""+ou()).bind(function(T){return g(x,""+Bc()).map(function(P){var B=ND(e,T);return{uid:T,name:P,elements:B}})})})},ei=function(e){return Ma(e)&&Ob(e,rp())},ND=function(e,n){var a=k.fromDom(e.getBody());return au(a,"["+ou()+'="'+n+'"]')},rf=function(e,n){var a=k.fromDom(e.getBody()),i=au(a,"["+Bc()+'="'+n+'"]'),u={};return ot(i,function(c){var v=M(c,ou()),m=Cr(u,v).getOr([]);u[v]=m.concat([c])}),u},Hx=function(e,n){var a=Ui({}),i=function(){return{listeners:[],previous:tf()}},u=function(T,P){c(T,function(B){return P(B),B})},c=function(T,P){var B=a.get(),U=Cr(B,T).getOrThunk(i),V=P(U);B[T]=V,a.set(B)},v=function(T,P,B){u(T,function(U){ot(U.listeners,function(V){return V(!0,T,{uid:P,nodes:Dt(B,function(q){return q.dom})})})})},m=function(T){u(T,function(P){ot(P.listeners,function(B){return B(!1,T)})})},g=kb(function(){var T=a.get(),P=Le(Rt(T));ot(P,function(B){c(B,function(U){var V=U.previous.get();return Lx(e,z.some(B)).fold(function(){V.isSome()&&(m(B),U.previous.clear())},function(q){var G=q.uid,ie=q.name,re=q.elements;Mf(V,G)||(v(ie,G,re),U.previous.set(G))}),{previous:U.previous,listeners:U.listeners}})})},30);e.on("remove",function(){g.cancel()}),e.on("NodeChange",function(){g.throttle()});var x=function(T,P){c(T,function(B){return{previous:B.previous,listeners:B.listeners.concat([P])}})};return{addListener:x}},Vx=function(e,n){var a=function(i){return z.from(i.attr(Bc())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){ot(i,function(u){a(u).each(function(c){c.persistent===!1&&u.unwrap()})})})})},Ux=function(){var e={},n=function(i,u){e[i]={name:i,settings:u}},a=function(i){return Cr(e,i).map(function(u){return u.settings})};return{register:n,lookup:a}},ap=0,op=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return ap++,e+"_"+i+ap+String(a)},Wx=function(e,n){ot(n,function(a){hd(e,a)})},ID=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,Ii(k.fromDom(i))},$D=function(e){return Dt(e,k.fromDom)},mi=function(e){return e.dom.innerHTML},ti=function(e,n){var a=Uv(e),i=a.dom,u=k.fromDom(i.createDocumentFragment()),c=ID(n,i);qv(u,c),km(e),Yo(e,u)},Wi=function(e,n){return k.fromDom(e.dom.cloneNode(n))},jo=function(e){return Wi(e,!1)},iu=function(e){return Wi(e,!0)},ni=function(e,n,a){a===void 0&&(a=ft);var i=new da(e,n),u=function(c){var v;do v=i[c]();while(v&&!Mn(v)&&!a(v));return z.from(v).filter(Mn)};return{current:function(){return z.from(i.current()).filter(Mn)},next:function(){return u("next")},prev:function(){return u("prev")},prev2:function(){return u("prev2")}}},ip=function(e,n){var a=n||function(v){return e.isBlock(v)||fa(v)||Pa(v)},i=function(v,m,g,x){if(Mn(v)){var T=x(v,m,v.data);if(T!==-1)return z.some({container:v,offset:T})}return g().bind(function(P){return i(P.container,P.offset,g,x)})},u=function(v,m,g,x){var T=ni(v,x,a);return i(v,m,function(){return T.prev().map(function(P){return{container:P,offset:P.length}})},g).getOrNull()},c=function(v,m,g,x){var T=ni(v,x,a);return i(v,m,function(){return T.next().map(function(P){return{container:P,offset:0}})},g).getOrNull()};return{backwards:u,forwards:c}},af=Math.round,of=function(e){return e?{left:af(e.left),top:af(e.top),bottom:af(e.bottom),right:af(e.right),width:af(e.width),height:af(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Db=function(e,n){return e=of(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},jx=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},_b=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},uf=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:_b(n.top-e.bottom,e,n)},sf=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:_b(n.bottom-e.top,e,n)},qx=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},zD=function(e,n,a){return Math.min(Math.max(e,n),a)},up=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},cf=function(e,n){if(gr(e)&&e.hasChildNodes()){var a=e.childNodes,i=zD(n,0,a.length-1);return a[i]}else return e},LD=function(e,n){if(!(n<0&&gr(e)&&e.hasChildNodes()))return cf(e,n)},Pb=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Gx=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&Pb.test(e)},HD=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},VD=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Kx=gr,Xx=kc,fn=Zv("display","block table"),UD=Zv("float","left right"),vo=VD(Kx,Xx,cn(UD)),WD=cn(Zv("white-space","pre pre-line pre-wrap")),pd=Mn,Bb=fa,os=Ea.nodeIndex,sp=LD,Fb=function(e){return"createRange"in e?e.createRange():Ea.DOM.createRng()},cp=function(e){return e&&/[\r\n\t ]/.test(e)},Fc=function(e){return!!e.setStart&&!!e.setEnd},Mb=function(e){var n=e.startContainer,a=e.startOffset;if(cp(e.toString())&&WD(n.parentNode)&&Mn(n)){var i=n.data;if(cp(i[a-1])||cp(i[a+1]))return!0}return!1},Yx=function(e){var n=e.ownerDocument,a=Fb(n),i=n.createTextNode(du),u=e.parentNode;u.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var c=of(a.getBoundingClientRect());return u.removeChild(i),c},Sl=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,u=e.endOffset;if(n===a&&Mn(a)&&i===0&&u===1){var c=e.cloneRange();return c.setEndAfter(a),kl(c)}else return null},Ss=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},kl=function(e){var n,a=e.getClientRects();return a.length>0?n=of(a[0]):n=of(e.getBoundingClientRect()),!Fc(e)&&Bb(e)&&Ss(n)?Yx(e):Ss(n)&&Fc(e)?Sl(e):n},ji=function(e,n){var a=Db(e,n);return a.width=1,a.right=a.left+1,a},jD=function(e){var n=[],a=function(g){g.height!==0&&(n.length>0&&jx(g,n[n.length-1])||n.push(g))},i=function(g,x){var T=Fb(g.ownerDocument);if(x<g.data.length){if(Gx(g.data[x]))return n;if(Gx(g.data[x-1])&&(T.setStart(g,x),T.setEnd(g,x+1),!Mb(T)))return a(ji(kl(T),!1)),n}x>0&&(T.setStart(g,x-1),T.setEnd(g,x),Mb(T)||a(ji(kl(T),!1))),x<g.data.length&&(T.setStart(g,x),T.setEnd(g,x+1),Mb(T)||a(ji(kl(T),!0)))},u=e.container(),c=e.offset();if(pd(u))return i(u,c),n;if(Kx(u))if(e.isAtEnd()){var v=sp(u,c);pd(v)&&i(v,v.data.length),vo(v)&&!Bb(v)&&a(ji(kl(v),!1))}else{var v=sp(u,c);if(pd(v)&&i(v,0),vo(v)&&e.isAtEnd())return a(ji(kl(v),!1)),n;var m=sp(e.container(),e.offset()-1);vo(m)&&!Bb(m)&&(fn(m)||fn(v)||!vo(v))&&a(ji(kl(m),!1)),vo(v)&&a(ji(kl(v),!0))}return n},gt=function(e,n,a){var i=function(){return pd(e),n===0},u=function(){return pd(e)?n>=e.data.length:n>=e.childNodes.length},c=function(){var T=Fb(e.ownerDocument);return T.setStart(e,n),T.setEnd(e,n),T},v=function(){return a||(a=jD(gt(e,n))),a},m=function(){return v().length>0},g=function(T){return T&&e===T.container()&&n===T.offset()},x=function(T){return sp(e,T?n-1:n)};return{container:ae(e),offset:ae(n),toRange:c,getClientRects:v,isVisible:m,isAtStart:i,isAtEnd:u,isEqual:g,getNode:x}};gt.fromRangeStart=function(e){return gt(e.startContainer,e.startOffset)},gt.fromRangeEnd=function(e){return gt(e.endContainer,e.endOffset)},gt.after=function(e){return gt(e.parentNode,os(e)+1)},gt.before=function(e){return gt(e.parentNode,os(e))},gt.isAbove=function(e,n){return ki(Wt(n.getClientRects()),dn(e.getClientRects()),uf).getOr(!1)},gt.isBelow=function(e,n){return ki(dn(n.getClientRects()),Wt(e.getClientRects()),sf).getOr(!1)},gt.isAtStart=function(e){return e?e.isAtStart():!1},gt.isAtEnd=function(e){return e?e.isAtEnd():!1},gt.isTextPosition=function(e){return e?Mn(e.container()):!1},gt.isElementPosition=function(e){return gt.isTextPosition(e)===!1};var bd=function(e,n){Mn(n)&&n.data.length===0&&e.remove(n)},Zx=function(e,n,a){n.insertNode(a),bd(e,a.previousSibling),bd(e,a.nextSibling)},Jx=function(e,n,a){var i=z.from(a.firstChild),u=z.from(a.lastChild);n.insertNode(a),i.each(function(c){return bd(e,c.previousSibling)}),u.each(function(c){return bd(e,c.nextSibling)})},Ym=function(e,n,a){Or(a)?Jx(e,n,a):Zx(e,n,a)},Qs=Mn,Rb=vl,Qx=Ea.nodeIndex,eS=function(e){var n=e.parentNode;return Rb(n)?eS(n):n},Nb=function(e){return e?io(e.childNodes,function(n,a){return Rb(a)&&a.nodeName!=="BR"?n=n.concat(Nb(a)):n.push(a),n},[]):[]},qD=function(e,n){for(;(e=e.previousSibling)&&Qs(e);)n+=e.data.length;return n},tS=function(e){return function(n){return e===n}},Ib=function(e){var n,a;n=Nb(eS(e)),a=Br(n,tS(e),e),n=n.slice(0,a+1);var i=io(n,function(u,c,v){return Qs(c)&&Qs(n[v-1])&&u++,u},0);return n=Ha(n,Du([e.nodeName])),a=Br(n,tS(e),e),a-i},nS=function(e){var n;return Qs(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+Ib(e)+"]"},rS=function(e,n,a){var i=[];for(n=n.parentNode;n!==e&&!(a&&a(n));n=n.parentNode)i.push(n);return i},aS=function(e,n){var a,i,u=[],c,v,m;return a=n.container(),i=n.offset(),Qs(a)?c=qD(a,i):(v=a.childNodes,i>=v.length?(c="after",i=v.length-1):c="before",a=v[i]),u.push(nS(a)),m=rS(e,a),m=Ha(m,cn(vl)),u=u.concat(ko(m,function(g){return nS(g)})),u.reverse().join("/")+","+c},lp=function(e,n,a){var i=Nb(e);return i=Ha(i,function(u,c){return!Qs(u)||!Qs(i[c-1])}),i=Ha(i,Du([n])),i[a]},GD=function(e,n){for(var a=e,i=0,u;Qs(a);){if(u=a.data.length,n>=i&&n<=i+u){e=a,n=n-i;break}if(!Qs(a.nextSibling)){e=a,n=u;break}i+=u,a=a.nextSibling}return Qs(e)&&n>e.data.length&&(n=e.data.length),gt(e,n)},oS=function(e,n){var a;if(!n)return null;var i=n.split(","),u=i[0].split("/");a=i.length>1?i[1]:"before";var c=io(u,function(v,m){var g=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(m);return g?(g[1]==="text()"&&(g[1]="#text"),lp(v,g[1],parseInt(g[2],10))):null},e);return c?Qs(c)?GD(c,parseInt(a,10)):(a==="after"?a=Qx(c)+1:a=Qx(c),gt(c.parentNode,a)):null},fp=Pa,KD=function(e,n,a){var i,u;for(u=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&Mn(i);i=i.previousSibling)u+=e(i.data).length;return u},iS=function(e,n,a,i,u){var c=i[u?"startContainer":"endContainer"],v=i[u?"startOffset":"endOffset"],m=[],g,x=0,T=e.getRoot();for(Mn(c)?m.push(a?KD(n,c,v):v):(g=c.childNodes,v>=g.length&&g.length&&(x=1,v=Math.max(0,g.length-1)),m.push(e.nodeIndex(g[v],a)+x));c&&c!==T;c=c.parentNode)m.push(e.nodeIndex(c,a));return m},$b=function(e,n,a,i){var u=n.dom,c={};return c.start=iS(u,e,a,i,!0),n.isCollapsed()||(c.end=iS(u,e,a,i,!1)),Sc(i)&&(c.isFakeCaret=!0),c},vp=function(e,n,a){var i=0;return xt.each(e.select(n),function(u){if(u.getAttribute("data-mce-bogus")!=="all"){if(u===a)return!1;i++}}),i},Xf=function(e,n){var a,i,u,c=n?"start":"end";a=e[c+"Container"],i=e[c+"Offset"],gr(a)&&a.nodeName==="TR"&&(u=a.childNodes,a=u[Math.min(n?i:i-1,u.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},uS=function(e){return Xf(e,!0),Xf(e,!1),e},Za=function(e,n){var a;if(gr(e)&&(e=cf(e,n),fp(e)))return e;if(Qu(e)&&(Mn(e)&&qa(e)&&(e=e.parentNode),a=e.previousSibling,fp(a)||(a=e.nextSibling,fp(a))))return a},sS=function(e){return Za(e.startContainer,e.startOffset)||Za(e.endContainer,e.endOffset)},mo=function(e,n,a){var i=a.getNode(),u=i?i.nodeName:null,c=a.getRng();if(fp(i)||u==="IMG")return{name:u,index:vp(a.dom,u,i)};var v=sS(c);return v?(u=v.tagName,{name:u,index:vp(a.dom,u,v)}):$b(e,a,n,c)},dp=function(e){var n=e.getRng();return{start:aS(e.dom.getRoot(),gt.fromRangeStart(n)),end:aS(e.dom.getRoot(),gt.fromRangeEnd(n))}},cS=function(e){return{rng:e.getRng()}},zb=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Zm=function(e,n){var a=e.dom,i=e.getRng(),u=a.uniqueId(),c=e.isCollapsed(),v=e.getNode(),m=v.nodeName;if(m==="IMG")return{name:m,index:vp(a,m,v)};var g=uS(i.cloneRange());if(!c){g.collapse(!1);var x=zb(a,u+"_end",n);Ym(a,g,x)}i=uS(i),i.collapse(!0);var T=zb(a,u+"_start",n);return Ym(a,i,T),e.moveToBookmark({id:u,keep:!0}),{id:u}},XD=function(e,n,a){return n===2?mo(xc,a,e):n===3?dp(e):n?cS(e):Zm(e,!1)},lS=Ie(mo,Oe,!0),YD=Ea.DOM,ZD="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",fS=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var u=e.getParam(n,"","hash");return Cr(u,e.id).getOr(a)}else return i},JD=function(e){return e.getParam("iframe_attrs",{})},QD=function(e){return e.getParam("doctype","<!DOCTYPE html>")},e_=function(e){return e.getParam("document_base_url","")},t_=function(e){return fS(e,"body_id","tinymce")},n_=function(e){return fS(e,"body_class","")},vS=function(e){return e.getParam("content_security_policy","")},r_=function(e){return e.getParam("br_in_pre",!0)},Ai=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},Jm=function(e){return e.getParam("forced_root_block_attrs",{})},dS=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},a_=function(e){return e.getParam("no_newline_selector","")},Qm=function(e){return e.getParam("keep_styles",!0)},mS=function(e){return e.getParam("end_container_on_empty_block",!1)},o_=function(e){return xt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},i_=function(e){return xt.explode(e.getParam("font_size_classes",""))},u_=function(e){return e.getParam("images_dataimg_filter",jt,"function")},Yf=function(e){return e.getParam("automatic_uploads",!0,"boolean")},mp=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},gp=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},hp=function(e){return e.getParam("icons","","string")},s_=function(e){return e.getParam("icons_url","","string")},El=function(e){return e.getParam("images_upload_url","","string")},Lb=function(e){return e.getParam("images_upload_base_path","","string")},c_=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},lf=function(e){return e.getParam("images_upload_handler",null,"function")},pp=function(e){return e.getParam("content_css_cors",!1,"boolean")},gS=function(e){return e.getParam("referrer_policy","","string")},hS=function(e){return e.getParam("language","en","string")},l_=function(e){return e.getParam("language_url","","string")},pS=function(e){return e.getParam("indent_use_margin",!1)},bS=function(e){return e.getParam("indentation","40px","string")},f_=function(e){var n=e.getParam("content_css");return yt(n)?Dt(n.split(","),te):Vt(n)?n:n===!1||e.inline?[]:["default"]},yS=function(e){var n=e.getParam("font_css",[]);return Vt(n)?n:Dt(n.split(","),te)},wS=function(e){return e.getParam("directionality",Fr.isRtl()?"rtl":void 0)},v_=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Hb=function(e){var n=e.getParam("object_resizing");return n===!1||Jn.iOS?!1:yt(n)?n:"table,img,figure.image,div,video,iframe"},d_=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},m_=function(e){return e.getParam("placeholder",YD.getAttrib(e.getElement(),"placeholder"),"string")},CS=function(e){return e.getParam("event_root")},xS=function(e){return e.getParam("service_message")},yd=function(e){return e.getParam("theme")},SS=function(e){return e.getParam("validate")},eg=function(e){return e.getParam("inline_boundaries")!==!1},g_=function(e){return e.getParam("formats")},h_=function(e){var n=e.getParam("preview_styles",ZD);return yt(n)?n:""},p_=function(e){return e.getParam("format_empty_lines",!1,"boolean")},b_=function(e){return e.getParam("custom_ui_selector","","string")},Vb=function(e){return e.getParam("theme_url")},Ub=function(e){return e.getParam("inline")},y_=function(e){return e.getParam("hidden_input")},w_=function(e){return e.getParam("submit_patch")},C_=function(e){return e.getParam("encoding")==="xml"},x_=function(e){return e.getParam("add_form_submit_trigger")},S_=function(e){return e.getParam("add_unload_trigger")},k_=function(e){return Ai(e)!==""},bp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},E_=function(e){return e.getParam("disable_nodechange")},T_=function(e){return e.getParam("readonly")},O_=function(e){return e.getParam("content_css_cors")},Wb=function(e){return e.getParam("plugins","","string")},A_=function(e){return e.getParam("external_plugins")},D_=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},__=function(e){return e.getParam("visual",!0,"boolean")},tg=function(e){return e.getParam("visual_table_class","mce-item-table","string")},P_=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},B_=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},kS=gr,jb=Mn,qb=function(e){var n=e.parentNode;n&&n.removeChild(e)},ES=function(e){var n=xc(e);return{count:e.length-n.length,text:n}},TS=function(e){for(var n;(n=e.data.lastIndexOf(Se))!==-1;)e.deleteData(n,1)},wd=function(e,n){return Zf(e),n},OS=function(e,n){var a=ES(e.data.substr(0,n.offset())),i=ES(e.data.substr(n.offset())),u=a.text+i.text;return u.length>0?(TS(e),gt(e,n.offset()-a.count)):n},F_=function(e,n){var a=n.container(),i=Ne(Jt(a.childNodes),e).map(function(u){return u<n.offset()?gt(a,n.offset()-1):n}).getOr(n);return Zf(e),i},M_=function(e,n){return jb(e)&&n.container()===e?OS(e,n):wd(e,n)},R_=function(e,n){return n.container()===e.parentNode?F_(e,n):wd(e,n)},AS=function(e,n){return gt.isTextPosition(n)?M_(e,n):R_(e,n)},Zf=function(e){kS(e)&&Qu(e)&&(Mm(e)?e.removeAttribute("data-mce-caret"):qb(e)),jb(e)&&(TS(e),e.data.length===0&&qb(e))},yp=Vn().browser,N_=Pa,DS=tu,I_=Qv,$_="*[contentEditable=false],video,audio,embed,object",_S=function(e,n,a){var i=Db(n.getBoundingClientRect(),a),u,c;if(e.tagName==="BODY"){var v=e.ownerDocument.documentElement;u=e.scrollLeft||v.scrollLeft,c=e.scrollTop||v.scrollTop}else{var m=e.getBoundingClientRect();u=e.scrollLeft-m.left,c=e.scrollTop-m.top}i.left+=u,i.right+=u,i.top+=c,i.bottom+=c,i.width=1;var g=n.offsetWidth-n.clientWidth;return g>0&&(a&&(g*=-1),i.left+=g,i.right+=g),i},z_=function(e){for(var n=au(k.fromDom(e),$_),a=0;a<n.length;a++){var i=n[a].dom,u=i.previousSibling;if(Rh(u)){var c=u.data;c.length===1?u.parentNode.removeChild(u):u.deleteData(c.length-1,1)}if(u=i.nextSibling,Mh(u)){var c=u.data;c.length===1?u.parentNode.removeChild(u):u.deleteData(0,1)}}},L_=function(e,n,a,i){var u=tf(),c,v,m=Ai(e),g=m.length>0?m:"p",x=function(q,G){var ie;if(T(),I_(G))return null;if(a(G)){v=YA(g,G,q);var re=_S(n,G,q);Er(v).css("top",re.top);var ge=Er('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Ln({},re)).appendTo(n)[0];u.set({caret:ge,element:G,before:q}),q&&Er(ge).addClass("mce-visual-caret-before"),P(),ie=G.ownerDocument.createRange(),ie.setStart(v,0),ie.setEnd(v,0)}else return v=W0(G,q),ie=G.ownerDocument.createRange(),qo(v.nextSibling)?(ie.setStart(v,0),ie.setEnd(v,0)):(ie.setStart(v,1),ie.setEnd(v,1)),ie;return ie},T=function(){z_(n),v&&(Zf(v),v=null),u.on(function(q){Er(q.caret).remove(),u.clear()}),c&&(fi.clearInterval(c),c=void 0)},P=function(){c=fi.setInterval(function(){i()?Er("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Er("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},B=function(){u.on(function(q){var G=_S(n,q.element,q.before);Er(q.caret).css(Ln({},G))})},U=function(){return fi.clearInterval(c)},V=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:x,hide:T,getCss:V,reposition:B,destroy:U}},PS=function(){return yp.isIE()||yp.isEdge()||yp.isFirefox()},qo=function(e){return N_(e)||DS(e)},Jf=function(e){return qo(e)||Bo(e)&&PS()},Gb=Pa,H_=tu,BS=Zv("display","block table table-cell table-caption list-item"),FS=Qu,MS=qa,Kb=gr,V_=kc,Tl=function(e){return e>0},Qf=function(e){return e<0},ng=function(e,n){for(var a;a=e(n);)if(!MS(a))return a;return null},ev=function(e,n,a,i,u){var c=new da(e,i),v=Gb(e)||MS(e);if(Qf(n)){if(v&&(e=ng(c.prev.bind(c),!0),a(e)))return e;for(;e=ng(c.prev.bind(c),u);)if(a(e))return e}if(Tl(n)){if(v&&(e=ng(c.next.bind(c),!0),a(e)))return e;for(;e=ng(c.next.bind(c),u);)if(a(e))return e}return null},ff=function(e,n){for(;e&&e!==n;){if(BS(e))return e;e=e.parentNode}return null},Mc=function(e,n,a){return ff(e.container(),a)===ff(n.container(),a)},Cd=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return Kb(a)?a.childNodes[i+e]:null},Xb=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},RS=function(e,n,a){return ff(n,e)===ff(a,e)},Yb=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var u=a[i];if(FS(u)&&(u=u[i]),Gb(u)||H_(u)){if(RS(n,u,a))return u;break}if(V_(u))break;a=a.parentNode}return null},xd=Ie(Xb,!0),Sd=Ie(Xb,!1),wp=function(e,n,a){var i,u=Ie(Yb,!0,n),c=Ie(Yb,!1,n),v=a.startContainer,m=a.startOffset;if(qa(v)){Kb(v)||(v=v.parentNode);var g=v.getAttribute("data-mce-caret");if(g==="before"&&(i=v.nextSibling,Jf(i)))return xd(i);if(g==="after"&&(i=v.previousSibling,Jf(i)))return Sd(i)}if(!a.collapsed)return a;if(Mn(v)){if(FS(v)){if(e===1){if(i=c(v),i)return xd(i);if(i=u(v),i)return Sd(i)}if(e===-1){if(i=u(v),i)return Sd(i);if(i=c(v),i)return xd(i)}return a}if(Rh(v)&&m>=v.data.length-1)return e===1&&(i=c(v),i)?xd(i):a;if(Mh(v)&&m<=1)return e===-1&&(i=u(v),i)?Sd(i):a;if(m===v.data.length)return i=c(v),i?xd(i):a;if(m===0)return i=u(v),i?Sd(i):a}return a},Zb=function(e,n){return z.from(Cd(e?0:-1,n)).filter(Gb)},kd=function(e,n,a){var i=wp(e,n,a);return e===-1?gt.fromRangeStart(i):gt.fromRangeEnd(i)},rg=function(e){return z.from(e.getNode()).map(k.fromDom)},NS=function(e){return z.from(e.getNode(!0)).map(k.fromDom)},Jb=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},Cp=function(e,n){var a=Mc(e,n);return!a&&fa(e.getNode())?!0:a},ri;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(ri||(ri={}));var U_=Pa,Rc=Mn,IS=gr,Qb=fa,Ed=kc,$S=rD,xp=Oo,zS=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},ey=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},LS=function(e,n){if(Tl(e)){if(Ed(n.previousSibling)&&!Rc(n.previousSibling))return gt.before(n);if(Rc(n))return gt(n,0)}if(Qf(e)){if(Ed(n.nextSibling)&&!Rc(n.nextSibling))return gt.after(n);if(Rc(n))return gt(n,n.data.length)}return Qf(e)?Qb(n)?gt.before(n):gt.after(n):gt.before(n)},W_=function(e,n){var a=n.nextSibling;return a&&Ed(a)?Rc(a)?gt(a,0):gt.before(a):ty(ri.Forwards,gt.after(n),e)},ty=function(e,n,a){var i,u,c,v;if(!IS(a)||!n)return null;if(n.isEqual(gt.after(a))&&a.lastChild){if(v=gt.after(a.lastChild),Qf(e)&&Ed(a.lastChild)&&IS(a.lastChild))return Qb(a.lastChild)?gt.before(a.lastChild):v}else v=n;var m=v.container(),g=v.offset();if(Rc(m)){if(Qf(e)&&g>0)return gt(m,--g);if(Tl(e)&&g<m.length)return gt(m,++g);i=m}else{if(Qf(e)&&g>0&&(u=ey(m,g-1),Ed(u)))return!$S(u)&&(c=ev(u,e,xp,u),c)?Rc(c)?gt(c,c.data.length):gt.after(c):Rc(u)?gt(u,u.data.length):gt.before(u);if(Tl(e)&&g<m.childNodes.length&&(u=ey(m,g),Ed(u)))return Qb(u)?W_(a,u):!$S(u)&&(c=ev(u,e,xp,u),c)?Rc(c)?gt(c,0):gt.before(c):Rc(u)?gt(u,0):gt.after(u);i=u||v.getNode()}if((Tl(e)&&v.isAtEnd()||Qf(e)&&v.isAtStart())&&(i=ev(i,e,jt,a,!0),xp(i,a)))return LS(e,i);u=ev(i,e,xp,a);var x=uo(le(zS(m,a),U_));return x&&(!u||!x.contains(u))?(Tl(e)?v=gt.after(x):v=gt.before(x),v):u?LS(e,u):null},ec=function(e){return{next:function(n){return ty(ri.Forwards,n,e)},prev:function(n){return ty(ri.Backwards,n,e)}}},j_=function(e,n,a){var i=e?gt.before(a):gt.after(a);return gi(e,n,i)},qi=function(e){return fa(e)?gt.before(e):gt.after(e)},ag=function(e){return gt.isTextPosition(e)?e.offset()===0:kc(e.getNode())},og=function(e){if(gt.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return kc(e.getNode(!0))},ny=function(e,n){return!gt.isTextPosition(e)&&!gt.isTextPosition(n)&&e.getNode()===n.getNode(!0)},q_=function(e){return!gt.isTextPosition(e)&&fa(e.getNode())},HS=function(e,n,a){return e?!ny(n,a)&&!q_(n)&&og(n)&&ag(a):!ny(a,n)&&ag(n)&&og(a)},gi=function(e,n,a){var i=ec(n);return z.from(e?i.next(a):i.prev(a))},ig=function(e,n,a){return gi(e,n,a).bind(function(i){return Mc(a,i,n)&&HS(e,a,i)?gi(e,n,i):z.some(i)})},ry=function(e,n,a,i){return ig(e,n,a).bind(function(u){return i(u)?ry(e,n,u,i):z.some(u)})},ks=function(e,n){var a=e?n.firstChild:n.lastChild;return Mn(a)?z.some(gt(a,e?0:a.data.length)):a?kc(a)?z.some(e?gt.before(a):qi(a)):j_(e,n,a):z.none()},Es=Ie(gi,!0),Ts=Ie(gi,!1),uu=Ie(ks,!0),tc=Ie(ks,!1),ay="_mce_caret",nc=function(e){return gr(e)&&e.id===ay},vf=function(e,n){for(;n&&n!==e;){if(n.id===ay)return n;n=n.parentNode}return null},G_=function(e){return yt(e.start)},K_=function(e){return vr(e,"rng")},VS=function(e){return vr(e,"id")},US=function(e){return vr(e,"name")},WS=function(e){return xt.isArray(e.start)},jS=function(e,n){return gr(n)&&e.isBlock(n)&&!n.innerHTML&&!Jn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},X_=function(e,n){var a,i=e.createRng();return a=oS(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=oS(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},Y_=function(e,n){var a=e.ownerDocument.createTextNode(Se);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},qS=function(e){return e.hasChildNodes()===!1},Z_=function(e,n){return tc(e).fold(ft,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},oy=function(e,n,a){return qS(n)&&vf(e,n)?(Y_(n,a),!0):!1},GS=function(e,n,a,i){var u=a[n?"start":"end"],c,v,m,g,x=e.getRoot();if(u){for(m=u[0],v=x,c=u.length-1;c>=1;c--){if(g=v.childNodes,oy(x,v,i))return!0;if(u[c]>g.length-1)return oy(x,v,i)?!0:Z_(v,i);v=g[u[c]]}v.nodeType===3&&(m=Math.min(u[0],v.nodeValue.length)),v.nodeType===1&&(m=Math.min(u[0],v.childNodes.length)),n?i.setStart(v,m):i.setEnd(v,m)}return!0},iy=function(e){return Mn(e)&&e.data.length>0},KS=function(e,n,a){var i=e.get(a.id+"_"+n),u,c,v,m,g=a.keep,x,T;if(i){if(u=i.parentNode,n==="start"?(g?i.hasChildNodes()?(u=i.firstChild,c=1):iy(i.nextSibling)?(u=i.nextSibling,c=0):iy(i.previousSibling)?(u=i.previousSibling,c=i.previousSibling.data.length):(u=i.parentNode,c=e.nodeIndex(i)+1):c=e.nodeIndex(i),x=u,T=c):(g?i.hasChildNodes()?(u=i.firstChild,c=1):iy(i.previousSibling)?(u=i.previousSibling,c=i.previousSibling.data.length):(u=i.parentNode,c=e.nodeIndex(i)):c=e.nodeIndex(i),x=u,T=c),!g){for(m=i.previousSibling,v=i.nextSibling,xt.each(xt.grep(i.childNodes),function(P){Mn(P)&&(P.nodeValue=P.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);m&&v&&m.nodeType===v.nodeType&&Mn(m)&&!Jn.opera&&(c=m.nodeValue.length,m.appendData(v.nodeValue),e.remove(v),x=m,T=c)}return z.some(gt(x,T))}else return z.none()},J_=function(e,n){var a=e.createRng();return GS(e,!0,n,a)&&GS(e,!1,n,a)?z.some(a):z.none()},Q_=function(e,n){var a=KS(e,"start",n),i=KS(e,"end",n);return ki(a,i.or(a),function(u,c){var v=e.createRng();return v.setStart(jS(e,u.container()),u.offset()),v.setEnd(jS(e,c.container()),c.offset()),v})},e5=function(e,n){return z.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},Vr=function(e,n){var a=e.dom;if(n){if(WS(n))return J_(a,n);if(G_(n))return z.some(X_(a,n));if(VS(n))return Q_(a,n);if(US(n))return e5(a,n);if(K_(n))return z.some(n.rng)}return z.none()},tv=function(e,n,a){return XD(e,n,a)},Td=function(e,n){Vr(e,n).each(function(a){e.setRng(a)})},hu=function(e){return gr(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},t5=function(e){return function(n){return e===n}},nv=t5(du),Od=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},ug=function(e){return!Od(e)&&!nv(e)},Ad=function(e){return!!e.nodeType},XS=function(e){return e&&/^(IMG)$/.test(e.nodeName)},YS=function(e,n,a){var i=a.startOffset,u=a.startContainer;if(!(u===a.endContainer&&XS(u.childNodes[i]))&&gr(u)){var c=u.childNodes,v=void 0;i<c.length?(u=c[i],v=new da(u,e.getParent(u,e.isBlock))):(u=c[c.length-1],v=new da(u,e.getParent(u,e.isBlock)),v.next(!0));for(var m=v.current();m;m=v.next())if(Mn(m)&&!cy(m)){a.setStart(m,0),n.setRng(a);return}}},uy=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(gr(e)||!cy(e))return e}},sy=function(e,n){return Ad(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},Dd=function(e,n,a){return e.schema.isValidChild(n,a)},cy=function(e,n){if(n===void 0&&(n=!1),et(e)&&Mn(e)){var a=n?e.data.replace(/ /g,"\xA0"):e.data;return Ks(a)}else return!1},n5=function(e){return et(e)&&Mn(e)&&e.length===0},Nc=function(e,n){return Ae(e)?e=e(n):et(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},ly=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},Sp=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},kp=function(e,n,a){return Sp(e,e.getStyle(n,a),a)},ZS=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},sg=function(e,n,a){return e.getParents(n,a,e.getRoot())},r5=function(e,n){var a=function(i){var u=function(c){return c.length>1&&c.charAt(0)==="%"};return nt(["styles","attributes"],function(c){return Cr(i,c).exists(function(v){var m=Vt(v)?v:oa(v);return nt(m,u)})})};return nt(e.formatter.get(n),a)},a5=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],u=function(c){return Pn(c,function(v,m){return nt(i,function(g){return g===m})})};return nt(e.formatter.get(n),function(c){var v=u(c);return nt(e.formatter.get(a),function(m){var g=u(m);return bo(v,g)})})},Ic=function(e){return sa(e,"block")},Iu=function(e){return sa(e,"selector")},ai=function(e){return sa(e,"inline")},o5=function(e){return Iu(e)&&ai(e)&&Mf(Cr(e,"mixed"),!0)},fy=function(e){return Iu(e)&&e.expand!==!1&&!ai(e)},_d=hu,JS=sg,QS=cy,i5=sy,u5=function(e){return fa(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},ek=function(e,n){for(var a=n;a;){if(gr(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},tk=function(e,n,a,i){for(var u=n.data,c=a;e?c>=0:c<u.length;e?c--:c++)if(i(u.charAt(c)))return e?c+1:c;return-1},xn=function(e,n,a){return tk(e,n,a,function(i){return nv(i)||Od(i)})},Mo=function(e,n,a){return tk(e,n,a,ug)},cg=function(e,n,a,i,u,c){var v,m=e.getParent(a,e.isBlock)||n,g=function(T,P,B){var U=ip(e),V=u?U.backwards:U.forwards;return z.from(V(T,P,function(q,G){return _d(q.parentNode)?-1:(v=q,B(u,q,G))},m))},x=g(a,i,xn);return x.bind(function(T){return c?g(T.container,T.offset+(u?-1:0),Mo):z.some(T)}).orThunk(function(){return v?z.some({container:v,offset:u?0:v.length}):z.none()})},Ro=function(e,n,a,i,u){Mn(i)&&on(i.data)&&i[u]&&(i=i[u]);for(var c=JS(e,i),v=0;v<c.length;v++)for(var m=0;m<n.length;m++){var g=n[m];if(!(et(g.collapsed)&&g.collapsed!==a.collapsed)&&Iu(g)&&e.is(c[v],g.selector))return c[v]}return i},is=function(e,n,a,i){var u=a,c=e.dom,v=c.getRoot(),m=n[0];if(Ic(m)&&(u=m.wrapper?null:c.getParent(a,m.block,v)),!u){var g=c.getParent(a,"LI,TD,TH");u=c.getParent(Mn(a)?a.parentNode:a,function(x){return x!==v&&i5(e,x)},g)}if(u&&Ic(m)&&m.wrapper&&(u=JS(c,u,"ul,ol").reverse()[0]||u),!u)for(u=a;u[i]&&!c.isBlock(u[i])&&(u=u[i],!ly(u,"br")););return u||a},vy=function(e,n,a,i){var u=a.parentNode;return et(a[i])?!1:u===n||St(u)||e.isBlock(u)?!0:vy(e,n,u,i)},rv=function(e,n,a,i,u){var c=a,v=u?"previousSibling":"nextSibling",m=e.getRoot();if(Mn(a)&&!QS(a)&&(u?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(c))return c;for(var g=c[v];g;g=g[v]){var x=Mn(g)&&!vy(e,m,g,v);if(!_d(g)&&!u5(g)&&!QS(g,x))return c}if(c===m||c.parentNode===m){a=c;break}c=c.parentNode}return a},Ep=function(e){return _d(e.parentNode)||_d(e)},Pd=function(e,n,a,i){i===void 0&&(i=!1);var u=n.startContainer,c=n.startOffset,v=n.endContainer,m=n.endOffset,g=e.dom,x=a[0];if(gr(u)&&u.hasChildNodes()&&(u=cf(u,c),Mn(u)&&(c=0)),gr(v)&&v.hasChildNodes()&&(v=cf(v,n.collapsed?m:m-1),Mn(v)&&(m=v.nodeValue.length)),u=ek(g,u),v=ek(g,v),Ep(u)&&(u=_d(u)?u:u.parentNode,n.collapsed?u=u.previousSibling||u:u=u.nextSibling||u,Mn(u)&&(c=n.collapsed?u.length:0)),Ep(v)&&(v=_d(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Mn(v)&&(m=n.collapsed?0:v.length)),n.collapsed){var T=cg(g,e.getBody(),u,c,!0,i);T.each(function(B){var U=B.container,V=B.offset;u=U,c=V});var P=cg(g,e.getBody(),v,m,!1,i);P.each(function(B){var U=B.container,V=B.offset;v=U,m=V})}return(ai(x)||x.block_expand)&&((!ai(x)||!Mn(u)||c===0)&&(u=rv(g,a,u,c,!0)),(!ai(x)||!Mn(v)||m===v.nodeValue.length)&&(v=rv(g,a,v,m,!1))),fy(x)&&(u=Ro(g,a,n,u,"previousSibling"),v=Ro(g,a,n,v,"nextSibling")),(Ic(x)||Iu(x))&&(u=is(e,a,u,"previousSibling"),v=is(e,a,v,"nextSibling"),Ic(x)&&(g.isBlock(u)||(u=rv(g,a,u,c,!0)),g.isBlock(v)||(v=rv(g,a,v,m,!1)))),gr(u)&&(c=g.nodeIndex(u),u=u.parentNode),gr(v)&&(m=g.nodeIndex(v)+1,v=v.parentNode),{startContainer:u,startOffset:c,endContainer:v,endOffset:m}},lg=function(e,n,a){var i=n.startOffset,u=cf(n.startContainer,i),c=n.endOffset,v=cf(n.endContainer,c-1),m=function(q){var G=q[0];Mn(G)&&G===u&&i>=G.data.length&&q.splice(0,1);var ie=q[q.length-1];return c===0&&q.length>0&&ie===v&&Mn(ie)&&q.splice(q.length-1,1),q},g=function(q,G,ie){for(var re=[];q&&q!==ie;q=q[G])re.push(q);return re},x=function(q,G){return e.getParent(q,function(ie){return ie.parentNode===G},G)},T=function(q,G,ie){for(var re=ie?"nextSibling":"previousSibling",ge=q,Me=ge.parentNode;ge&&ge!==G;ge=Me){Me=ge.parentNode;var de=g(ge===q?ge:ge[re],re);de.length&&(ie||de.reverse(),a(m(de)))}};if(u===v)return a(m([u]));var P=e.findCommonAncestor(u,v);if(e.isChildOf(u,v))return T(u,P,!0);if(e.isChildOf(v,u))return T(v,P);var B=x(u,P)||u,U=x(v,P)||v;T(u,B,!0);var V=g(B===u?B:B.nextSibling,"nextSibling",U===v?U.nextSibling:U);V.length&&a(m(V)),T(v,U)},Tp=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},s5=function(e){return Rr(e,function(n){var a=up(n);return a?[k.fromDom(a)]:[]})},c5=function(e){return Tp(e).length>1},l5=function(e){return le(s5(e),Gs)},nk=function(e){return au(e,"td[data-mce-selected],th[data-mce-selected]")},rk=function(e,n){var a=nk(n);return a.length>0?a:l5(e)},av=function(e){return rk(Tp(e.selection.getSel()),k.fromDom(e.getBody()))},df=function(e,n){return Rf(e,"table",n)},Op=function(e){var n=e.startContainer,a=e.startOffset;return Mn(n)?a===0?z.some(k.fromDom(n)):z.none():z.from(n.childNodes[a]).map(k.fromDom)},dy=function(e){var n=e.endContainer,a=e.endOffset;return Mn(n)?a===n.data.length?z.some(k.fromDom(n)):z.none():z.from(n.childNodes[a-1]).map(k.fromDom)},fg=function(e){return To(e).fold(ae([e]),function(n){return[e].concat(fg(n))})},vg=function(e){return Tu(e).fold(ae([e]),function(n){return na(n)==="br"?al(n).map(function(a){return[e].concat(vg(a))}).getOr([]):[e].concat(vg(n))})},my=function(e,n){return ki(Op(n),dy(n),function(a,i){var u=Fn(fg(e),Ie(lr,a)),c=Fn(vg(e),Ie(lr,i));return u.isSome()&&c.isSome()}).getOr(!1)},Bd=function(e,n,a,i){var u=a,c=new da(a,u),v=Pn(e.schema.getMoveCaretBeforeOnEnterElements(),function(m,g){return!De(["td","th","table"],g.toLowerCase())});do{if(Mn(a)&&xt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(v[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?c.next():c.prev());u.nodeName==="BODY"&&(i?n.setStart(u,0):n.setEnd(u,u.childNodes.length))},ov=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},gy=function(e,n){var a=av(e);a.length>0?ot(a,function(i){var u=i.dom,c=e.dom.createRng();c.setStartBefore(u),c.setEndAfter(u),n(c,!0)}):n(e.selection.getRng(),!1)},hy=function(e,n,a){var i=Zm(e,n);a(i),e.moveToBookmark(i)},f5=function(e,n){var a=function(c){if(!e(c))throw new Error("Can only get "+n+" value of a "+n+" node");return i(c).getOr("")},i=function(c){return e(c)?z.from(c.dom.nodeValue):z.none()},u=function(c,v){if(!e(c))throw new Error("Can only set raw "+n+" value of a "+n+" node");c.dom.nodeValue=v};return{get:a,getOption:i,set:u}},v5=f5(so,"text"),Ap=function(e){return v5.get(e)},ak=function(e){return so(e)&&Ap(e)===Se},d5=function(e,n,a,i){return no(n).fold(function(){return"skipping"},function(u){return i==="br"||ak(n)?"valid":ei(n)?"existing":nc(n.dom)?"caret":!Dd(e,a,i)||!Dd(e,na(u),a)?"invalid-child":"valid"})},Dp=function(e,n){var a=Pd(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},oi=function(e,n,a,i){var u=n.uid,c=u===void 0?op("mce-annotation"):u,v=bi(n,["uid"]),m=k.fromTag("span",e);hd(m,rp()),w(m,""+ou(),c),w(m,""+Bc(),a);var g=i(c,v),x=g.attributes,T=x===void 0?{}:x,P=g.classes,B=P===void 0?[]:P;return A(m,T),Wx(m,B),m},Os=function(e,n,a,i,u){var c=[],v=oi(e.getDoc(),u,a,i),m=tf(),g=function(){m.clear()},x=function(){return m.get().getOrThunk(function(){var U=jo(v);return c.push(U),m.set(U),U})},T=function(U){ot(U,P)},P=function(U){var V=d5(e,U,"span",na(U));switch(V){case"invalid-child":{g();var q=Ii(U);T(q),g();break}case"valid":{var G=x();jv(U,G);break}}},B=function(U){var V=Dt(U,k.fromDom);T(V)};return lg(e.dom,n,function(U){g(),B(U)}),c},rc=function(e,n,a,i){e.undoManager.transact(function(){var u=e.selection,c=u.getRng(),v=av(e).length>0;if(c.collapsed&&!v&&Dp(e,c),u.getRng().collapsed&&!v){var m=oi(e.getDoc(),i,n,a.decorate);ti(m,du),u.getRng().insertNode(m.dom),u.select(m.dom)}else hy(u,!1,function(){gy(e,function(g){Os(e,g,n,a.decorate,i)})})})},dg=function(e){var n=Ux();Vx(e,n);var a=Hx(e);return{register:function(i,u){n.register(i,u)},annotate:function(i,u){n.lookup(i).each(function(c){rc(e,i,c,u)})},annotationChanged:function(i,u){a.addListener(i,u)},remove:function(i){Lx(e,z.some(i)).each(function(u){var c=u.elements;ot(c,Gv)})},getAll:function(i){var u=rf(e,i);return Nn(u,function(c){return Dt(c,function(v){return v.dom})})}}},iv=function(e){return{getBookmark:Ie(tv,e),moveToBookmark:Ie(Td,e)}};iv.isBookmarkNode=hu;var Fd=function(e,n){for(;n&&n!==e;){if(ys(n)||Pa(n))return n;n=n.parentNode}return null},mg=function(e,n,a){if(a.collapsed)return!1;if(Jn.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(gr(i))return nt(i.getClientRects(),function(u){return qx(u,e,n)})}return nt(a.getClientRects(),function(u){return qx(u,e,n)})},m5=function(e,n){return e.fire("PreProcess",n)},py=function(e,n){return e.fire("PostProcess",n)},g5=function(e){return e.fire("remove")},by=function(e){return e.fire("detach")},ok=function(e,n){return e.fire("SwitchMode",{mode:n})},ik=function(e,n,a,i,u){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:u})},yy=function(e,n,a,i,u){e.fire("ObjectResized",{target:n,width:a,height:i,origin:u})},wy=function(e){return e.fire("PreInit")},va=function(e){return e.fire("PostRender")},$c=function(e){return e.fire("Init")},uk=function(e,n){return e.fire("PlaceholderToggle",{state:n})},Cy=function(e,n,a){return e.fire(n,a)},xy=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},gg=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},ar={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||ar.metaKeyPressed(e)},metaKeyPressed:function(e){return Jn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Sy=Pa,sk=function(e,n){var a="data-mce-selected",i=n.dom,u=xt.each,c,v,m,g,x,T,P,B,U,V,q,G,ie,re,ge,Me=n.getDoc(),de=document,We=Math.abs,ht=Math.round,Xt=n.getBody(),Kn,Tn,$t={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ur=function(st){return st&&(st.nodeName==="IMG"||n.dom.is(st,"figure.image"))},tn=function(st){return tu(st)||i.hasClass(st,"mce-preview-object")},kn=function(st,In){if(st.type==="longpress"||st.type.indexOf("touch")===0){var mn=st.touches[0];return ur(st.target)&&!mg(mn.clientX,mn.clientY,In)}else return ur(st.target)&&!mg(st.clientX,st.clientY,In)},en=function(st){var In=st.target;kn(st,n.selection.getRng())&&!st.isDefaultPrevented()&&n.selection.select(In)},hn=function(st){return i.is(st,"figure.image")?[st.querySelector("img")]:i.hasClass(st,"mce-preview-object")&&et(st.firstElementChild)?[st,st.firstElementChild]:[st]},Dn=function(st){var In=Hb(n);return!In||st.getAttribute("data-mce-resize")==="false"||st===n.getBody()?!1:i.hasClass(st,"mce-preview-object")?Cn(k.fromDom(st.firstElementChild),In):Cn(k.fromDom(st),In)},Lt=function(st){return tn(st)?i.create("img",{src:Jn.transparentSrc}):st.cloneNode(!0)},_n=function(st,In,mn){if(et(mn)){var nr=hn(st);ot(nr,function(Mr){Mr.style[In]||!n.schema.isValid(Mr.nodeName.toLowerCase(),In)?i.setStyle(Mr,In,mn):i.setAttrib(Mr,In,""+mn)})}},wr=function(st,In,mn){_n(st,"width",In),_n(st,"height",mn)},ra=function(st){var In,mn,nr,Mr,Ta;In=st.screenX-T,mn=st.screenY-P,re=In*g[2]+V,ge=mn*g[3]+q,re=re<5?5:re,ge=ge<5?5:ge,(ur(c)||tn(c))&&d_(n)!==!1?nr=!ar.modifierPressed(st):nr=ar.modifierPressed(st),nr&&(We(In)>We(mn)?(ge=ht(re*G),re=ht(ge/G)):(re=ht(ge/G),ge=ht(re*G))),wr(v,re,ge),Mr=g.startPos.x+In,Ta=g.startPos.y+mn,Mr=Mr>0?Mr:0,Ta=Ta>0?Ta:0,i.setStyles(m,{left:Mr,top:Ta,display:"block"}),m.innerHTML=re+" &times; "+ge,g[2]<0&&v.clientWidth<=re&&i.setStyle(v,"left",B+(V-re)),g[3]<0&&v.clientHeight<=ge&&i.setStyle(v,"top",U+(q-ge)),In=Xt.scrollWidth-Kn,mn=Xt.scrollHeight-Tn,In+mn!==0&&i.setStyles(m,{left:Mr-In,top:Ta-mn}),ie||(ik(n,c,V,q,"corner-"+g.name),ie=!0)},Hr=function(){var st=ie;ie=!1,st&&(_n(c,"width",re),_n(c,"height",ge)),i.unbind(Me,"mousemove",ra),i.unbind(Me,"mouseup",Hr),de!==Me&&(i.unbind(de,"mousemove",ra),i.unbind(de,"mouseup",Hr)),i.remove(v),i.remove(m),i.remove(x),ao(c),st&&(yy(n,c,re,ge,"corner-"+g.name),i.setAttrib(c,"style",i.getAttrib(c,"style"))),n.nodeChanged()},ao=function(st){Ht();var In=i.getPos(st,Xt),mn=In.x,nr=In.y,Mr=st.getBoundingClientRect(),Ta=Mr.width||Mr.right-Mr.left,_i=Mr.height||Mr.bottom-Mr.top;c!==st&&(Ya(),c=st,re=ge=0);var Zi=n.fire("ObjectSelected",{target:st}),fs=i.getAttrib(c,a,"1");Dn(st)&&!Zi.isDefaultPrevented()?u($t,function(Pi,Bi){var So,Ll=function(Xo){var vs=hn(c)[0];T=Xo.screenX,P=Xo.screenY,V=vs.clientWidth,q=vs.clientHeight,G=q/V,g=Pi,g.name=Bi,g.startPos={x:Ta*Pi[0]+mn,y:_i*Pi[1]+nr},Kn=Xt.scrollWidth,Tn=Xt.scrollHeight,x=i.add(Xt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(x,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),v=Lt(c),i.addClass(v,"mce-clonedresizable"),i.setAttrib(v,"data-mce-bogus","all"),v.contentEditable="false",i.setStyles(v,{left:mn,top:nr,margin:0}),wr(v,Ta,_i),v.removeAttribute(a),Xt.appendChild(v),i.bind(Me,"mousemove",ra),i.bind(Me,"mouseup",Hr),de!==Me&&(i.bind(de,"mousemove",ra),i.bind(de,"mouseup",Hr)),m=i.add(Xt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},V+" &times; "+q)};So=i.get("mceResizeHandle"+Bi),So&&i.remove(So),So=i.add(Xt,"div",{id:"mceResizeHandle"+Bi,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Bi+"-resize; margin:0; padding:0"}),Jn.ie===11&&(So.contentEditable=!1),i.bind(So,"mousedown",function(Xo){Xo.stopImmediatePropagation(),Xo.preventDefault(),Ll(Xo)}),Pi.elm=So,i.setStyles(So,{left:Ta*Pi[0]+mn-So.offsetWidth/2,top:_i*Pi[1]+nr-So.offsetHeight/2})}):Ya(),i.getAttrib(c,a)||c.setAttribute(a,fs)},Ya=function(){Ht(),c&&c.removeAttribute(a),un($t,function(st,In){var mn=i.get("mceResizeHandle"+In);mn&&(i.unbind(mn),i.remove(mn))})},su=function(st){var In,mn,nr=function(Mr,Ta){if(Mr)do if(Mr===Ta)return!0;while(Mr=Mr.parentNode)};if(!(ie||n.removed)){if(u(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Mr){Mr.removeAttribute(a)}),mn=st.type==="mousedown"?st.target:e.getNode(),mn=i.$(mn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],nr(mn,Xt)&&(ut(),In=e.getStart(!0),nr(In,mn)&&nr(e.getEnd(!0),mn))){ao(mn);return}Ya()}},Su=function(st){return Sy(Fd(n.getBody(),st))},Ht=function(){un($t,function(st){st.elm&&(i.unbind(st.elm),delete st.elm)})},ut=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(st){}};n.on("init",function(){if(ut(),Jn.browser.isIE()||Jn.browser.isEdge()){n.on("mousedown click",function(mn){var nr=mn.target,Mr=nr.nodeName;!ie&&/^(TABLE|IMG|HR)$/.test(Mr)&&!Su(nr)&&(mn.button!==2&&n.selection.select(nr,Mr==="TABLE"),mn.type==="mousedown"&&n.nodeChanged())});var st=function(mn){var nr=function(Mr){fi.setEditorTimeout(n,function(){return n.selection.select(Mr)})};if(Su(mn.target)||tu(mn.target)){mn.preventDefault(),nr(mn.target);return}/^(TABLE|IMG|HR)$/.test(mn.target.nodeName)&&(mn.preventDefault(),mn.target.tagName==="IMG"&&nr(mn.target))};i.bind(Xt,"mscontrolselect",st),n.on("remove",function(){return i.unbind(Xt,"mscontrolselect",st)})}var In=fi.throttle(function(mn){n.composing||su(mn)});n.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",In),n.on("keyup compositionend",function(mn){c&&c.nodeName==="TABLE"&&In(mn)}),n.on("hide blur",Ya),n.on("contextmenu longpress",en,!0)}),n.on("remove",Ht);var Gt=function(){c=v=x=null};return{isResizable:Dn,showResizeRect:ao,hideResizeRect:Ya,updateResizeRect:su,destroy:Gt}},h5=function(e){return ys(e)||Pa(e)},ck=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},p5=function(e,n,a){var i,u=a.elementFromPoint(e,n),c=a.body.createTextRange();if((!u||u.tagName==="HTML")&&(u=a.body),c.moveToElementText(u),i=xt.toArray(c.getClientRects()),i=i.sort(function(v,m){return v=Math.abs(Math.max(v.top-n,v.bottom-n)),m=Math.abs(Math.max(m.top-n,m.bottom-n)),v-m}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return c.moveToPoint(e,n),c.collapse(!0),c}catch(v){}}return null},ky=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return Pa(ck(a,n,h5))?null:e},Ey=function(e,n,a){var i,u,c=a;if(c.caretPositionFromPoint)u=c.caretPositionFromPoint(e,n),u&&(i=a.createRange(),i.setStart(u.offsetNode,u.offset),i.collapse(!0));else if(c.caretRangeFromPoint)i=c.caretRangeFromPoint(e,n);else if(c.body.createTextRange){i=c.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch(v){i=p5(e,n,a)}return ky(i,a.body)}return i},_p=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},b5=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},lk=function(e,n,a){return b5(e,n,a)!==null},y5=function(e,n,a){return lk(e,n,function(i){return i.nodeName===a})},pu=function(e){return e&&e.nodeName==="TABLE"},Gi=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Md=function(e,n){return Qu(e)&&lk(e,n,nc)===!1},fk=function(e,n,a){for(var i=new da(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(fa(n))return!0},w5=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},C5=function(e,n){for(;n&&n!==e;){if(Pa(n))return!0;n=n.parentNode}return!1},$r=function(e,n,a,i,u){var c,v=e.getRoot(),m,g=e.schema.getNonEmptyElements(),x=e.getParent(u.parentNode,e.isBlock)||v;if(i&&fa(u)&&n&&e.isEmpty(x))return z.some(gt(u.parentNode,e.nodeIndex(u)));for(var T=new da(u,x);m=T[i?"prev":"next"]();){if(e.getContentEditableParent(m)==="false"||Md(m,v))return z.none();if(Mn(m)&&m.nodeValue.length>0)return y5(m,v,"A")===!1?z.some(gt(m,i?m.nodeValue.length:0)):z.none();if(e.isBlock(m)||g[m.nodeName.toLowerCase()])return z.none();c=m}return a&&c?z.some(gt(c,0)):z.none()},vk=function(e,n,a,i){var u,c,v=e.getRoot(),m,g,x=!1;u=i[(a?"start":"end")+"Container"],c=i[(a?"start":"end")+"Offset"];var T=gr(u)&&c===u.childNodes.length,P=e.schema.getNonEmptyElements();if(g=a,Qu(u))return z.none();if(gr(u)&&c>u.childNodes.length-1&&(g=!1),Om(u)&&(u=v,c=0),u===v){if(g&&(m=u.childNodes[c>0?c-1:0],m&&(Qu(m)||P[m.nodeName]||pu(m))))return z.none();if(u.hasChildNodes()){if(c=Math.min(!g&&c>0?c-1:c,u.childNodes.length-1),u=u.childNodes[c],c=Mn(u)&&T?u.data.length:0,!n&&u===v.lastChild&&pu(u)||C5(v,u)||Qu(u))return z.none();if(u.hasChildNodes()&&pu(u)===!1){m=u;var B=new da(u,v);do{if(Pa(m)||Qu(m)){x=!1;break}if(Mn(m)&&m.nodeValue.length>0){c=g?0:m.nodeValue.length,u=m,x=!0;break}if(P[m.nodeName.toLowerCase()]&&!Gi(m)){c=e.nodeIndex(m),u=m.parentNode,g||c++,x=!0;break}}while(m=g?B.next():B.prev())}}}return n&&(Mn(u)&&c===0&&$r(e,T,n,!0,u).each(function(U){u=U.container(),c=U.offset(),x=!0}),gr(u)&&(m=u.childNodes[c],m||(m=u.childNodes[c-1]),m&&fa(m)&&!w5(m,"A")&&!fk(e,m,!1)&&!fk(e,m,!0)&&$r(e,T,n,!0,m).each(function(U){u=U.container(),c=U.offset(),x=!0}))),g&&!n&&Mn(u)&&c===u.nodeValue.length&&$r(e,T,n,!1,u).each(function(U){u=U.container(),c=U.offset(),x=!0}),x?z.some(gt(u,c)):z.none()},hg=function(e,n){var a=n.collapsed,i=n.cloneRange(),u=gt.fromRangeStart(n);return vk(e,a,!0,i).each(function(c){(!a||!gt.isAbove(u,c))&&i.setStart(c.container(),c.offset())}),a||vk(e,a,!1,i).each(function(c){i.setEnd(c.container(),c.offset())}),a&&i.collapse(!0),_p(n,i)?z.none():z.some(i)},Rd=function(e,n){return e.splitText(n)},Pp=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,u=e.endOffset;return n===i&&Mn(n)?a>0&&a<n.nodeValue.length&&(i=Rd(n,a),n=i.previousSibling,u>a?(u=u-a,n=i=Rd(i,u).previousSibling,u=i.nodeValue.length,a=0):u=0):(Mn(n)&&a>0&&a<n.nodeValue.length&&(n=Rd(n,a),a=0),Mn(i)&&u>0&&u<i.nodeValue.length&&(i=Rd(i,u).previousSibling,u=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:u}},pg=function(e){var n=function(u,c){return lg(e,u,c)},a=Pp,i=function(u){return hg(e,u).fold(ft,function(c){return u.setStart(c.startContainer,c.startOffset),u.setEnd(c.endContainer,c.endOffset),!0})};return{walk:n,split:a,normalize:i}};pg.compareRanges=_p,pg.getCaretRangeFromPoint=Ey,pg.getSelectedNode=up,pg.getNode=cf;var x5=function(e,n){var a=function(m,g){if(!Ue(g)&&!g.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+g);var x=m.dom;Ra(x)&&(x.style[e]=g+"px")},i=function(m){var g=n(m);if(g<=0||g===null){var x=Nr(m,e);return parseFloat(x)||0}return g},u=i,c=function(m,g){return ln(g,function(x,T){var P=Nr(m,T),B=P===void 0?0:parseInt(P,10);return isNaN(B)?x:x+B},0)},v=function(m,g,x){var T=c(m,x),P=g>T?g-T:0;return P};return{set:a,get:i,getOuter:u,aggregate:c,max:v}},S5=x5("height",function(e){var n=e.dom;return Bf(e)?n.getBoundingClientRect().height:n.offsetHeight}),k5=function(e){return S5.get(e)},dk=function(e,n){var a=e.view(n);return a.fold(ae([]),function(i){var u=e.owner(i),c=dk(e,u);return[i].concat(c)})},Ty=function(e,n){var a=n.owner(e);return dk(n,a)},Oy=function(e){var n,a=e.dom===document?z.none():z.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(k.fromDom)},mk=function(e){return mr(e)},E5=Object.freeze({__proto__:null,view:Oy,owner:mk}),T5=function(e){var n=k.fromDom(document),a=Em(n),i=Ty(e,E5),u=Ou(e),c=vt(i,function(v,m){var g=Ou(m);return{left:v.left+g.left,top:v.top+g.top}},{left:0,top:0});return ll(c.left+u.left+a.left,c.top+u.top+a.top)},Ay=function(e){return na(e)==="textarea"},O5=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},A5=function(e,n){e.fire("AfterScrollIntoView",n)},D5=function(e,n){var a=Ii(e);if(a.length===0||Ay(e))return{element:e,offset:n};if(n<a.length&&!Ay(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return Ay(i)?{element:e,offset:n}:na(i)==="img"?{element:i,offset:1}:so(i)?{element:i,offset:Ap(i).length}:{element:i,offset:Ii(i).length}},Yn=function(e,n){var a=Kv(e),i=k5(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},gk=function(e,n){var a=D5(e,n),i=k.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Se+"</span>");return Xu(a.element,i),Yn(i,function(){return co(i)})},_5=function(e){return Yn(k.fromDom(e),Ee)},hk=function(e,n,a,i){B5(e,function(u,c){return P5(e,n,a,i)},a)},Nd=function(e,n,a,i,u){var c={elm:i.element.dom,alignToTop:u};if(!O5(e,c)){var v=Em(n).top;a(n,v,i,u),A5(e,c)}},P5=function(e,n,a,i){var u=k.fromDom(e.getBody()),c=k.fromDom(e.getDoc());$A(u);var v=gk(k.fromDom(a.startContainer),a.startOffset);Nd(e,c,n,v,i),v.cleanup()},pk=function(e,n,a,i){var u=k.fromDom(e.getDoc());Nd(e,u,a,_5(n),i)},B5=function(e,n,a){var i=a.startContainer,u=a.startOffset,c=a.endContainer,v=a.endOffset;n(k.fromDom(i),k.fromDom(c));var m=e.dom.createRng();m.setStart(i,u),m.setEnd(c,v),e.selection.setRng(a)},Dy=function(e,n,a,i){var u=e.pos;if(a)Au(u.left,u.top,i);else{var c=u.top-n+e.height;Au(u.left,c,i)}},Bp=function(e,n,a,i,u){var c=a+n,v=i.pos.top,m=i.bottom,g=m-v>=a;if(v<n)Dy(i,a,u!==!1,e);else if(v>c){var x=g?u!==!1:u===!0;Dy(i,a,x,e)}else m>c&&!g&&Dy(i,a,u===!0,e)},bk=function(e,n,a,i){var u=e.dom.defaultView.innerHeight;Bp(e,n,u,a,i)},yk=function(e,n,a,i){var u=e.dom.defaultView.innerHeight;Bp(e,n,u,a,i);var c=T5(a.element),v=Ff(window);c.top<v.y?Xv(a.element,i!==!1):c.top>v.bottom&&Xv(a.element,i===!0)},wk=function(e,n,a){return hk(e,bk,n,a)},Ck=function(e,n,a){return pk(e,n,bk,a)},xk=function(e,n,a){return hk(e,yk,n,a)},F5=function(e,n,a){return pk(e,n,yk,a)},M5=function(e,n,a){var i=e.inline?Ck:F5;i(e,n,a)},Id=function(e,n,a){var i=e.inline?wk:xk;i(e,n,a)},R5=function(){return k.fromDom(document)},N5=function(e){return e.dom.focus()},Qr=function(e){var n=$i(e).dom;return e.dom===n.activeElement},_y=function(e){return e===void 0&&(e=R5()),z.from(e.dom.activeElement).map(k.fromDom)},mf=function(e){return _y($i(e)).filter(function(n){return e.dom.contains(n.dom)})},zc=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},Fp={create:zc},Ki=Xn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mp=function(e,n,a,i){return e.fold(n,a,i)},bg=function(e){return e.fold(Oe,Oe,Oe)},Rp=Ki.before,$d=Ki.on,I5=Ki.after,$5={before:Rp,on:$d,after:I5,cata:Mp,getStart:bg},Np=Xn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),z5=function(e){return Np.exact(e.start,e.soffset,e.finish,e.foffset)},Lr=function(e){return e.match({domRange:function(n){return k.fromDom(n.startContainer)},relative:function(n,a){return $5.getStart(n)},exact:function(n,a,i,u){return n}})},ac=Np.domRange,zd=Np.relative,L5=Np.exact,yg=function(e){var n=Lr(e);return yc(n)},jr=Fp.create,Sk={domRange:ac,relative:zd,exact:L5,exactFromRange:z5,getWin:yg,range:jr},kk=Vn().browser,wg=function(e,n){var a=so(n)?Ap(n).length:Ii(n).length+1;return e>a?a:e<0?0:e},Ek=function(e){return Sk.range(e.start,wg(e.soffset,e.start),e.finish,wg(e.foffset,e.finish))},Cg=function(e,n){return!Yv(n.dom)&&(ia(e,n)||lr(e,n))},Ol=function(e){return function(n){return Cg(e,n.start)&&Cg(e,n.finish)}},Py=function(e){return e.inline===!0||kk.isIE()},Tk=function(e){return Sk.range(k.fromDom(e.startContainer),e.startOffset,k.fromDom(e.endContainer),e.endOffset)},H5=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?z.none():z.from(n.getRangeAt(0));return a.map(Tk)},V5=function(e){var n=yc(e);return H5(n.dom).filter(Ol(e))},xg=function(e,n){return z.from(n).filter(Ol(e)).map(Ek)},Ld=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),z.some(n)}catch(a){return z.none()}},Ip=function(e){var n=Py(e)?V5(k.fromDom(e.getBody())):z.none();e.bookmark=n.isSome()?n:e.bookmark},Ok=function(e,n){var a=k.fromDom(e.getBody()),i=Py(e)?z.from(n):z.none(),u=i.map(Tk).filter(Ol(a));e.bookmark=u.isSome()?u:e.bookmark},By=function(e){var n=e.bookmark?e.bookmark:z.none();return n.bind(function(a){return xg(k.fromDom(e.getBody()),a)}).bind(Ld)},U5=function(e){By(e).each(function(n){return e.selection.setRng(n)})},W5=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},Fy={isEditorUIElement:W5},j5=function(e){return e.type==="nodechange"&&e.selectionChange},q5=function(e,n){var a=function(){n.throttle()};Ea.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ea.DOM.unbind(document,"mouseup",a)})},Ak=function(e){e.on("focusout",function(){Ip(e)})},My=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},Ry=function(e,n){var a=Vn().browser;a.isIE()?Ak(e):My(e,n),e.on("keyup NodeChange",function(i){j5(i)||Ip(e)})},Ny=function(e){var n=ga(function(){Ip(e)},0);e.on("init",function(){e.inline&&q5(e,n),Ry(e,n)}),e.on("remove",function(){n.cancel()})},Hd,$p=Ea.DOM,Dk=function(e){return Fy.isEditorUIElement(e)},zp=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},Lp=function(e,n){var a=b_(e),i=$p.getParent(n,function(u){return Dk(u)||(a?e.dom.is(u,a):!1)});return i!==null},_k=function(e){try{var n=$i(k.fromDom(e.getElement()));return _y(n).fold(function(){return document.body},function(a){return a.dom})}catch(a){return document.body}},G5=function(e,n){var a=n.editor;Ny(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){fi.setEditorTimeout(a,function(){var i=e.focusedEditor;!Lp(a,_k(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Hd||(Hd=function(i){var u=e.activeEditor;u&&Si(i).each(function(c){c.ownerDocument===document&&c!==document.body&&!Lp(u,c)&&e.focusedEditor===u&&(u.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},$p.bind(document,"focusin",Hd))},Pk=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||($p.unbind(document,"focusin",Hd),Hd=null)},Bk=function(e){e.on("AddEditor",Ie(G5,e)),e.on("RemoveEditor",Ie(Pk,e))},Fk=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},Mk=function(e){return e.collapsed?z.from(cf(e.startContainer,e.startOffset)).map(k.fromDom):z.none()},Rk=function(e,n){return Mk(n).bind(function(a){return ea(a)?z.some(a):ia(e,a)===!1?z.some(e):z.none()})},Nk=function(e,n){Rk(k.fromDom(e.getBody()),n).bind(function(a){return uu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},Iy=function(e){if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},K5=function(e){return Qr(e)||mf(e).isSome()},X5=function(e){return e.iframeElement&&Qr(k.fromDom(e.iframeElement))},Y5=function(e){var n=e.getBody();return n&&K5(k.fromDom(n))},Z5=function(e){var n=$i(k.fromDom(e.getElement()));return _y(n).filter(function(a){return!zp(a.dom)&&Lp(e,a.dom)}).isSome()},uv=function(e){return e.inline?Y5(e):X5(e)},J5=function(e){return uv(e)||Z5(e)},Hp=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&uv(e)===!1&&By(e).each(function(c){e.selection.setRng(c),i=c});var u=Fk(e,n.getNode());if(e.$.contains(a,u)){Iy(u),Nk(e,i),Vp(e);return}e.inline||(Jn.opera||Iy(a),e.getWin().focus()),(Jn.gecko||e.inline)&&(Iy(a),Nk(e,i)),Vp(e)},Vp=function(e){return e.editorManager.setActive(e)},Q5=function(e,n){e.removed||(n?Vp(e):Hp(e))},$y=function(e,n,a,i,u){var c=a?n.startContainer:n.endContainer,v=a?n.startOffset:n.endOffset;return z.from(c).map(k.fromDom).map(function(m){return!i||!n.collapsed?il(m,u(m,v)).getOr(m):m}).bind(function(m){return Ma(m)?z.some(m):no(m).filter(Ma)}).map(function(m){return m.dom}).getOr(e)},zy=function(e,n,a){return $y(e,n,!0,a,function(i,u){return Math.min(Oh(i),u)})},Ik=function(e,n,a){return $y(e,n,!1,a,function(i,u){return u>0?u-1:u})},$k=function(e,n){for(var a=e;e&&Mn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},eP=function(e,n){var a,i,u;if(!n)return e;i=n.startContainer,u=n.endContainer;var c=n.startOffset,v=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===u&&v-c<2&&i.hasChildNodes()&&(a=i.childNodes[c]),i.nodeType===3&&u.nodeType===3&&(i.length===c?i=$k(i.nextSibling,!0):i=i.parentNode,v===0?u=$k(u.previousSibling,!1):u=u.parentNode,i&&i===u))?i:a&&a.nodeType===3?a.parentNode:a},tP=function(e,n,a,i){var u,c=[],v=e.getRoot();if(a=e.getParent(a||zy(v,n,n.collapsed),e.isBlock),i=e.getParent(i||Ik(v,n,n.collapsed),e.isBlock),a&&a!==v&&c.push(a),a&&i&&a!==i){u=a;for(var m=new da(a,v);(u=m.next())&&u!==i;)e.isBlock(u)&&c.push(u)}return i&&a!==i&&i!==v&&c.push(i),c},nP=function(e,n,a){return z.from(n).map(function(i){var u=e.nodeIndex(i),c=e.createRng();return c.setStart(i.parentNode,u),c.setEnd(i.parentNode,u+1),a&&(Bd(e,c,i,!0),Bd(e,c,i,!1)),c})},Vd=function(e,n){return Dt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},rP={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Up=function(e,n,a){var i=a?"lastChild":"firstChild",u=a?"prev":"next";if(e[i])return e[i];if(e!==n){var c=e[u];if(c)return c;for(var v=e.parent;v&&v!==n;v=v.parent)if(c=v[u],c)return c}},Ly=function(e){if(!Ks(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},zk=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},us=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,rP[n]||1);return a&&un(a,function(u,c){i.attr(c,u)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,u;if(typeof n!="string")return n!=null&&un(n,function(v,m){i.attr(m,v)}),i;if(u=i.attributes){if(a!==void 0){if(a===null){if(n in u.map){delete u.map[n];for(var c=u.length;c--;)if(u[c].name===n)return u.splice(c,1),i}return i}if(n in u.map){for(var c=u.length;c--;)if(u[c].name===n){u[c].value=a;break}}else u.push({name:n,value:a});return u.map[n]=a,i}return u.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var u=[];u.map={};for(var c=0,v=i.length;c<v;c++){var m=i[c];m.name!=="id"&&(u[u.length]={name:m.name,value:m.value},u.map[m.name]=m.value)}a.attributes=u}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,u=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):u.next=i,a.lastChild===n?(a.lastChild=u,u&&(u.next=null)):i.prev=u,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var u=a.parent||this;return i?(a===u.firstChild?u.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===u.lastChild?u.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=u,n},e.prototype.getAll=function(n){for(var a=this,i=[],u=a.firstChild;u;u=Up(u,a))u.name===n&&i.push(u);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=Up(i,n))a.push(i);for(var u=a.length;u--;){var i=a[u];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var u=this,c=u.firstChild;if(zk(u))return!1;if(c)do{if(c.type===1){if(c.attr("data-mce-bogus"))continue;if(n[c.name]||zk(c))return!1}if(c.type===8||c.type===3&&!Ly(c)||c.type===3&&c.parent&&a[c.parent.name]&&Ks(c.value)||i&&i(c))return!1}while(c=Up(c,u));return!0},e.prototype.walk=function(n){return Up(this,null,n)},e}(),Lk=function(e){for(var n=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},u=op("img"),c,v=0,m=0;c=n.exec(e);){var g=c[0],x=u+"_"+m++;i[x]=g,v<c.index&&a.push(e.substr(v,c.index-v)),a.push(x),v=c.index+g.length}var T=new RegExp(u+"_[0-9]+","g");return v===0?{prefix:u,uris:i,html:e,re:T}:(v<e.length&&a.push(e.substr(v)),{prefix:u,uris:i,html:a.join(""),re:T})},Wp=function(e,n){return e.replace(n.re,function(a){return Cr(n.uris,a).getOr(a)})},aP=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?z.some({type:n[1],data:decodeURIComponent(n[2])}):z.none()},Hk=xt.each,oP=xt.trim,iP="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),jp={ftp:21,http:80,https:443,mailto:25},Vk=["img","video"],Uk=function(e,n){return et(e)?!e:et(n)?!De(Vk,n):!0},Wk=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?Uk(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},Al=function(){function e(n,a){n=oP(n),this.settings=a||{};var i=this.settings.base_uri,u=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){u.source=n;return}var c=n.indexOf("//")===0;if(n.indexOf("/")===0&&!c&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var v=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+u.toAbsPath(v,n);else{var m=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+u.toAbsPath(v,m[1])+m[2]}}n=n.replace(/@@/g,"(mce_at)");var g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);Hk(iP,function(x,T){var P=g[T];P&&(P=P.replace(/\(mce_at\)/g,"@@")),u[x]=P}),i&&(u.protocol||(u.protocol=i.protocol),u.userInfo||(u.userInfo=i.userInfo),!u.port&&u.host==="mce_host"&&(u.port=i.port),(!u.host||u.host==="mce_host")&&(u.host=i.host),u.source=""),c&&(u.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),u=/data:([^;]+)/.exec(i[0]);return u&&(a=u[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var u=Xs.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}return/((java|vb)script|mhtml):/i.test(u)?!1:!Wk(i,u,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var u=this.getURI(),c=i.getURI();return u===c||u.charAt(u.length-1)==="/"&&u.substr(0,u.length-1)===c?u:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=jp[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,u="",c,v,m=n.substring(0,n.lastIndexOf("/")).split("/"),g=a.split("/");if(m.length>=g.length){for(c=0,v=m.length;c<v;c++)if(c>=g.length||m[c]!==g[c]){i=c+1;break}}if(m.length<g.length){for(c=0,v=g.length;c<v;c++)if(c>=m.length||m[c]!==g[c]){i=c+1;break}}if(i===1)return a;for(c=0,v=m.length-(i-1);c<v;c++)u+="../";for(c=i-1,v=g.length;c<v;c++)c!==i-1?u+="/"+g[c]:u+=g[c];return u},e.prototype.toAbsPath=function(n,a){var i,u=0,c=[],v,m=/\/$/.test(a)?"/":"",g=n.split("/"),x=a.split("/");for(Hk(g,function(T){T&&c.push(T)}),g=c,i=x.length-1,c=[];i>=0;i--)if(!(x[i].length===0||x[i]===".")){if(x[i]===".."){u++;continue}if(u>0){u--;continue}c.push(x[i])}return i=g.length-u,i<=0?v=_t(c).join("/"):v=g.slice(0,i).join("/")+"/"+_t(c).join("/"),v.indexOf("/")!==0&&(v="/"+v),m&&v.lastIndexOf("/")!==v.length-1&&(v+=m),v},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),uP=xt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),sP=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},Hy=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,u=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,c=e.getShortEndedElements(),v=1,m=a;v!==0;)for(i.lastIndex=m;;){var g=i.exec(n);if(g===null)return m;if(g[1]==="!"){O(g[2],"--")?m=Vy(n,!1,g.index+3):m=Vy(n,!0,g.index+1);break}else{u.lastIndex=i.lastIndex;var x=u.exec(n);if(I(x)||x.index!==i.lastIndex)continue;g[1]==="/"?v-=1:vr(c,g[2])||(v+=1),m=i.lastIndex+x[0].length;break}}return m},cP=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},Vy=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&cP(i,a)){var u=i.indexOf("[endif]",a);return i.indexOf(">",u)}else if(n){var c=i.indexOf(">",a);return c!==-1?c:i.length}else{var v=/--!?>/g;v.lastIndex=a;var m=v.exec(e);return m?m.index+m[0].length:i.length}},lP=function(e,n){var a=e.exec(n);if(a){var i=a[1],u=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?u:null}else return null},qp=function(e,n){var a;n===void 0&&(n=Ir()),e=e||{};var i=(a=e.document)!==null&&a!==void 0?a:document,u=i.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var c=e.comment?e.comment:Ee,v=e.cdata?e.cdata:Ee,m=e.text?e.text:Ee,g=e.start?e.start:Ee,x=e.end?e.end:Ee,T=e.pi?e.pi:Ee,P=e.doctype?e.doctype:Ee,B=function(V,q){q===void 0&&(q="html");for(var G=V.html,ie,re=0,ge,Me,de=[],We,ht,Xt,Kn,Tn,$t,ur,tn,kn,en,hn,Dn,Lt,_n,wr,ra,Hr,ao=0,Ya=Xs.decode,su=xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Su=q==="html"?0:1,Ht=function(Ia){var ha,ho;for(ha=de.length;ha--&&de[ha].name!==Ia;);if(ha>=0){for(ho=de.length-1;ho>=ha;ho--)Ia=de[ho],Ia.valid&&x(Ia.name);de.length=ha}},ut=function(Ia,ha){return m(Wp(Ia,V),ha)},Gt=function(Ia){Ia!==""&&(Ia.charAt(0)===">"&&(Ia=" "+Ia),!e.allow_conditional_comments&&Ia.substr(0,3).toLowerCase()==="[if"&&(Ia=" "+Ia),c(Wp(Ia,V)))},st=function(Ia){return Wp(Ia,V)},In=function(Ia,ha){var ho=Ia||"",Ms=!O(ho,"--"),Jc=Vy(G,Ms,ha);return Ia=G.substr(ha,Jc-ha),Gt(Ms?ho+Ia:Ia),Jc+1},mn=function(Ia,ha,ho,Ms,Jc){if(ha=ha.toLowerCase(),ho=st(ha in Zi?ha:Ya(ho||Ms||Jc||"")),fs&&!Tn&&sP(ha)===!1){var Rs=hn[ha];if(!Rs&&Dn){for(var vc=Dn.length;vc--&&(Rs=Dn[vc],!Rs.pattern.test(ha)););vc===-1&&(Rs=null)}if(!Rs||Rs.validValues&&!(ho in Rs.validValues))return}var yh=ha==="name"||ha==="id";yh&&Ia in uP&&(ho in i||ho in u)||su[ha]&&!Al.isDomSafe(ho,Ia,e)||Tn&&(ha in su||ha.indexOf("on")===0)||(We.map[ha]=ho,We.push({name:ha,value:ho}))},nr=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Mr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ta=n.getShortEndedElements(),_i=e.self_closing_elements||n.getSelfClosingElements(),Zi=n.getBoolAttrs(),fs=e.validate,Pi=e.remove_internals,Bi=e.fix_self_closing,So=n.getSpecialElements(),Ll=G+">";ie=nr.exec(Ll);){var Xo=ie[0];if(re<ie.index&&ut(Ya(G.substr(re,ie.index-re))),ge=ie[7])ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),Ht(ge);else if(ge=ie[8]){if(ie.index+Xo.length>G.length){ut(Ya(G.substr(ie.index))),re=ie.index+Xo.length;continue}ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),$t=ge in Ta,Bi&&_i[ge]&&de.length>0&&de[de.length-1].name===ge&&Ht(ge);var vs=lP(Mr,ie[9]);if(vs!==null){if(vs==="all"){re=Hy(n,G,nr.lastIndex),nr.lastIndex=re;continue}tn=!1}if(!fs||(ur=n.getElementRule(ge))){if(tn=!0,fs&&(hn=ur.attributes,Dn=ur.attributePatterns),(en=ie[9])?(Tn=en.indexOf("data-mce-type")!==-1,Tn&&Pi&&(tn=!1),We=[],We.map={},en.replace(Mr,function(Ia,ha,ho,Ms,Jc){return mn(ge,ha,ho,Ms,Jc),""})):(We=[],We.map={}),fs&&!Tn){if(Lt=ur.attributesRequired,_n=ur.attributesDefault,wr=ur.attributesForced,ra=ur.removeEmptyAttrs,ra&&!We.length&&(tn=!1),wr)for(ht=wr.length;ht--;)kn=wr[ht],Kn=kn.name,Hr=kn.value,Hr==="{$uid}"&&(Hr="mce_"+ao++),We.map[Kn]=Hr,We.push({name:Kn,value:Hr});if(_n)for(ht=_n.length;ht--;)kn=_n[ht],Kn=kn.name,Kn in We.map||(Hr=kn.value,Hr==="{$uid}"&&(Hr="mce_"+ao++),We.map[Kn]=Hr,We.push({name:Kn,value:Hr}));if(Lt){for(ht=Lt.length;ht--&&!(Lt[ht]in We.map););ht===-1&&(tn=!1)}if(kn=We.map["data-mce-bogus"]){if(kn==="all"){re=Hy(n,G,nr.lastIndex),nr.lastIndex=re;continue}tn=!1}}tn&&g(ge,We,$t)}else tn=!1;if(Me=So[ge]){Me.lastIndex=re=ie.index+Xo.length,(ie=Me.exec(G))?(tn&&(Xt=G.substr(re,ie.index-re)),re=ie.index+ie[0].length):(Xt=G.substr(re),re=G.length),tn&&(Xt.length>0&&ut(Xt,!0),x(ge)),nr.lastIndex=re;continue}$t||(!en||en.indexOf("/")!==en.length-1?de.push({name:ge,valid:tn}):tn&&x(ge))}else if(ge=ie[1])Gt(ge);else if(ge=ie[2]){var Zc=Su===1||e.preserve_cdata||de.length>0&&n.isValidChild(de[de.length-1].name,"#cdata");if(Zc)v(ge);else{re=In("",ie.index+2),nr.lastIndex=re;continue}}else if(ge=ie[3])P(ge);else if((ge=ie[4])||Xo==="<!"){re=In(ge,ie.index+Xo.length),nr.lastIndex=re;continue}else if(ge=ie[5])if(Su===1)T(ge,ie[6]);else{re=In("?",ie.index+2),nr.lastIndex=re;continue}re=ie.index+Xo.length}for(re<G.length&&ut(Ya(G.substr(re))),ht=de.length-1;ht>=0;ht--)ge=de[ht],ge.valid&&x(ge.name)},U=function(V,q){q===void 0&&(q="html"),B(Lk(V),q)};return{parse:U}};qp.findEndTag=Hy;var fP=function(e,n){var a=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return n.replace(a,"")},jk=function(e,n){for(var a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,i=e.schema,u=fP(e.getTempAttrs(),n),c=i.getShortEndedElements(),v;v=a.exec(u);){var m=a.lastIndex,g=v[0].length,x=void 0;c[v[1]]?x=m:x=qp.findEndTag(i,u,m),u=u.substring(0,m-g)+u.substring(x),a.lastIndex=m-g}return xc(u)},vP=jk,dP=function(e,n){var a=Ai(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},mP=function(e,n){return Ln(Ln({},e),{format:n,get:!0,getInner:!0})},Gp=function(e,n,a,i){var u=mP(n,a),c=n.no_events?u:e.fire("BeforeGetContent",u),v;return c.format==="raw"?v=xt.trim(vP(e.serializer,i.innerHTML)):c.format==="text"?v=e.dom.isEmpty(i)?"":xc(i.innerText||i.textContent):c.format==="tree"?v=e.serializer.serialize(i,c):v=dP(e,e.serializer.serialize(i,c)),!De(["text","tree"],c.format)&&!Fm(k.fromDom(i))?c.content=xt.trim(v):c.content=v,c.no_events?c.content:e.fire("GetContent",c).content},qk=function(e,n,a){return z.from(e.getBody()).fold(ae(n.format==="tree"?new us("body",11):""),function(i){return Gp(e,n,a,i)})},Gk=xt.each,Kk=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var u=function(v){var m={};return Gk(e.getAttribs(v),function(g){var x=g.nodeName.toLowerCase();x.indexOf("_")!==0&&x!=="style"&&x.indexOf("data-")!==0&&(m[x]=e.getAttrib(v,x))}),m},c=function(v,m){var g,x;for(x in v)if(vr(v,x)){if(g=m[x],typeof g=="undefined"||v[x]!==g)return!1;delete m[x]}for(x in m)if(vr(m,x))return!1;return!0};return!c(u(a),u(i))||!c(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!hu(a)&&!hu(i)};return{compare:n}},Xk=xt.makeMap,Yk=function(e){var n=[];e=e||{};var a=e.indent,i=Xk(e.indent_before||""),u=Xk(e.indent_after||""),c=Xs.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format==="html";return{start:function(m,g,x){var T,P,B,U;if(a&&i[m]&&n.length>0&&(U=n[n.length-1],U.length>0&&U!==`
`&&n.push(`
`)),n.push("<",m),g)for(T=0,P=g.length;T<P;T++)B=g[T],n.push(" ",B.name,'="',c(B.value,!0),'"');!x||v?n[n.length]=">":n[n.length]=" />",x&&a&&u[m]&&n.length>0&&(U=n[n.length-1],U.length>0&&U!==`
`&&n.push(`
`))},end:function(m){var g;n.push("</",m,">"),a&&u[m]&&n.length>0&&(g=n[n.length-1],g.length>0&&g!==`
`&&n.push(`
`))},text:function(m,g){m.length>0&&(n[n.length]=g?m:c(m))},cdata:function(m){n.push("<![CDATA[",m,"]]>")},comment:function(m){n.push("<!--",m,"-->")},pi:function(m,g){g?n.push("<?",m," ",c(g),"?>"):n.push("<?",m,"?>"),a&&n.push(`
`)},doctype:function(m){n.push("<!DOCTYPE",m,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Ud=function(e,n){n===void 0&&(n=Ir());var a=Yk(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(u){var c=e.validate,v={3:function(g){a.text(g.value,g.raw)},8:function(g){a.comment(g.value)},7:function(g){a.pi(g.name,g.value)},10:function(g){a.doctype(g.value)},4:function(g){a.cdata(g.value)},11:function(g){if(g=g.firstChild)do m(g);while(g=g.next)}};a.reset();var m=function(g){var x=v[g.type];if(x)x(g);else{var T=g.name,P=g.shortEnded,B=g.attributes;if(c&&B&&B.length>1){var U=[];U.map={};var V=n.getElementRule(g.name);if(V){for(var q=0,G=V.attributesOrder.length;q<G;q++){var ie=V.attributesOrder[q];if(ie in B.map){var re=B.map[ie];U.map[ie]=re,U.push({name:ie,value:re})}}for(var q=0,G=B.length;q<G;q++){var ie=B[q].name;if(!(ie in U.map)){var re=B.map[ie];U.map[ie]=re,U.push({name:ie,value:re})}}B=U}}if(a.start(g.name,B,P),!P){if(g=g.firstChild)do m(g);while(g=g.next);a.end(T)}}};return u.type===1&&!e.inner?m(u):v[11](u),a.getContent()};return{serialize:i}},Zk=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];ot(e,function(n){Zk.add(n)})})();var Jk=["font","text-decoration","text-emphasis"],Kp=function(e,n){return Rt(e.parseStyle(e.getAttrib(n,"style")))},gP=function(e){return Zk.has(e)},Qk=function(e,n){return qr(Kp(e,n),function(a){return!gP(a)})},e3=function(e){return le(e,function(n){return nt(Jk,function(a){return O(n,a)})})},hP=function(e,n,a){var i=Kp(e,n),u=Kp(e,a),c=function(v){var m=e.getStyle(n,v),g=e.getStyle(a,v);return qe(m)&&qe(g)&&m!==g};return nt(i,function(v){var m=function(x){return nt(x,function(T){return T===v})};if(!m(u)&&m(Jk)){var g=e3(u);return nt(g,c)}else return c(v)})},t3=function(e,n,a){return z.from(a.container()).filter(Mn).exists(function(i){var u=e?0:-1;return n(i.data.charAt(a.offset()+u))})},Uy=Ie(t3,!0,Od),Wy=Ie(t3,!1,Od),pP=function(e){var n=e.container();return Mn(n)&&(n.data.length===0||mu(n.data)&&iv.isBookmarkNode(n.parentNode))},gf=function(e,n){return function(a){return z.from(Cd(e?0:-1,a)).filter(n).isSome()}},n3=function(e){return Am(e)&&Nr(k.fromDom(e),"display")==="block"},r3=function(e){return Pa(e)&&!Po(e)},bP=gf(!0,n3),yP=gf(!1,n3),Wd=gf(!0,tu),jd=gf(!1,tu),a3=gf(!0,Bo),o3=gf(!1,Bo),hf=gf(!0,r3),pf=gf(!1,r3),wP=function(e){for(var n=[],a=e.dom;a;)n.push(k.fromDom(a)),a=a.lastChild;return n},CP=function(e){var n=au(e,"br"),a=le(wP(e).slice(-1),ad);n.length===a.length&&ot(a,co)},sv=function(e){km(e),Yo(e,k.fromHtml('<br data-mce-bogus="1">'))},tr=function(e){Tu(e).each(function(n){al(n).each(function(a){Zu(e)&&ad(n)&&Zu(a)&&co(n)})})},xP=function(e){return e.slice(0,-1)},jy=function(e,n,a){return ia(n,e)?xP(Th(e,function(i){return a(i)||lr(i,n)})):[]},i3=function(e,n){return jy(e,n,ft)},Dl=function(e,n){return[e].concat(i3(e,n))},Xp=function(e,n,a){return ry(e,n,a,pP)},Sg=function(e,n){return Fn(Dl(k.fromDom(n.container()),e),Zu)},qy=function(e,n,a){return Xp(e,n.dom,a).forall(function(i){return Sg(n,a).fold(function(){return Mc(i,a,n.dom)===!1},function(u){return Mc(i,a,n.dom)===!1&&ia(u,k.fromDom(i.container()))})})},u3=function(e,n,a){return Sg(n,a).fold(function(){return Xp(e,n.dom,a).forall(function(i){return Mc(i,a,n.dom)===!1})},function(i){return Xp(e,i.dom,a).isNone()})},Gy=Ie(u3,!1),yr=Ie(u3,!0),SP=Ie(qy,!1),Ar=Ie(qy,!0),s3=function(e){return rg(e).exists(ad)},Yp=function(e,n,a){var i=le(Dl(k.fromDom(a.container()),n),Zu),u=Wt(i).getOr(n);return gi(e,u.dom,a).filter(s3)},Ky=function(e,n){return rg(n).exists(ad)||Yp(!0,e,n).isSome()},Xy=function(e,n){return NS(n).exists(ad)||Yp(!1,e,n).isSome()},kP=Ie(Yp,!1),EP=Ie(Yp,!0),c3=function(e){return gt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},l3=function(e,n){var a=le(Dl(k.fromDom(n.container()),e),Zu);return Wt(a).getOr(e)},fr=function(e,n){return c3(n)?Wy(n):Wy(n)||Ts(l3(e,n).dom,n).exists(Wy)},f3=function(e,n){return c3(n)?Uy(n):Uy(n)||Es(l3(e,n).dom,n).exists(Uy)},v3=function(e){return De(["pre","pre-wrap"],e)},Zp=function(e){return rg(e).bind(function(n){return Ph(n,Ma)}).exists(function(n){return v3(Nr(n,"white-space"))})},d3=function(e,n){return Ts(e.dom,n).isNone()},m3=function(e,n){return Es(e.dom,n).isNone()},g3=function(e,n){return d3(e,n)||m3(e,n)||Gy(e,n)||yr(e,n)||Xy(e,n)||Ky(e,n)},Yy=function(e,n){return Zp(n)?!1:g3(e,n)||fr(e,n)||f3(e,n)},Jp=function(e,n){return Zp(n)?!1:Gy(e,n)||SP(e,n)||Xy(e,n)||fr(e,n)},h3=function(e){var n=e.container(),a=e.offset();return Mn(n)&&a<n.data.length?gt(n,a+1):e},Qp=function(e,n){return Zp(n)?!1:yr(e,n)||Ar(e,n)||Ky(e,n)||f3(e,n)},p3=function(e,n){return Jp(e,n)||Qp(e,h3(n))},b3=function(e,n){return nv(e.charAt(n))},TP=function(e){var n=e.container();return Mn(n)&&kt(n.data,du)},OP=function(e){var n=e.split("");return Dt(n,function(a,i){return nv(a)&&i>0&&i<n.length-1&&ug(n[i-1])&&ug(n[i+1])?" ":a}).join("")},AP=function(e,n){var a=n.data,i=gt(n,0);return b3(a,0)&&!p3(e,i)?(n.data=" "+a.slice(1),!0):!1},DP=function(e){var n=e.data,a=OP(n);return a!==n?(e.data=a,!0):!1},y3=function(e,n){var a=n.data,i=gt(n,a.length-1);return b3(a,a.length-1)&&!p3(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},_P=function(e,n){return z.some(n).filter(TP).bind(function(a){var i=a.container(),u=AP(e,i)||DP(i)||y3(e,i);return u?z.some(a):z.none()})},Ur=function(e){var n=k.fromDom(e.getBody());e.selection.isCollapsed()&&_P(n,gt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},w3=function(e,n,a){var i=ln(e,function(u,c){return Od(c)||nv(c)?u.previousCharIsSpace||u.str===""&&n||u.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:u.str+du}:{previousCharIsSpace:!0,str:u.str+" "}:{previousCharIsSpace:!1,str:u.str+c}},{previousCharIsSpace:!1,str:""});return i.str},kg=function(e,n,a){if(a!==0){var i=k.fromDom(e),u=Pm(i,Zu).getOr(i),c=e.data.slice(n,n+a),v=n+a>=e.data.length&&Qp(u,gt(e,e.data.length)),m=n===0&&Jp(u,gt(e,0));e.replaceData(n,a,w3(c,m,v))}},Eg=function(e,n){var a=e.data.slice(n),i=a.length-be(a).length;kg(e,n,i)},e1=function(e,n){var a=e.data.slice(0,n),i=a.length-Ve(a).length;kg(e,n-i,i)},t1=function(e,n,a,i){i===void 0&&(i=!0);var u=Ve(e.data).length,c=i?e:n,v=i?n:e;return i?c.appendData(v.data):c.insertData(0,v.data),co(k.fromDom(v)),a&&Eg(c,u),c},C3=function(e,n){var a=e.container(),i=e.offset();return gt.isTextPosition(e)===!1&&a===n.parentNode&&i>gt.before(n).offset()},x3=function(e,n){return C3(n,e)?gt(n.container(),n.offset()-1):n},PP=function(e){return Mn(e)?gt(e,0):gt.before(e)},BP=function(e){return Mn(e)?gt(e,e.data.length):gt.after(e)},S3=function(e){return kc(e.previousSibling)?z.some(BP(e.previousSibling)):e.previousSibling?tc(e.previousSibling):z.none()},k3=function(e){return kc(e.nextSibling)?z.some(PP(e.nextSibling)):e.nextSibling?uu(e.nextSibling):z.none()},FP=function(e,n){var a=gt.before(n.previousSibling?n.previousSibling:n.parentNode);return Ts(e,a).fold(function(){return Es(e,gt.after(n))},z.some)},Zy=function(e,n){return Es(e,gt.after(n)).fold(function(){return Ts(e,gt.before(n))},z.some)},Jy=function(e,n){return S3(n).orThunk(function(){return k3(n)}).orThunk(function(){return FP(e,n)})},MP=function(e,n){return k3(n).orThunk(function(){return S3(n)}).orThunk(function(){return Zy(e,n)})},RP=function(e,n,a){return e?MP(n,a):Jy(n,a)},NP=function(e,n,a){return RP(e,n,a).map(Ie(x3,a))},E3=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},IP=function(e){return function(n){return n.dom===e}},$P=function(e,n){return n&&vr(e.schema.getBlockElements(),na(n))},zP=function(e){if(Zo(e)){var n=k.fromHtml('<br data-mce-bogus="1">');return km(e),Yo(e,n),z.some(gt.before(n.dom))}else return z.none()},LP=function(e,n,a){var i=al(e).filter(so),u=Vl(e).filter(so);return co(e),M0(i,u,n,function(c,v,m){var g=c.dom,x=v.dom,T=g.data.length;return t1(g,x,a),m.container()===x?gt(g,T):m}).orThunk(function(){return a&&(i.each(function(c){return e1(c.dom,c.dom.length)}),u.each(function(c){return Eg(c.dom,0)})),n})},T3=function(e,n){return vr(e.schema.getTextInlineElements(),na(n))},cv=function(e,n,a,i){i===void 0&&(i=!0);var u=NP(n,e.getBody(),a.dom),c=Pm(a,Ie($P,e),IP(e.getBody())),v=LP(a,u,T3(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):c.bind(zP).fold(function(){i&&E3(e,n,v)},function(m){i&&E3(e,n,z.some(m))})},bf=function(e){return function(n){return lr(e,n)}},Qy=function(e){return au(e,"td,th")},O3=function(e,n){var a=function(x){return df(k.fromDom(x),n)},i=a(e.startContainer),u=a(e.endContainer),c=i.isSome(),v=u.isSome(),m=ki(i,u,lr).getOr(!1),g=!m&&c&&v;return{startTable:i,endTable:u,isStartInTable:c,isEndInTable:v,isSameTable:m,isMultiTable:g}},e2=function(e,n){return{start:e,end:n}},HP=function(e,n,a){return{rng:e,table:n,cells:a}},qd=Xn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Tg=function(e,n){return lo(k.fromDom(e),"td,th",n)},A3=function(e){return!lr(e.start,e.end)},D3=function(e,n){return df(e.start,n).bind(function(a){return df(e.end,n).bind(function(i){return R0(lr(a,i),a)})})},VP=function(e,n){return!A3(e)&&D3(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},UP=function(e,n){var a=Tg(e.startContainer,n),i=Tg(e.endContainer,n);return ki(a,i,e2)},WP=function(e){return function(n){return df(n,e).bind(function(a){return dn(Qy(a)).map(function(i){return e2(n,i)})})}},lv=function(e){return function(n){return df(n,e).bind(function(a){return Wt(Qy(a)).map(function(i){return e2(i,n)})})}},t2=function(e){return function(n){return D3(n,e).map(function(a){return HP(n,a,Qy(a))})}},_3=function(e,n,a,i){if(a.collapsed||!e.forall(A3))return z.none();if(n.isSameTable){var u=e.bind(t2(i));return z.some({start:u,end:u})}else{var c=Tg(a.startContainer,i),v=Tg(a.endContainer,i),m=c.bind(WP(i)).bind(t2(i)),g=v.bind(lv(i)).bind(t2(i));return z.some({start:m,end:g})}},Na=function(e,n){return jn(e,function(a){return lr(a,n)})},Lc=function(e){return ki(Na(e.cells,e.rng.start),Na(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},n2=function(e,n,a){return e.exists(function(i){return VP(i,a)&&my(i.start,n)})},r2=function(e,n){var a=n.startTable,i=n.endTable,u=e.cloneRange();return a.each(function(c){return u.setStartAfter(c.dom)}),i.each(function(c){return u.setEndBefore(c.dom)}),u},a2=function(e,n,a,i){return _3(e,n,a,i).bind(function(u){var c=u.start,v=u.end;return c.or(v)}).bind(function(u){var c=n.isSameTable,v=Lc(u).getOr([]);if(c&&u.cells.length===v.length)return z.some(qd.fullTable(u.table));if(v.length>0){if(c)return z.some(qd.partialTable(v,z.none()));var m=r2(a,n);return z.some(qd.partialTable(v,z.some(Ln(Ln({},n),{rng:m}))))}else return z.none()})},o2=function(e,n,a,i){return _3(e,n,a,i).bind(function(u){var c=u.start,v=u.end,m=c.bind(Lc).getOr([]),g=v.bind(Lc).getOr([]);if(m.length>0&&g.length>0){var x=r2(a,n);return z.some(qd.multiTable(m,g,x))}else return z.none()})},i2=function(e,n){var a=bf(e),i=UP(n,a),u=O3(n,a);return n2(i,n,a)?i.map(function(c){return qd.singleCellTable(n,c.start)}):u.isMultiTable?o2(i,u,n,a):a2(i,u,n,a)},u2=function(e){var n=Vv(e)?al(e):Tu(e);return n.bind(u2).orThunk(function(){return z.some(e)})},Og=function(e){return ot(e,function(n){wt(n,"contenteditable"),sv(n)})},n1=function(e,n){return z.from(e.dom.getParent(n,e.dom.isBlock)).map(k.fromDom)},Ag=function(e,n,a){a.each(function(i){n?co(i):(sv(i),e.selection.setCursorLocation(i.dom,0))})},fv=function(e,n,a,i){var u=a.cloneRange();i?(u.setStart(a.startContainer,a.startOffset),u.setEndAfter(n.dom.lastChild)):(u.setStartBefore(n.dom.firstChild),u.setEnd(a.endContainer,a.endOffset)),r1(e,u,n,!1)},As=function(e){var n=av(e),a=k.fromDom(e.selection.getNode());Qv(a.dom)&&Zo(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&nt(n,function(i){return lr(i,a)})&&w(a,"data-mce-selected","1")},vv=function(e,n,a){var i=e.selection.getRng(),u=a.bind(function(c){var v=c.rng,m=c.isStartInTable,g=n1(e,m?v.endContainer:v.startContainer);v.deleteContents(),Ag(e,m,g.filter(Zo));var x=m?n[0]:n[n.length-1];return fv(e,x,i,m),Zo(x)?z.none():z.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);return Og(u),As(e),!0},P3=function(e,n,a,i){var u=e.selection.getRng(),c=n[0],v=a[a.length-1];fv(e,c,u,!0),fv(e,v,u,!1);var m=Zo(c)?n:n.slice(1),g=Zo(v)?a:a.slice(0,-1);return Og(m.concat(g)),i.deleteContents(),As(e),!0},r1=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var u=u2(a).getOr(a),c=k.fromDom(e.dom.getParent(u.dom,e.dom.isBlock));if(Zo(c)&&(sv(c),i&&e.selection.setCursorLocation(c.dom,0)),!lr(a,c)){var v=Mf(no(c),a)?[]:Vo(c);ot(v.concat(Ii(a)),function(m){!lr(m,c)&&!ia(m,c)&&Zo(m)&&co(m)})}return!0},jP=function(e,n){return cv(e,!1,n),!0},B3=function(e,n,a){return i2(n,a).map(function(i){return i.fold(Ie(r1,e),Ie(jP,e),Ie(vv,e),Ie(P3,e))})},qP=function(e,n){return $u(e,n)},GP=function(e,n,a,i){return hi(n,i).fold(function(){return B3(e,n,a)},function(u){return qP(e,u)}).getOr(!1)},_l=function(e,n,a){var i=k.fromDom(e.getBody()),u=e.selection.getRng();return a.length!==0?vv(e,a,z.none()):GP(e,i,u,n)},F3=function(e,n){return Fn(Dl(n,e),Gs)},hi=function(e,n){return Fn(Dl(n,e),xm("caption"))},Jr=function(e,n,a,i,u){return ig(a,e.getBody(),u).bind(function(c){return F3(n,k.fromDom(c.getNode())).map(function(v){return lr(v,i)===!1})})},$u=function(e,n){return sv(n),e.selection.setCursorLocation(n.dom,0),z.some(!0)},KP=function(e,n,a,i){return uu(e.dom).bind(function(u){return tc(e.dom).map(function(c){return n?a.isEqual(u)&&i.isEqual(c):a.isEqual(c)&&i.isEqual(u)})}).getOr(!0)},M3=function(e,n){return $u(e,n)},s2=function(e,n,a){return hi(e,k.fromDom(a.getNode())).map(function(i){return lr(i,n)===!1})},c2=function(e,n,a,i,u){return ig(a,e.getBody(),u).bind(function(c){return KP(i,a,u,c)?M3(e,i):s2(n,i,c)}).or(z.some(!0))},R3=function(e,n,a,i){var u=gt.fromRangeStart(e.selection.getRng());return F3(a,i).bind(function(c){return Zo(c)?$u(e,c):Jr(e,a,n,c,u)}).getOr(!1)},N3=function(e,n,a,i){var u=gt.fromRangeStart(e.selection.getRng());return Zo(i)?$u(e,i):c2(e,a,n,i,u)},I3=function(e,n){return e?a3(n):o3(n)},XP=function(e,n){var a=gt.fromRangeStart(e.selection.getRng());return I3(n,a)||gi(n,e.getBody(),a).exists(function(i){return I3(n,i)})},l2=function(e,n,a){var i=k.fromDom(e.getBody());return hi(i,a).fold(function(){return R3(e,n,i,a)||XP(e,n)},function(u){return N3(e,n,i,u).getOr(!1)})},Dg=function(e,n){var a=k.fromDom(e.selection.getStart(!0)),i=av(e);return e.selection.isCollapsed()&&i.length===0?l2(e,n,a):_l(e,a,i)},oc=function(e,n,a,i){var u=document.createRange();return u.setStart(e,n),u.setEnd(a,i),u},YP=function(e){var n=gt.fromRangeStart(e),a=gt.fromRangeEnd(e),i=e.commonAncestorContainer;return gi(!1,i,a).map(function(u){return!Mc(n,a,i)&&Mc(n,u,i)?oc(n.container(),n.offset(),u.container(),u.offset()):e}).getOr(e)},f2=function(e){return e.collapsed?e:YP(e)},ZP=function(e){return e.firstChild&&e.firstChild===e.lastChild},v2=function(e){return e.name==="br"||e.value===du},JP=function(e,n){var a=e.getBlockElements();return a[n.name]&&ZP(n)&&v2(n.firstChild)},QP=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||JP(e,n))},d2=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),QP(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},eB=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},tB=function(e,n,a){var i=n.serialize(a),u=e.createFragment(i);return eB(u)},$3=function(e){return le(e.childNodes,function(n){return n.nodeName==="LI"})},nB=function(e){return e.data===du||fa(e)},rB=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&nB(e.firstChild)},a1=function(e){return!e.firstChild||rB(e)},aB=function(e){return e.length>0&&a1(e[e.length-1])?e.slice(0,-1):e},o1=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},z3=function(e,n){return!!o1(e,n)},m2=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},oB=function(e,n){var a=gt.before(e),i=ec(n),u=i.next(a);return u?u.toRange():null},L3=function(e,n){var a=gt.after(e),i=ec(n),u=i.prev(a);return u?u.toRange():null},g2=function(e,n,a,i){var u=m2(e,i),c=e.parentNode;return c.insertBefore(u[0],e),xt.each(n,function(v){c.insertBefore(v,e)}),c.insertBefore(u[1],e),c.removeChild(e),L3(n[n.length-1],a)},iB=function(e,n,a){var i=e.parentNode;return xt.each(n,function(u){i.insertBefore(u,e)}),oB(e,a)},uB=function(e,n,a,i){return i.insertAfter(n.reverse(),e),L3(n[0],a)},_g=function(e,n,a,i){var u=tB(n,e,i),c=o1(n,a.startContainer),v=aB($3(u.firstChild)),m=1,g=2,x=n.getRoot(),T=function(P){var B=gt.fromRangeStart(a),U=ec(n.getRoot()),V=P===m?U.prev(B):U.next(B);return V?o1(n,V.getNode())!==c:!0};return T(m)?iB(c,v,x):T(g)?uB(c,v,x,n):g2(c,v,x,a)},h2=function(e,n,a){var i=k.fromDom(e.getRoot());return Jp(i,gt.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),Qp(i,gt.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},p2=Qv,sB=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,p2);return a===i&&my(k.fromDom(a),n)}else return!1},H3=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,u=a.lastChild;!i||i===u&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},V3=function(e,n){z.from(e.getParent(n,"td,th")).map(k.fromDom).each(tr)},cB=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var u=e.getBody(),c=Kk(i);xt.each(i.select("*[data-mce-fragment]"),function(v){var m=et(a[v.nodeName.toLowerCase()]);if(m&&Qk(i,v))for(var g=v.parentNode;et(g)&&g!==u;g=g.parentNode){var x=hP(i,v,g);if(x)break;if(c.compare(g,v)){i.remove(v,!0);break}}})}},lB=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},fB=function(e){xt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},vB=function(e){return!!e.getAttribute("data-mce-fragment")},U3=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},W3=function(e,n){var a,i=e.dom,u=e.selection;if(!!n){u.scrollIntoView(n);var c=Fd(e.getBody(),n);if(i.getContentEditable(c)==="false"){i.remove(n),u.select(c);return}var v=i.createRng(),m=n.previousSibling;if(Mn(m)){if(v.setStart(m,m.nodeValue.length),!Jn.ie){var g=n.nextSibling;Mn(g)&&(m.appendData(g.data),g.parentNode.removeChild(g))}}else v.setStartBefore(n),v.setEndBefore(n);var x=function(P){var B=gt.fromRangeStart(P),U=ec(e.getBody());if(B=U.next(B),B)return B.toRange()},T=i.getParent(n,i.isBlock);i.remove(n),T&&i.isEmpty(T)&&(e.$(T).empty(),v.setStart(T,0),v.setEnd(T,0),!p2(T)&&!vB(T)&&(a=x(v))?(v=a,i.remove(T)):i.add(T,i.create("br",{"data-mce-bogus":"1"}))),u.setRng(v)}},dB=function(e){var n=e.dom,a=f2(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,p2);sB(n,a,i)?r1(e,a,k.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},mB=function(e,n,a){var i,u,c,v=e.selection,m=e.dom;/^ | $/.test(n)&&(n=h2(m,v.getRng(),n));var g=e.parser,x=a.merge,T=Ud({validate:SS(e)},e.schema),P='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',B=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if(B.isDefaultPrevented()){e.fire("SetContent",{content:B.content,format:"html",selection:!0,paste:a.paste});return}n=B.content,n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,P),u=v.getRng();var U=u.startContainer||(u.parentElement?u.parentElement():null),V=e.getBody();U===V&&v.isCollapsed()&&m.isBlock(V.firstChild)&&U3(e,V.firstChild)&&m.isEmpty(V.firstChild)&&(u=m.createRng(),u.setStart(V.firstChild,0),u.setEnd(V.firstChild,0),v.setRng(u)),v.isCollapsed()||dB(e),i=v.getNode();var q={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},G=g.parse(n,q);if(a.paste===!0&&d2(e.schema,G)&&z3(m,i)){u=_g(T,m,v.getRng(),G),v.setRng(u),e.fire("SetContent",B);return}if(lB(G),c=G.lastChild,c.attr("id")==="mce_marker"){var ie=c;for(c=c.prev;c;c=c.walk(!0))if(c.type===3||!m.isBlock(c.name)){e.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(ie,c,c.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!q.invalid)n=T.serialize(G),H3(e,n,i);else{e.selection.setContent(P),i=v.getNode();var re=e.getBody();for(i.nodeType===9?i=c=re:c=i;c!==re;)i=c,c=c.parentNode;n=i===re?re.innerHTML:m.getOuterHTML(i),n=T.serialize(g.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return T.serialize(G)}))),i===re?m.setHTML(re,n):m.setOuterHTML(i,n)}cB(e,x),W3(e,m.get("mce_marker")),fB(e.getBody()),V3(m,v.getStart()),e.fire("SetContent",B),e.addVisual()},b2=function(e,n){n(e),e.firstChild&&b2(e.firstChild,n),e.next&&b2(e.next,n)},gB=function(e,n,a){var i={},u={},c=[];a.firstChild&&b2(a.firstChild,function(g){ot(e,function(x){x.name===g.name&&(i[x.name]?i[x.name].nodes.push(g):i[x.name]={filter:x,nodes:[g]})}),ot(n,function(x){typeof g.attr(x.name)=="string"&&(u[x.name]?u[x.name].nodes.push(g):u[x.name]={filter:x,nodes:[g]})})});for(var v in i)vr(i,v)&&c.push(i[v]);for(var m in u)vr(u,m)&&c.push(u[m]);return c},hB=function(e,n,a){var i=gB(e,n,a);ot(i,function(u){ot(u.filter.callbacks,function(c){c(u.nodes,u.filter.name,{})})})},pB="html",dv=function(e){return e instanceof us},bB=function(e){uv(e)&&uu(e.getBody()).each(function(n){var a=n.getNode(),i=Bo(a)?uu(a).getOr(n):n;e.selection.setRng(i.toRange())})},i1=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&bB(e)},y2=function(e,n,a,i){if(a.length===0||/^\s+$/.test(a)){var u='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+u+"</li>");var c=Ai(e);c&&e.schema.isValidChild(n.nodeName.toLowerCase(),c.toLowerCase())?(a=u,a=e.dom.createHTML(c,Jm(e),a)):a||(a='<br data-mce-bogus="1">'),i1(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Ud({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Fm(k.fromDom(n))?a:xt.trim(a),i1(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},yB=function(e,n,a,i){hB(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var u=Ud({validate:e.validate},e.schema).serialize(a);return i.content=Fm(k.fromDom(n))?u:xt.trim(u),i1(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},j3=function(e,n){return Ln(Ln({format:pB},e),{set:!0,content:dv(n)?"":n})},q3=function(e,n,a){var i=j3(a,n),u=a.no_events?i:e.fire("BeforeSetContent",i);return dv(n)||(n=u.content),z.from(e.getBody()).fold(ae(n),function(c){return dv(n)?yB(e,c,n,u):y2(e,c,n,u)})},wB=function(e,n){return V0(e,n).isSome()},G3=function(e){return Ae(e)?e:ft},CB=function(e,n,a){for(var i=e.dom,u=G3(a);i.parentNode;){i=i.parentNode;var c=k.fromDom(i),v=n(c);if(v.isSome())return v;if(u(c))break}return z.none()},w2=function(e,n,a){var i=n(e),u=G3(a);return i.orThunk(function(){return u(e)?z.none():CB(e,n,u)})},C2=ly,K3=function(e,n,a){var i=e.formatter.get(a);if(i)for(var u=0;u<i.length;u++){var c=i[u];if(Iu(c)&&c.inherit===!1&&e.dom.is(n,c.selector))return!0}return!1},x2=function(e,n,a,i,u){var c=e.dom.getRoot();return n===c?!1:(n=e.dom.getParent(n,function(v){return K3(e,v,a)?!0:v.parentNode===c||!!Hc(e,v,a,i,!0)}),!!Hc(e,n,a,i,u))},S2=function(e,n,a){if(C2(n,a.inline)||C2(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},X3=function(e,n,a,i,u,c){var v=a[i];if(Ae(a.onmatch))return a.onmatch(n,a,i);if(v){if(we(v.length)){for(var m in v)if(vr(v,m)){var g=i==="attributes"?e.getAttrib(n,m):kp(e,n,m),x=Nc(v[m],c),T=St(g)||on(g);if(T&&St(x))continue;if(u&&T&&!a.exact||(!u||a.exact)&&!C2(g,Sp(e,x,m)))return!1}}else for(var P=0;P<v.length;P++)if(i==="attributes"?e.getAttrib(n,v[P]):kp(e,n,v[P]))return!0}return!0},Hc=function(e,n,a,i,u){var c=e.formatter.get(a),v=e.dom;if(c&&n)for(var m=0;m<c.length;m++){var g=c[m];if(S2(e.dom,n,g)&&X3(v,n,g,"attributes",u,i)&&X3(v,n,g,"styles",u,i)){var x=g.classes;if(x){for(var T=0;T<x.length;T++)if(!e.dom.hasClass(n,Nc(x[T],i)))return}return g}}},k2=function(e,n,a,i,u){if(i)return x2(e,i,n,a,u);if(i=e.selection.getNode(),x2(e,i,n,a,u))return!0;var c=e.selection.getStart();return!!(c!==i&&x2(e,c,n,a,u))},E2=function(e,n,a){var i=[],u={},c=e.selection.getStart();return e.dom.getParent(c,function(v){for(var m=0;m<n.length;m++){var g=n[m];!u[g]&&Hc(e,v,g,a)&&(u[g]=!0,i.push(g))}},e.dom.getRoot()),i},ic=function(e,n){var a=function(u){return lr(u,k.fromDom(e.getBody()))},i=function(u,c){return Hc(e,u.dom,c)?z.some(c):z.none()};return z.from(e.selection.getStart(!0)).bind(function(u){return w2(k.fromDom(u),function(c){return ke(n,function(v){return i(c,v)})},a)}).getOrNull()},T2=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var u=e.selection.getStart(),c=sg(i,u),v=a.length-1;v>=0;v--){var m=a[v];if(!Iu(m)||et(m.defaultBlock))return!0;for(var g=c.length-1;g>=0;g--)if(i.is(c[g],m.selector))return!0}return!1},O2=function(e,n,a){return ln(a,function(i,u){var c=r5(e,u);return e.formatter.matchNode(n,u,{},c)?i.concat([u]):i},[])},yf=Se,Y3="_mce_caret",Z3=function(e,n){return e.importNode(n,!0)},xB=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==yf||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},A2=function(e){return xB(e).length>0},u1=function(e){if(e){var n=new da(e,e);for(e=n.current();e;e=n.next())if(Mn(e))return e}return null},D2=function(e){var n=k.fromTag("span");return A(n,{id:Y3,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Yo(n,k.fromText(yf)),n},J3=function(e){var n=u1(e);return n&&n.nodeValue.charAt(0)===yf&&n.deleteData(0,1),n},_2=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,u=e.selection;if(A2(n))cv(e,!1,k.fromDom(n),a);else{var c=u.getRng(),v=i.getParent(n,i.isBlock),m=c.startContainer,g=c.startOffset,x=c.endContainer,T=c.endOffset,P=J3(n);i.remove(n,!0),m===P&&g>0&&c.setStart(P,g-1),x===P&&T>0&&c.setEnd(P,T-1),v&&i.isEmpty(v)&&sv(k.fromDom(v)),u.setRng(c)}},mv=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,u=e.selection;if(n)_2(e,n,a);else if(n=vf(e.getBody(),u.getStart()),!n)for(;n=i.get(Y3);)_2(e,n,!1)},Q3=function(e,n,a){var i=e.dom,u=i.getParent(a,Ie(sy,e));u&&i.isEmpty(u)?a.parentNode.replaceChild(n,a):(CP(k.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},e4=function(e,n){return e.appendChild(n),n},P2=function(e,n){var a=vt(e,function(i,u){return e4(i,u.cloneNode(!1))},n);return e4(a,a.ownerDocument.createTextNode(yf))},SB=function(e,n,a,i,u,c){var v=e.formatter,m=e.dom,g=le(Rt(v.get()),function(B){return B!==i&&!kt(B,"removeformat")}),x=O2(e,a,g),T=le(x,function(B){return!a5(e,B,i)});if(T.length>0){var P=a.cloneNode(!1);return m.add(n,P),v.remove(i,u,P,c),m.remove(P),z.some(P)}else return z.none()},kB=function(e,n,a){var i,u,c=e.selection,v=c.getRng(),m=v.startOffset,g=v.startContainer,x=g.nodeValue;i=vf(e.getBody(),c.getStart()),i&&(u=u1(i));var T=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(x&&m>0&&m<x.length&&T.test(x.charAt(m))&&T.test(x.charAt(m-1))){var P=c.getBookmark();v.collapse(!0);var B=Pd(e,v,e.formatter.get(n));B=Pp(B),e.formatter.apply(n,a,B),c.moveToBookmark(P)}else(!i||u.nodeValue!==yf)&&(i=Z3(e.getDoc(),D2(!0).dom),u=i.firstChild,v.insertNode(i),m=1),e.formatter.apply(n,a,i),c.setCursorLocation(u,m)},EB=function(e,n,a,i){var u=e.dom,c=e.selection,v,m,g,x=[],T=c.getRng(),P=T.startContainer,B=T.startOffset;for(m=P,P.nodeType===3&&(B!==P.nodeValue.length&&(v=!0),m=m.parentNode);m;){if(Hc(e,m,n,a,i)){g=m;break}m.nextSibling&&(v=!0),x.push(m),m=m.parentNode}if(!!g)if(v){var U=c.getBookmark();T.collapse(!0);var V=Pd(e,T,e.formatter.get(n),!0);V=Pp(V),e.formatter.remove(n,a,V,i),c.moveToBookmark(U)}else{var q=vf(e.getBody(),g),G=D2(!1).dom;Q3(e,G,q!==null?q:g);var ie=SB(e,G,g,n,a,i),re=P2(x.concat(ie.toArray()),G);_2(e,q,!1),c.setCursorLocation(re,1),u.isEmpty(g)&&u.remove(g)}},TB=function(e,n){var a=e.selection,i=e.getBody();mv(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===yf&&mv(e,vf(i,a.getStart())),(n===37||n===39)&&mv(e,vf(i,a.getStart()))},OB=function(e){e.on("mouseup keydown",function(n){TB(e,n.keyCode)})},t4=function(e,n){var a=D2(!1),i=P2(n,a.dom);return Xu(k.fromDom(e),a),co(k.fromDom(e)),gt(i,0)},AB=function(e,n){var a=e.schema.getTextInlineElements();return vr(a,na(n))&&!nc(n.dom)&&!vl(n.dom)},B2=function(e){return nc(e.dom)&&A2(e.dom)},Pl={},n4=Ha,r4=La,s1=function(e,n){var a=Pl[e];a||(Pl[e]=[]),Pl[e].push(n)},F2=function(e,n){r4(Pl[e],function(a){a(n)})};s1("pre",function(e){var n=e.selection.getRng(),a,i=function(v){return c(v.previousSibling)&&Fa(a,v.previousSibling)!==-1},u=function(v,m){Er(m).remove(),Er(v).append("<br><br>").append(m.childNodes)},c=Du(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),r4(n4(n4(a,c),i),function(v){u(v.previousSibling,v)}))});var M2=xt.each,R2=function(e){return gr(e)&&!hu(e)&&!nc(e)&&!vl(e)},N2=function(e,n){for(var a=e;a;a=a[n]){if(Mn(a)&&qe(a.data))return e;if(gr(a)&&!hu(a))return a}return e},c1=function(e,n,a){var i=Kk(e);if(n&&a&&(n=N2(n,"previousSibling"),a=N2(a,"nextSibling"),i.compare(n,a))){for(var u=n.nextSibling;u&&u!==a;){var c=u;u=u.nextSibling,n.appendChild(c)}return e.remove(a),xt.each(xt.grep(a.childNodes),function(v){n.appendChild(v)}),n}return a},a4=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var u=c1(e,uy(i),i);c1(e,u,uy(u,!0))}},l1=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";M2(e.select(i,a),function(u){R2(u)&&M2(n.styles,function(c,v){e.setStyle(u,v,"")})})}},uc=function(e,n,a){M2(e.childNodes,function(i){R2(i)&&(n(i)&&a(i),i.hasChildNodes()&&uc(i,n,a))})},DB=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},f1=function(e,n){return function(a){return!!(a&&kp(e,a,n))}},o4=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),DB(e,i)}},Pg=Xn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),_B=/^(src|href|style)$/,I2=xt.each,gv=ly,PB=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},hv=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},i4=function(e,n,a){var i=n[a?"startContainer":"endContainer"],u=n[a?"startOffset":"endOffset"];if(gr(i)){var c=i.childNodes.length-1;!a&&u&&u--,i=i.childNodes[u>c?c:u]}return Mn(i)&&a&&u>=i.nodeValue.length&&(i=new da(i,e.getBody()).next()||i),Mn(i)&&!a&&u===0&&(i=new da(i,e.getBody()).prev()||i),i},u4=function(e,n){var a=n?"firstChild":"lastChild";if(PB(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},$2=function(e,n,a,i){var u=e.create(a,i);return n.parentNode.insertBefore(u,n),u.appendChild(n),u},s4=function(e,n,a,i,u){var c=k.fromDom(n),v=k.fromDom(e.create(i,u)),m=a?ol(c):la(c);return qv(v,m),a?(Xu(c,v),Sm(v,c)):(Wl(c,v),Yo(v,c)),v.dom},c4=function(e,n,a){if(ai(a)&&gv(n,a.inline)||Ic(a)&&gv(n,a.block))return!0;if(Iu(a))return gr(n)&&e.is(n,a.selector)},BB=function(e,n){return n.links&&e.nodeName==="A"},v1=function(e,n,a,i){var u=uy(n,a,i);return St(u)||u.nodeName==="BR"||e.isBlock(u)},FB=function(e,n,a){var i=n.parentNode,u,c=e.dom,v=Ai(e);Ic(a)&&(v?i===c.getRoot()&&(!a.list_block||!gv(n,a.list_block))&&ot(Jt(n.childNodes),function(m){Dd(e,v,m.nodeName.toLowerCase())?u?u.appendChild(m):(u=$2(c,m,v),c.setAttribs(u,e.settings.forced_root_block_attrs)):u=null}):c.isBlock(n)&&!c.isBlock(i)&&(!v1(c,n,!1)&&!v1(c,n.firstChild,!0,!0)&&n.insertBefore(c.create("br"),n.firstChild),!v1(c,n,!0)&&!v1(c,n.lastChild,!1,!0)&&n.appendChild(c.create("br")))),!(o5(a)&&!gv(a.inline,n))&&c.remove(n,!0)},l4=function(e,n,a,i,u){var c,v=e.dom;if(!c4(v,i,n)&&!BB(i,n))return Pg.keep();var m=i;if(ai(n)&&n.remove==="all"&&Vt(n.preserve_attributes)){var g=le(v.getAttribs(m),function(B){return De(n.preserve_attributes,B.name.toLowerCase())});if(v.removeAllAttribs(m),ot(g,function(B){return v.setAttrib(m,B.name,B.value)}),g.length>0)return Pg.rename("span")}if(n.remove!=="all"){I2(n.styles,function(B,U){B=Sp(v,Nc(B,a),U+""),Ue(U)&&(U=B,u=null),(n.remove_similar||!u||gv(kp(v,u,U),B))&&v.setStyle(m,U,""),c=!0}),c&&v.getAttrib(m,"style")===""&&(m.removeAttribute("style"),m.removeAttribute("data-mce-style")),I2(n.attributes,function(B,U){var V;if(B=Nc(B,a),Ue(U)&&(U=B,u=null),n.remove_similar||!u||gv(v.getAttrib(u,U),B)){if(U==="class"&&(B=v.getAttrib(m,U),B&&(V="",ot(B.split(/\s+/),function(q){/mce\-\w+/.test(q)&&(V+=(V?" ":"")+q)}),V))){v.setAttrib(m,U,V);return}if(_B.test(U)&&m.removeAttribute("data-mce-"+U),U==="style"&&Du(["li"])(m)&&v.getStyle(m,"list-style-type")==="none"){m.removeAttribute(U),v.setStyle(m,"list-style-type","none");return}U==="class"&&m.removeAttribute("className"),m.removeAttribute(U)}}),I2(n.classes,function(B){B=Nc(B,a),(!u||v.hasClass(u,B))&&v.removeClass(m,B)});for(var x=v.getAttribs(m),T=0;T<x.length;T++){var P=x[T].nodeName;if(P.indexOf("_")!==0&&P.indexOf("data-")!==0)return Pg.keep()}}return n.remove!=="none"?(FB(e,m,n),Pg.removed()):Pg.keep()},Gd=function(e,n,a,i,u){return l4(e,n,a,i,u).fold(ft,function(c){return e.dom.rename(i,c),!0},jt)},MB=function(e,n,a,i,u){var c;return ot(sg(e.dom,n.parentNode).reverse(),function(v){if(!c&&v.id!=="_start"&&v.id!=="_end"){var m=Hc(e,v,a,i,u);m&&m.split!==!1&&(c=v)}}),c},RB=function(e,n,a,i){return l4(e,n,a,i,i).fold(ae(i),function(u){var c=e.dom.createFragment();return c.appendChild(i),e.dom.rename(i,u)},ae(null))},NB=function(e,n,a,i,u,c,v,m){var g,x,T,P=e.dom;if(a){for(var B=a.parentNode,U=i.parentNode;U&&U!==B;U=U.parentNode){g=P.clone(U,!1);for(var V=0;V<n.length&&(g=RB(e,n[V],m,g),g!==null);V++);g&&(x&&g.appendChild(x),T||(T=g),x=g)}c&&(!v.mixed||!P.isBlock(a))&&(i=P.split(a,i)),x&&(u.parentNode.insertBefore(x,u),T.appendChild(u),ai(v)&&a4(P,v,m,x))}return i},f4=function(e,n,a,i,u){var c=e.formatter.get(n),v=c[0],m=!0,g=e.dom,x=e.selection,T=function(re){var ge=MB(e,re,n,a,u);return NB(e,c,ge,re,re,!0,v,a)},P=function(re){return hu(re)&&gr(re)&&(re.id==="_start"||re.id==="_end")},B=function(re){return nt(c,function(ge){return Gd(e,ge,a,re,re)})},U=function(re){var ge=!0,Me=!1;gr(re)&&g.getContentEditable(re)&&(ge=m,m=g.getContentEditable(re)==="true",Me=!0);var de=Jt(re.childNodes);if(m&&!Me){var We=B(re),ht=We||nt(c,function($t){return S2(g,re,$t)}),Xt=re.parentNode;!ht&&et(Xt)&&fy(v)&&B(Xt)}if(v.deep&&de.length){for(var Kn=0;Kn<de.length;Kn++)U(de[Kn]);Me&&(m=ge)}var Tn=["underline","line-through","overline"];ot(Tn,function($t){gr(re)&&e.dom.getStyle(re,"text-decoration")===$t&&re.parentNode&&ZS(g,re.parentNode)===$t&&Gd(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:$t}},null,re)})},V=function(re){var ge=g.get(re?"_start":"_end"),Me=ge[re?"firstChild":"lastChild"];return P(Me)&&(Me=Me[re?"firstChild":"lastChild"]),Mn(Me)&&Me.data.length===0&&(Me=re?ge.previousSibling||ge.nextSibling:ge.nextSibling||ge.previousSibling),g.remove(ge,!0),Me},q=function(re){var ge,Me,de=Pd(e,re,c,re.collapsed);if(v.split){if(de=Pp(de),ge=i4(e,de,!0),Me=i4(e,de),ge!==Me){if(ge=u4(ge,!0),Me=u4(Me,!1),hv(g,ge,Me)){var We=z.from(ge.firstChild).getOr(ge);T(s4(g,We,!0,"span",{id:"_start","data-mce-type":"bookmark"})),V(!0);return}if(hv(g,Me,ge)){var We=z.from(Me.lastChild).getOr(Me);T(s4(g,We,!1,"span",{id:"_end","data-mce-type":"bookmark"})),V(!1);return}ge=$2(g,ge,"span",{id:"_start","data-mce-type":"bookmark"}),Me=$2(g,Me,"span",{id:"_end","data-mce-type":"bookmark"});var ht=g.createRng();ht.setStartAfter(ge),ht.setEndBefore(Me),lg(g,ht,function(Xt){ot(Xt,function(Kn){!hu(Kn)&&!hu(Kn.parentNode)&&T(Kn)})}),T(ge),T(Me),ge=V(!0),Me=V()}else ge=Me=T(ge);de.startContainer=ge.parentNode?ge.parentNode:ge,de.startOffset=g.nodeIndex(ge),de.endContainer=Me.parentNode?Me.parentNode:Me,de.endOffset=g.nodeIndex(Me)+1}lg(g,de,function(Xt){ot(Xt,U)})};if(i){if(Ad(i)){var G=g.createRng();G.setStartBefore(i),G.setEndAfter(i),q(G)}else q(i);gg(e,n,i,a);return}if(g.getContentEditable(x.getNode())==="false"){i=x.getNode();for(var ie=0;ie<c.length&&!(c[ie].ceFalseOverride&&Gd(e,c[ie],a,i,i));ie++);gg(e,n,i,a);return}!x.isCollapsed()||!ai(v)||av(e).length?(hy(x,!0,function(){gy(e,q)}),ai(v)&&k2(e,n,a,x.getStart())&&YS(g,x,x.getRng()),e.nodeChanged()):EB(e,n,a,u),gg(e,n,i,a)},v4=xt.each,z2=function(e,n,a,i){var u=function(c){if(c.nodeType===1&&c.parentNode&&c.parentNode.nodeType===1){var v=ZS(e,c.parentNode);e.getStyle(c,"color")&&v?e.setStyle(c,"text-decoration",v):e.getStyle(c,"text-decoration")===v&&e.setStyle(c,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(xt.walk(i,u,"childNodes"),u(i))},d4=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&uc(i,f1(e,"fontSize"),o4(e,"backgroundColor",Nc(n.styles.backgroundColor,a)))},IB=function(e,n,a,i){ai(n)&&(n.inline==="sub"||n.inline==="sup")&&(uc(i,f1(e,"fontSize"),o4(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},d1=function(e,n,a,i){v4(n,function(u){ai(u)&&v4(e.dom.select(u.inline,i),function(c){!R2(c)||Gd(e,u,a,c,u.exact?c:null)}),l1(e.dom,u,i)})},m4=function(e,n,a,i,u){Hc(e,u.parentNode,a,i)&&Gd(e,n,i,u)||n.merge_with_parents&&e.dom.getParent(u.parentNode,function(c){if(Hc(e,c,a,i))return Gd(e,n,i,u),!0})},wf=xt.each,Bg=function(e){return gr(e)&&!hu(e)&&!nc(e)&&!vl(e)},g4=function(e,n,a,i){if(p_(e)&&ai(n)){var u=Ln(Ln({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),c=wB(k.fromDom(a),function(v){return nc(v.dom)});return sa(u,i)&&Zo(k.fromDom(a.parentNode),!1)&&!c}else return!1},L2=function(e,n,a,i){var u=e.formatter.get(n),c=u[0],v=!i&&e.selection.isCollapsed(),m=e.dom,g=e.selection,x=function(ge,Me){if(Me===void 0&&(Me=c),Ae(Me.onformat)&&Me.onformat(ge,Me,a,i),wf(Me.styles,function(We,ht){m.setStyle(ge,ht,Nc(We,a))}),Me.styles){var de=m.getAttrib(ge,"style");de&&m.setAttrib(ge,"data-mce-style",de)}wf(Me.attributes,function(We,ht){m.setAttrib(ge,ht,Nc(We,a))}),wf(Me.classes,function(We){We=Nc(We,a),m.hasClass(ge,We)||m.addClass(ge,We)})},T=function(ge,Me){var de=!1;return wf(ge,function(We){if(!Iu(We))return!1;if(!(et(We.collapsed)&&We.collapsed!==v)&&m.is(Me,We.selector)&&!nc(Me))return x(Me,We),de=!0,!1}),de},P=function(ge){if(yt(ge)){var Me=m.create(ge);return x(Me),Me}else return null},B=function(ge,Me,de){var We=[],ht=!0,Xt=c.inline||c.block,Kn=P(Xt);lg(ge,Me,function(Tn){var $t,ur=function(tn){var kn=!1,en=ht,hn=tn.nodeName.toLowerCase(),Dn=tn.parentNode,Lt=Dn.nodeName.toLowerCase();if(gr(tn)&&ge.getContentEditable(tn)&&(en=ht,ht=ge.getContentEditable(tn)==="true",kn=!0),fa(tn)&&!g4(e,c,tn,Lt)){$t=null,Ic(c)&&ge.remove(tn);return}if(Ic(c)&&c.wrapper&&Hc(e,tn,n,a)){$t=null;return}if(ht&&!kn&&Ic(c)&&!c.wrapper&&sy(e,hn)&&Dd(e,Lt,Xt)){var _n=ge.rename(tn,Xt);x(_n),We.push(_n),$t=null;return}if(Iu(c)){var wr=T(u,tn);if(!wr&&et(Dn)&&fy(c)&&(wr=T(u,Dn)),!ai(c)||wr){$t=null;return}}ht&&!kn&&Dd(e,Xt,hn)&&Dd(e,Lt,Xt)&&!(!de&&Mn(tn)&&mu(tn.data))&&!nc(tn)&&(!ai(c)||!ge.isBlock(tn))?($t||($t=ge.clone(Kn,!1),tn.parentNode.insertBefore($t,tn),We.push($t)),$t.appendChild(tn)):($t=null,ot(Jt(tn.childNodes),ur),kn&&(ht=en),$t=null)};ot(Tn,ur)}),c.links===!0&&ot(We,function(Tn){var $t=function(ur){ur.nodeName==="A"&&x(ur,c),ot(Jt(ur.childNodes),$t)};$t(Tn)}),ot(We,function(Tn){var $t=function(kn){var en=0;return ot(kn.childNodes,function(hn){!n5(hn)&&!hu(hn)&&en++}),en},ur=function(kn){var en=Fn(kn.childNodes,Bg).filter(function(hn){return S2(ge,hn,c)});return en.map(function(hn){var Dn=ge.clone(hn,!1);return x(Dn),ge.replace(Dn,kn,!0),ge.remove(hn,!0),Dn}).getOr(kn)},tn=$t(Tn);if((We.length>1||!ge.isBlock(Tn))&&tn===0){ge.remove(Tn,!0);return}(ai(c)||Ic(c)&&c.wrapper)&&(!c.exact&&tn===1&&(Tn=ur(Tn)),d1(e,u,a,Tn),m4(e,c,n,a,Tn),d4(ge,c,a,Tn),z2(ge,c,a,Tn),IB(ge,c,a,Tn),a4(ge,c,a,Tn))})};if(m.getContentEditable(g.getNode())==="false"){i=g.getNode();for(var U=0,V=u.length;U<V;U++){var q=u[U];if(q.ceFalseOverride&&Iu(q)&&m.is(i,q.selector)){x(i,q);break}}xy(e,n,i,a);return}if(c){if(i)if(Ad(i)){if(!T(u,i)){var G=m.createRng();G.setStartBefore(i),G.setEndAfter(i),B(m,Pd(e,G,u),!0)}}else B(m,i,!0);else if(!v||!ai(c)||av(e).length){var ie=g.getNode(),re=u[0];!e.settings.forced_root_block&&re.defaultBlock&&!m.getParent(ie,m.isBlock)&&L2(e,re.defaultBlock),g.setRng(f2(g.getRng())),hy(g,!0,function(){gy(e,function(ge,Me){var de=Me?ge:Pd(e,ge,u);B(m,de,!1)})}),YS(m,g,g.getRng()),e.nodeChanged()}else kB(e,n,a);F2(n,e)}xy(e,n,i,a)},h4=function(e){return vr(e,"vars")},$B=function(e,n){e.set({}),n.on("NodeChange",function(a){w4(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=z.from(a.node).map(function(u){return Ad(u)?u:u.startContainer}).bind(function(u){return gr(u)?z.some(u):z.from(u.parentElement)}).getOrThunk(function(){return p4(n)});w4(n,i,e.get())})},p4=function(e){return e.selection.getStart()},b4=function(e,n,a,i,u){var c=function(m){var g=e.formatter.matchNode(m,a,u!=null?u:{},i);return!we(g)},v=function(m){return K3(e,m,a)?!0:i?!1:et(e.formatter.matchNode(m,a,u,!0))};return En(n,c,v)},y4=function(e,n){var a=n!=null?n:p4(e);return le(sg(e.dom,a),function(i){return gr(i)&&!vl(i)})},w4=function(e,n,a){var i=y4(e,n);un(a,function(u,c){var v=function(m){var g=b4(e,i,c,m.similar,h4(m)?m.vars:void 0),x=g.isSome();if(m.state.get()!==x){m.state.set(x);var T=g.getOr(n);h4(m)?m.callback(x,{node:T,format:c,parents:i}):ot(m.callbacks,function(P){return P(x,{node:T,format:c,parents:i})})}};ot([u.withSimilar,u.withoutSimilar],v),ot(u.withVars,v)})},C4=function(e,n,a,i,u,c){var v=n.get();ot(a.split(","),function(m){var g=Cr(v,m).getOrThunk(function(){var P={withSimilar:{state:Ui(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ui(!1),similar:!1,callbacks:[]},withVars:[]};return v[m]=P,P}),x=function(){var P=y4(e);return b4(e,P,m,u,c).isSome()};if(we(c)){var T=u?g.withSimilar:g.withoutSimilar;T.callbacks.push(i),T.callbacks.length===1&&T.state.set(x())}else g.withVars.push({state:Ui(x()),similar:u,vars:c,callback:i})}),n.set(v)},zB=function(e,n,a){var i=e.get();ot(n.split(","),function(u){return Cr(i,u).each(function(c){i[u]={withSimilar:Ln(Ln({},c.withSimilar),{callbacks:le(c.withSimilar.callbacks,function(v){return v!==a})}),withoutSimilar:Ln(Ln({},c.withoutSimilar),{callbacks:le(c.withoutSimilar.callbacks,function(v){return v!==a})}),withVars:le(c.withVars,function(v){return v.callback!==a})}})}),e.set(i)},Fg=function(e,n,a,i,u,c){return n.get()===null&&$B(n,e),C4(e,n,a,i,u,c),{unbind:function(){return zB(n,a,i)}}},LB=function(e,n,a,i){var u=e.formatter.get(n);k2(e,n,a,i)&&(!("toggle"in u[0])||u[0].toggle)?f4(e,n,a,i):L2(e,n,a,i)},H2=function(e,n){var a=n||document,i=a.createDocumentFragment();return ot(e,function(u){i.appendChild(u.dom)}),k.fromDom(i)},V2=function(e,n,a){return{element:e,width:n,rows:a}},x4=function(e,n){return{element:e,cells:n}},S4=function(e,n){return{x:e,y:n}},U2=function(e,n){var a=parseInt(M(e,n),10);return isNaN(a)?1:a},k4=function(e,n,a,i,u){for(var c=U2(u,"rowspan"),v=U2(u,"colspan"),m=e.rows,g=a;g<a+c;g++){m[g]||(m[g]=x4(iu(i),[]));for(var x=n;x<n+v;x++){var T=m[g].cells;T[x]=g===a&&x===n?u:jo(u)}}},E4=function(e,n,a){var i=e.rows,u=i[a]?i[a].cells:[];return!!u[n]},W2=function(e,n,a){for(;E4(e,n,a);)n++;return n},j2=function(e){return ln(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},T4=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var u=a[i].cells,c=0;c<u.length;c++)if(lr(u[c],n))return z.some(S4(c,i));return z.none()},O4=function(e,n,a,i,u){for(var c=[],v=e.rows,m=a;m<=u;m++){var g=v[m].cells,x=n<i?g.slice(n,i+1):g.slice(i,n+1);c.push(x4(v[m].element,x))}return c},HB=function(e,n,a){var i=n.x,u=n.y,c=a.x,v=a.y,m=u<v?O4(e,i,u,c,v):O4(e,i,v,c,u);return V2(e.element,j2(m),m)},VB=function(e,n){var a=jo(e.element),i=k.fromTag("tbody");return qv(i,n),Yo(a,i),a},UB=function(e){return Dt(e.rows,function(n){var a=Dt(n.cells,function(u){var c=iu(u);return wt(c,"colspan"),wt(c,"rowspan"),c}),i=jo(n.element);return qv(i,a),i})},q2=function(e){var n=V2(jo(e),0,[]);return ot(au(e,"tr"),function(a,i){ot(au(a,"td,th"),function(u,c){k4(n,W2(n,c,i),i,a,u)})}),V2(n.element,j2(n.rows),n.rows)},G2=function(e){return VB(e,UB(e))},A4=function(e,n,a){return T4(e,n).bind(function(i){return T4(e,a).map(function(u){return HB(e,i,u)})})},m1=function(e){return Fn(e,function(n){return na(n)==="ul"||na(n)==="ol"})},zu=function(e,n){return Fn(e,function(a){return na(a)==="li"&&my(a,n)}).fold(ae([]),function(a){return m1(e).map(function(i){var u=k.fromTag(na(i)),c=Pn(_h(i),function(v,m){return O(m,"list-style")});return Gr(u,c),[k.fromTag("li"),u]}).getOr([])})},Mg=function(e,n){var a=ln(n,function(i,u){return Yo(u,i),u},e);return n.length>0?H2([a]):a},pv=function(e){return zi(e)?no(e).filter(Fh).fold(ae([]),function(n){return[e,n]}):Fh(e)?[e]:[]},WB=function(e,n){var a=k.fromDom(n.commonAncestorContainer),i=Dl(a,e),u=le(i,function(m){return Ti(m)||dr(m)}),c=zu(i,n),v=u.concat(c.length?c:pv(a));return Dt(v,jo)},K2=function(){return H2([])},D4=function(e,n){return Mg(k.fromDom(n.cloneContents()),WB(e,n))},jB=function(e,n){return Rf(n,"table",Ie(lr,e))},qB=function(e,n){return jB(e,n[0]).bind(function(a){var i=n[0],u=n[n.length-1],c=q2(a);return A4(c,i,u).map(function(v){return H2([G2(v)])})}).getOrThunk(K2)},GB=function(e,n){return n.length>0&&n[0].collapsed?K2():D4(e,n[0])},_4=function(e,n){var a=rk(n,e);return a.length>0?qB(e,a):GB(e,n)},g1=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Rg=function(e,n){return n>=0&&n<e.length&&Od(e.charAt(n))},X2=function(e,n){var a=xc(e.innerText);return n?g1(a):a},h1=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},KB=function(e){return z.from(e.selection.getRng()).map(function(n){var a=z.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),u=h1(a),c=Jn.browser.isIE()&&u!=="pre",v=e.dom.add(i,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),m=X2(v,c),g=xc(v.textContent);if(e.dom.remove(v),Rg(g,0)||Rg(g,g.length-1)){var x=a.getOr(i),T=X2(x,c),P=T.indexOf(m);if(P===-1)return m;var B=Rg(T,P-1),U=Rg(T,P+m.length);return(B?" ":"")+m+(U?" ":"")}else return m}).getOr("")},XB=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),u=e.selection.getSel(),c=Vd(e,Tp(u)),v=n.contextual?_4(k.fromDom(e.getBody()),c).dom:a.cloneContents();return v&&i.appendChild(v),e.selection.serializer.serialize(i,n)},YB=function(e,n){return Ln(Ln({},e),{format:n,get:!0,selection:!0})},ZB=function(e,n,a){a===void 0&&(a={});var i=YB(a,n),u=e.fire("BeforeGetContent",i);if(u.isDefaultPrevented())return e.fire("GetContent",u),u.content;if(u.format==="text")return KB(e);u.getInner=!0;var c=XB(e,u);return u.format==="tree"?c:(u.content=e.selection.isCollapsed()?"":c,e.fire("GetContent",u),u.content)},Y2=0,P4=1,B4=2,JB=function(e,n){var a=e.length+n.length+2,i=new Array(a),u=new Array(a),c=function(T,P,B){return{start:T,end:P,diag:B}},v=function(T,P,B,U,V){var q=g(T,P,B,U);if(q===null||q.start===P&&q.diag===P-U||q.end===T&&q.diag===T-B)for(var G=T,ie=B;G<P||ie<U;)G<P&&ie<U&&e[G]===n[ie]?(V.push([Y2,e[G]]),++G,++ie):P-T>U-B?(V.push([B4,e[G]]),++G):(V.push([P4,n[ie]]),++ie);else{v(T,q.start,B,q.start-q.diag,V);for(var re=q.start;re<q.end;++re)V.push([Y2,e[re]]);v(q.end,P,q.end-q.diag,U,V)}},m=function(T,P,B,U){for(var V=T;V-P<U&&V<B&&e[V]===n[V-P];)++V;return c(T,V,P)},g=function(T,P,B,U){var V=P-T,q=U-B;if(V===0||q===0)return null;var G=V-q,ie=q+V,re=(ie%2===0?ie:ie+1)/2;i[1+re]=T,u[1+re]=P+1;var ge,Me,de,We,ht;for(ge=0;ge<=re;++ge){for(Me=-ge;Me<=ge;Me+=2){for(de=Me+re,Me===-ge||Me!==ge&&i[de-1]<i[de+1]?i[de]=i[de+1]:i[de]=i[de-1]+1,We=i[de],ht=We-T+B-Me;We<P&&ht<U&&e[We]===n[ht];)i[de]=++We,++ht;if(G%2!==0&&G-ge<=Me&&Me<=G+ge&&u[de-G]<=i[de])return m(u[de-G],Me+T-B,P,U)}for(Me=G-ge;Me<=G+ge;Me+=2){for(de=Me+re-G,Me===G-ge||Me!==G+ge&&u[de+1]<=u[de-1]?u[de]=u[de+1]-1:u[de]=u[de-1],We=u[de]-1,ht=We-T+B-Me;We>=T&&ht>=B&&e[We]===n[ht];)u[de]=We--,ht--;if(G%2===0&&-ge<=Me&&Me<=ge&&u[de]<=i[de+G])return m(u[de],Me+T-B,P,U)}}},x=[];return v(0,e.length,0,n.length,x),x},F4=function(e){return gr(e)?e.outerHTML:Mn(e)?Xs.encodeRaw(e.data,!1):dl(e)?"<!--"+e.data+"-->":""},QB=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},e6=function(e,n,a){var i=QB(n);if(e.hasChildNodes()&&a<e.childNodes.length){var u=e.childNodes[a];u.parentNode.insertBefore(i,u)}else e.appendChild(i)},t6=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},Z2=function(e,n){var a=0;ot(e,function(i){i[0]===Y2?a++:i[0]===P4?(e6(n,i[1],a),a++):i[0]===B4&&t6(n,a)})},n6=function(e){return le(Dt(Jt(e.childNodes),F4),function(n){return n.length>0})},Kd=function(e,n){var a=Dt(Jt(n.childNodes),F4);return Z2(JB(a,e),n),n},M4=zo(function(){return document.implementation.createHTMLDocument("undo")}),xo=function(e){return e.indexOf("</iframe>")!==-1},r6=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},a6=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},J2=function(e){var n=n6(e.getBody()),a=Rr(n,function(u){var c=jk(e.serializer,u);return c.length>0?[c]:[]}),i=a.join("");return xo(i)?r6(a):a6(i)},Q2=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?Kd(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:et(i)&&WS(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},Lu=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Ng=function(e){var n=k.fromTag("body",M4());return ti(n,Lu(e)),ot(au(n,"*[data-mce-bogus]"),Gv),mi(n)},Ig=function(e,n){return Lu(e)===Lu(n)},$g=function(e,n){return Ng(e)===Ng(n)},Xd=function(e,n){return!e||!n?!1:Ig(e,n)?!0:$g(e,n)},ew=function(e){return e.get()===0},p1=function(e,n,a){ew(a)&&(e.typing=n)},bv=function(e,n){e.typing&&(p1(e,!1,n),e.add())},Yd=function(e){e.typing&&(e.typing=!1,e.add())},Zd=function(e,n,a){ew(n)&&a.set(lS(e.selection))},tw=function(e,n,a,i,u,c,v){var m=J2(e);if(c=c||{},c=xt.extend(c,m),ew(i)===!1||e.removed)return null;var g=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:c,lastLevel:g,originalEvent:v}).isDefaultPrevented()||g&&Xd(g,c))return null;n.data[a.get()]&&u.get().each(function(B){n.data[a.get()].beforeBookmark=B});var x=bp(e);if(x&&n.data.length>x){for(var T=0;T<n.data.length-1;T++)n.data[T]=n.data[T+1];n.data.length--,a.set(n.data.length)}c.bookmark=lS(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(c),a.set(n.data.length-1);var P={level:c,lastLevel:g,originalEvent:v};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",P),e.fire("change",P)):e.fire("AddUndo",P),c},o6=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},nw=function(e,n,a,i,u){if(n.transact(i)){var c=n.data[a.get()].bookmark,v=n.data[a.get()-1];Q2(e,v,!0),n.transact(u)&&(n.data[a.get()-1].beforeBookmark=c)}},R4=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],Q2(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},N4=function(e,n,a,i){var u;return n.typing&&(n.add(),n.typing=!1,p1(n,!1,a)),i.get()>0&&(i.set(i.get()-1),u=n.data[i.get()],Q2(e,u,!0),e.setDirty(!0),e.fire("Undo",{level:u})),u},i6=function(e){e.clear(),e.add()},u6=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Xd(J2(e),n.data[0])},I4=function(e,n){return n.get()<e.data.length-1&&!e.typing},s6=function(e,n,a){return bv(e,n),e.beforeChange(),e.ignore(a),e.add()},c6=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},l6=function(e,n){var a=e.dom,i=et(n)?n:e.getBody();we(e.hasVisual)&&(e.hasVisual=__(e)),ot(a.select("table,a",i),function(u){switch(u.nodeName){case"TABLE":var c=tg(e),v=a.getAttrib(u,"border");(!v||v==="0")&&e.hasVisual?a.addClass(u,c):a.removeClass(u,c);break;case"A":if(!a.getAttrib(u,"href")){var m=a.getAttrib(u,"name")||u.id,g=P_(e);m&&e.hasVisual?a.addClass(u,g):a.removeClass(u,g)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},$4=function(e){return{undoManager:{beforeChange:function(n,a){return Zd(e,n,a)},add:function(n,a,i,u,c,v){return tw(e,n,a,i,u,c,v)},undo:function(n,a,i){return N4(e,n,a,i)},redo:function(n,a){return R4(e,n,a)},clear:function(n,a){return o6(e,n,a)},reset:function(n){return i6(n)},hasUndo:function(n,a){return u6(e,n,a)},hasRedo:function(n,a){return I4(n,a)},transact:function(n,a,i){return s6(n,a,i)},ignore:function(n,a){return c6(n,a)},extra:function(n,a,i,u){return nw(e,n,a,i,u)}},formatter:{match:function(n,a,i,u){return k2(e,n,a,i,u)},matchAll:function(n,a){return E2(e,n,a)},matchNode:function(n,a,i,u){return Hc(e,n,a,i,u)},canApply:function(n){return T2(e,n)},closest:function(n){return ic(e,n)},apply:function(n,a,i){return L2(e,n,a,i)},remove:function(n,a,i,u){return f4(e,n,a,i,u)},toggle:function(n,a,i){return LB(e,n,a,i)},formatChanged:function(n,a,i,u,c){return Fg(e,n,a,i,u,c)}},editor:{getContent:function(n,a){return qk(e,n,a)},setContent:function(n,a){return q3(e,n,a)},insertContent:function(n,a){return mB(e,n,a)},addVisual:function(n){return l6(e,n)}},selection:{getContent:function(n,a){return ZB(e,n,a)}},raw:{getModel:function(){return z.none()}}}},f6=function(e){var n=function(m){return Qe(m)?m:{}},a=e.undoManager,i=e.formatter,u=e.editor,c=e.selection,v=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(m,g,x){return a.transact(x)},ignore:function(m,g){return a.ignore(g)},extra:function(m,g,x,T){return a.extra(x,T)}},formatter:{match:function(m,g,x,T){return i.match(m,n(g),T)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(m){return i.canApply(m)},closest:function(m){return i.closest(m)},apply:function(m,g,x){return i.apply(m,n(g))},remove:function(m,g,x,T){return i.remove(m,n(g))},toggle:function(m,g,x){return i.toggle(m,n(g))},formatChanged:function(m,g,x,T,P){return i.formatChanged(g,x,T,P)}},editor:{getContent:function(m,g){return u.getContent(m)},setContent:function(m,g){return u.setContent(m,g)},insertContent:function(m,g){return u.insertContent(m)},addVisual:u.addVisual},selection:{getContent:function(m,g){return c.getContent(g)}},raw:{getModel:function(){return z.some(v.getRawModel())}}}},z4=function(){var e=ae(null),n=ae("");return{undoManager:{beforeChange:Ee,add:e,undo:e,redo:e,clear:Ee,reset:Ee,hasUndo:ft,hasRedo:ft,transact:e,ignore:Ee,extra:Ee},formatter:{match:ft,matchAll:ae([]),matchNode:ae(void 0),canApply:ft,closest:n,apply:Ee,remove:Ee,toggle:Ee,formatChanged:ae({unbind:Ee})},editor:{getContent:n,setContent:n,insertContent:Ee,addVisual:Ee},selection:{getContent:n},raw:{getModel:ae(z.none())}}},Bl=function(e){return vr(e.plugins,"rtc")},zg=function(e){return Cr(e.plugins,"rtc").bind(function(n){return z.from(n.setup)})},L4=function(e){var n=e;return zg(e).fold(function(){return n.rtcInstance=$4(e),z.none()},function(a){return n.rtcInstance=z4(),z.some(function(){return a().then(function(i){return n.rtcInstance=f6(i),i.rtc.isRemote})})})},rw=function(e){return e.rtcInstance?e.rtcInstance:$4(e)},Ao=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},v6=function(e,n,a){Ao(e).undoManager.beforeChange(n,a)},H4=function(e,n,a,i,u,c,v){return Ao(e).undoManager.add(n,a,i,u,c,v)},d6=function(e,n,a,i){return Ao(e).undoManager.undo(n,a,i)},m6=function(e,n,a){return Ao(e).undoManager.redo(n,a)},V4=function(e,n,a){Ao(e).undoManager.clear(n,a)},U4=function(e,n){Ao(e).undoManager.reset(n)},W4=function(e,n,a){return Ao(e).undoManager.hasUndo(n,a)},j4=function(e,n,a){return Ao(e).undoManager.hasRedo(n,a)},q4=function(e,n,a,i){return Ao(e).undoManager.transact(n,a,i)},g6=function(e,n,a){Ao(e).undoManager.ignore(n,a)},h6=function(e,n,a,i,u){Ao(e).undoManager.extra(n,a,i,u)},p6=function(e,n,a,i,u){return Ao(e).formatter.match(n,a,i,u)},b6=function(e,n,a){return Ao(e).formatter.matchAll(n,a)},aw=function(e,n,a,i,u){return Ao(e).formatter.matchNode(n,a,i,u)},Lg=function(e,n){return Ao(e).formatter.canApply(n)},G4=function(e,n){return Ao(e).formatter.closest(n)},K4=function(e,n,a,i){Ao(e).formatter.apply(n,a,i)},b1=function(e,n,a,i,u){Ao(e).formatter.remove(n,a,i,u)},y6=function(e,n,a,i){Ao(e).formatter.toggle(n,a,i)},w6=function(e,n,a,i,u,c){return Ao(e).formatter.formatChanged(n,a,i,u,c)},Cf=function(e,n,a){return rw(e).editor.getContent(n,a)},ow=function(e,n,a){return rw(e).editor.setContent(n,a)},X4=function(e,n,a){return rw(e).editor.insertContent(n,a)},Hg=function(e,n,a){return Ao(e).selection.getContent(n,a)},Y4=function(e,n){return Ao(e).editor.addVisual(n)},Z4=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return Hg(e,a,n)},iw=function(e){return e.dom.length===0?(co(e),z.none()):z.some(e)},J4=function(e,n){return e.filter(function(a){return iv.isBookmarkNode(a.dom)}).bind(n?Vl:al)},C6=function(e,n,a,i){var u=e.dom,c=n.dom,v=i?u.length:c.length;i?(t1(u,c,!1,!i),a.setStart(c,v)):(t1(c,u,!1,!i),a.setEnd(c,v))},x6=function(e,n){no(e).each(function(a){var i=e.dom;n&&Jp(a,gt(i,0))?Eg(i,0):!n&&Qp(a,gt(i,i.length))&&e1(i,i.length)})},Q4=function(e,n,a,i){e.bind(function(u){var c=i?e1:Eg;return c(u.dom,i?u.dom.length:0),n.filter(so).map(function(v){return C6(u,v,a,i)})}).orThunk(function(){var u=J4(n,i).or(n).filter(so);return u.map(function(c){return x6(c,i)})})},uw=function(e,n){var a=z.from(n.firstChild).map(k.fromDom),i=z.from(n.lastChild).map(k.fromDom);e.deleteContents(),e.insertNode(n);var u=a.bind(al).filter(so).bind(iw),c=i.bind(Vl).filter(so).bind(iw);Q4(u,a,e,!0),Q4(c,i,e,!1),e.collapse(!1)},S6=function(e,n){return Ln(Ln({format:"html"},e),{set:!0,selection:!0,content:n})},k6=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),u=i?{context:i.nodeName.toLowerCase()}:{},c=e.parser.parse(n.content,Ln(Ln({isRootContent:!0,forced_root_block:!1},u),n));return Ud({validate:e.validate},e.schema).serialize(c)}else return n.content},Vg=function(e,n,a){a===void 0&&(a={});var i=S6(a,n),u=i;if(!i.no_events){var c=e.fire("BeforeSetContent",i);if(c.isDefaultPrevented()){e.fire("SetContent",c);return}else u=c}u.content=k6(e,u);var v=e.selection.getRng();uw(v,v.createContextualFragment(u.content)),e.selection.setRng(v),Id(e,v),u.no_events||e.fire("SetContent",u)},y1=function(e,n,a){if(e&&vr(e,n)){var i=le(e[n],function(u){return u!==a});i.length===0?delete e[n]:e[n]=i}};function E6(e,n){var a,i,u=function(v,m){return Fn(m,function(g){return e.is(g,v)})},c=function(v){return e.getParents(v,null,e.getRoot())};return{selectorChangedWithUnbind:function(v,m){return a||(a={},i={},n.on("NodeChange",function(g){var x=g.element,T=c(x),P={};xt.each(a,function(B,U){u(U,T).each(function(V){i[U]||(ot(B,function(q){q(!0,{node:V,selector:U,parents:T})}),i[U]=B),P[U]=B})}),xt.each(i,function(B,U){P[U]||(delete i[U],xt.each(B,function(V){V(!1,{node:x,selector:U,parents:T})}))})})),a[v]||(a[v]=[]),a[v].push(m),u(v,c(n.selection.getStart())).each(function(){i[v]=a[v]}),{unbind:function(){y1(a,v,m),y1(i,v,m)}}}}}var sw=function(e){return!!e.select},eE=function(e){return!!(e&&e.ownerDocument)&&ia(k.fromDom(e.ownerDocument),k.fromDom(e))},w1=function(e){return e?sw(e)?!0:eE(e.startContainer)&&eE(e.endContainer):!1},cw=function(e,n,a,i){var u,c,v=E6(e,i).selectorChangedWithUnbind,m=function(Lt,_n){var wr=e.createRng();et(Lt)&&et(_n)?(wr.setStart(Lt,_n),wr.setEnd(Lt,_n),ge(wr),G(!1)):(Bd(e,wr,i.getBody(),!0),ge(wr))},g=function(Lt){return Z4(i,Lt)},x=function(Lt,_n){return Vg(i,Lt,_n)},T=function(Lt){return zy(i.getBody(),re(),Lt)},P=function(Lt){return Ik(i.getBody(),re(),Lt)},B=function(Lt,_n){return hn.getBookmark(Lt,_n)},U=function(Lt){return hn.moveToBookmark(Lt)},V=function(Lt,_n){return nP(e,Lt,_n).each(ge),Lt},q=function(){var Lt=re(),_n=ie();return!Lt||Lt.item?!1:Lt.compareEndPoints?Lt.compareEndPoints("StartToEnd",Lt)===0:!_n||Lt.collapsed},G=function(Lt){var _n=re();_n.collapse(!!Lt),ge(_n)},ie=function(){return n.getSelection?n.getSelection():n.document.selection},re=function(){var Lt,_n,wr,ra=function(Ya,su,Su){try{return su.compareBoundaryPoints(Ya,Su)}catch(Ht){return-1}},Hr=n.document;if(i.bookmark!==void 0&&uv(i)===!1){var ao=By(i);if(ao.isSome())return ao.map(function(Ya){return Vd(i,[Ya])[0]}).getOr(Hr.createRange())}try{(Lt=ie())&&!Yv(Lt.anchorNode)&&(Lt.rangeCount>0?_n=Lt.getRangeAt(0):_n=Lt.createRange?Lt.createRange():Hr.createRange(),_n=Vd(i,[_n])[0])}catch(Ya){}return _n||(_n=Hr.createRange?Hr.createRange():Hr.body.createTextRange()),_n.setStart&&_n.startContainer.nodeType===9&&_n.collapsed&&(wr=e.getRoot(),_n.setStart(wr,0),_n.setEnd(wr,0)),u&&c&&(ra(_n.START_TO_START,_n,u)===0&&ra(_n.END_TO_END,_n,u)===0?_n=c:(u=null,c=null)),_n},ge=function(Lt,_n){var wr;if(!!w1(Lt)){var ra=sw(Lt)?Lt:null;if(ra){c=null;try{ra.select()}catch(Ya){}return}var Hr=ie(),ao=i.fire("SetSelectionRange",{range:Lt,forward:_n});if(Lt=ao.range,Hr){c=Lt;try{Hr.removeAllRanges(),Hr.addRange(Lt)}catch(Ya){}_n===!1&&Hr.extend&&(Hr.collapse(Lt.endContainer,Lt.endOffset),Hr.extend(Lt.startContainer,Lt.startOffset)),u=Hr.rangeCount>0?Hr.getRangeAt(0):null}!Lt.collapsed&&Lt.startContainer===Lt.endContainer&&Hr.setBaseAndExtent&&!Jn.ie&&Lt.endOffset-Lt.startOffset<2&&Lt.startContainer.hasChildNodes()&&(wr=Lt.startContainer.childNodes[Lt.startOffset],wr&&wr.tagName==="IMG"&&(Hr.setBaseAndExtent(Lt.startContainer,Lt.startOffset,Lt.endContainer,Lt.endOffset),(Hr.anchorNode!==Lt.startContainer||Hr.focusNode!==Lt.endContainer)&&Hr.setBaseAndExtent(wr,0,wr,1))),i.fire("AfterSetSelectionRange",{range:Lt,forward:_n})}},Me=function(Lt){return x(e.getOuterHTML(Lt)),Lt},de=function(){return eP(i.getBody(),re())},We=function(Lt,_n){return tP(e,re(),Lt,_n)},ht=function(){var Lt=ie(),_n=Lt==null?void 0:Lt.anchorNode,wr=Lt==null?void 0:Lt.focusNode;if(!Lt||!_n||!wr||Yv(_n)||Yv(wr))return!0;var ra=e.createRng();ra.setStart(_n,Lt.anchorOffset),ra.collapse(!0);var Hr=e.createRng();return Hr.setStart(wr,Lt.focusOffset),Hr.collapse(!0),ra.compareBoundaryPoints(ra.START_TO_START,Hr)<=0},Xt=function(){var Lt=re(),_n=ie();if(!c5(_n)&&ov(i)){var wr=hg(e,Lt);return wr.each(function(ra){ge(ra,ht())}),wr.getOr(Lt)}return Lt},Kn=function(Lt,_n){return v(Lt,_n),en},Tn=function(){for(var Lt,_n=e.getRoot();_n&&_n.nodeName!=="BODY";){if(_n.scrollHeight>_n.clientHeight){Lt=_n;break}_n=_n.parentNode}return Lt},$t=function(Lt,_n){et(Lt)?M5(i,Lt,_n):Id(i,re(),_n)},ur=function(Lt,_n){return ge(Ey(Lt,_n,i.getDoc()))},tn=function(){var Lt=re();return Lt.collapsed?gt.fromRangeStart(Lt).getClientRects()[0]:Lt.getBoundingClientRect()},kn=function(){n=u=c=null,Dn.destroy()},en={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:G,setCursorLocation:m,getContent:g,setContent:x,getBookmark:B,moveToBookmark:U,select:V,isCollapsed:q,isForward:ht,setNode:Me,getNode:de,getSel:ie,setRng:ge,getRng:re,getStart:T,getEnd:P,getSelectedBlocks:We,normalize:Xt,selectorChanged:Kn,selectorChangedWithUnbind:v,getScrollContainer:Tn,scrollIntoView:$t,placeCaretAt:ur,getBoundingClientRect:tn,destroy:kn},hn=iv(en),Dn=sk(en,i);return en.bookmarkManager=hn,en.controlSelection=Dn,en},T6=function(e,n){ot(n,function(a){e.attr(a,null)})},Do=function(e,n,a){e.addNodeFilter("font",function(i){ot(i,function(u){var c=n.parse(u.attr("style")),v=u.attr("color"),m=u.attr("face"),g=u.attr("size");v&&(c.color=v),m&&(c["font-family"]=m),g&&(c["font-size"]=a[parseInt(u.attr("size"),10)-1]),u.name="span",u.attr("style",n.serialize(c)),T6(u,["color","face","size"])})})},O6=function(e,n){e.addNodeFilter("strike",function(a){ot(a,function(i){var u=n.parse(i.attr("style"));u["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(u))})})},tE=function(e,n){var a=pl();n.convert_fonts_to_spans&&Do(e,a,xt.explode(n.font_size_legacy_values)),O6(e,a)},A6=function(e,n){n.inline_styles&&tE(e,n)},D6=function(e){return new Uo(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="blob",u.onload=function(){u.status===200?n(u.response):i()},u.onerror=i,u.send()}catch(c){i()}})},C1=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},nE=function(e,n){var a;try{a=atob(n)}catch(c){return z.none()}for(var i=new Uint8Array(a.length),u=0;u<i.length;u++)i[u]=a.charCodeAt(u);return z.some(new Blob([i],{type:e}))},lw=function(e){return new Uo(function(n){var a=C1(e),i=a.type,u=a.data;nE(i,u).fold(function(){return n(new Blob([]))},n)})},rE=function(e){return e.indexOf("blob:")===0?D6(e):e.indexOf("data:")===0?lw(e):null},aE=function(e){return new Uo(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},fw=0,vw=function(e){return(e||"blobid")+fw++},_6=function(e,n,a,i){var u,c;if(n.src.indexOf("blob:")===0){c=e.getByUri(n.src),c?a({image:n,blobInfo:c}):rE(n.src).then(function(x){aE(x).then(function(T){u=C1(T).data,c=e.create(vw(),x,u),e.add(c),a({image:n,blobInfo:c})})},function(x){i(x)});return}var v=C1(n.src),m=v.data,g=v.type;u=m,c=e.getByData(u,g),c?a({image:n,blobInfo:c}):rE(n.src).then(function(x){c=e.create(vw(),x,u),e.add(c),a({image:n,blobInfo:c})},function(x){i(x)})},P6=function(e){return e?Jt(e.getElementsByTagName("img")):[]},B6=function(e,n){var a={},i=function(u,c){c||(c=jt);var v=le(P6(u),function(g){var x=g.src;return!Jn.fileApi||g.hasAttribute("data-mce-bogus")||g.hasAttribute("data-mce-placeholder")||!x||x===Jn.transparentSrc?!1:x.indexOf("blob:")===0?!e.isUploaded(x)&&c(g):x.indexOf("data:")===0?c(g):!1}),m=Dt(v,function(g){if(a[g.src]!==void 0)return new Uo(function(T){a[g.src].then(function(P){if(typeof P=="string")return P;T({image:g,blobInfo:P.blobInfo})})});var x=new Uo(function(T,P){_6(n,g,T,P)}).then(function(T){return delete a[T.image.src],T}).catch(function(T){return delete a[g.src],T});return a[g.src]=x,x});return Uo.all(m)};return{findAll:i}},oE=function(e,n,a,i){var u=e.padd_empty_with_br||n.insert;u&&a[i.name]?i.empty().append(new us("br",1)).shortEnded=!0:i.empty().append(new us("#text",3)).value=du},iE=function(e){return dw(e,"#text")&&e.firstChild.value===du},dw=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},mw=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},Jd=function(e,n,a,i){return i.isEmpty(n,a,function(u){return mw(e,u)})},uE=function(e,n){return e&&(vr(n,e.name)||e.name==="br")},sE=function(e){return et(e.attr("data-mce-bogus"))},cE=function(e){return e.attr("src")===Jn.transparentSrc||et(e.attr("data-mce-placeholder"))},lE=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),un(e.attributes.map,function(i,u){a.setAttribute(u,i)}),n.images_dataimg_filter(a)}else return!0},fE=function(e,n){var a=n.blob_cache,i=function(u){var c=u.attr("src");cE(u)||sE(u)||aP(c).filter(function(){return lE(u,n)}).bind(function(v){var m=v.type,g=v.data;return z.from(a.getByData(g,m)).orThunk(function(){return nE(m,g).map(function(x){var T=a.create(vw(),x,g);return a.add(T),T})})}).each(function(v){u.attr("src",v.blobUri())})};a&&e.addAttributeFilter("src",function(u){return ot(u,i)})},F6=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,u,c){var v,m=i.length,g,x=xt.extend({},a.getBlockElements()),T=a.getNonEmptyElements(),P,B,U,V,q=a.getWhiteSpaceElements(),G,ie;for(x.body=1,v=0;v<m;v++)if(g=i[v],P=g.parent,x[g.parent.name]&&g===P.lastChild){for(U=g.prev;U;){if(V=U.name,V!=="span"||U.attr("data-mce-type")!=="bookmark"){V==="br"&&(g=null);break}U=U.prev}g&&(g.remove(),Jd(a,T,q,P)&&(G=a.getElementRule(P.name),G&&(G.removeEmpty?P.remove():G.paddEmpty&&oE(n,c,x,P))))}else{for(B=g;P&&P.firstChild===B&&P.lastChild===B&&(B=P,!x[P.name]);)P=P.parent;B===P&&n.padd_empty_with_br!==!0&&(ie=new us("#text",3),ie.value=du,g.replace(ie))}}),e.addAttributeFilter("href",function(i){var u=i.length,c=function(g){var x=g.split(" ").filter(function(T){return T.length>0});return x.concat(["noopener"]).sort().join(" ")},v=function(g){var x=g?xt.trim(g):"";return/\b(noopener)\b/g.test(x)?x:c(x)};if(!n.allow_unsafe_link_target)for(;u--;){var m=i[u];m.name==="a"&&m.attr("target")==="_blank"&&m.attr("rel",v(m.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var u=i.length,c,v,m,g;u--;)if(g=i[u],g.name==="a"&&g.firstChild&&!g.attr("href")){m=g.parent,c=g.lastChild;do v=c.prev,m.insert(c,g),c=v;while(c)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var u=i.length,c,v;u--;)if(c=i[u],v=c.parent,v.name==="ul"||v.name==="ol")if(c.prev&&c.prev.name==="li")c.prev.append(c);else{var m=new us("li",1);m.attr("style","list-style-type: none"),c.wrap(m)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var u=a.getValidClasses(),c=i.length;c--;){for(var v=i[c],m=v.attr("class").split(" "),g="",x=0;x<m.length;x++){var T=m[x],P=!1,B=u["*"];B&&B[T]&&(P=!0),B=u[v.name],!P&&B&&B[T]&&(P=!0),P&&(g&&(g+=" "),g+=T)}g.length||(g=null),v.attr("class",g)}}),fE(e,n)},x1=xt.makeMap,vE=xt.each,Ug=xt.explode,M6=xt.extend,gw=function(e,n){n===void 0&&(n=Ir());var a={},i=[],u={},c={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var v=function(V){for(var q=x1("tr,td,th,tbody,thead,tfoot,table"),G=n.getNonEmptyElements(),ie=n.getWhiteSpaceElements(),re=n.getTextBlockElements(),ge=n.getSpecialElements(),Me=function(hn,Dn){if(Dn===void 0&&(Dn=hn.parent),ge[hn.name])hn.empty().remove();else{for(var Lt=hn.children(),_n=0,wr=Lt;_n<wr.length;_n++){var ra=wr[_n];n.isValidChild(Dn.name,ra.name)||Me(ra,Dn)}hn.unwrap()}},de=0;de<V.length;de++){var We=V[de],ht=void 0,Xt=void 0,Kn=void 0;if(!(!We.parent||We.fixed)){if(re[We.name]&&We.parent.name==="li"){for(var Tn=We.next;Tn&&re[Tn.name];){Tn.name="li",Tn.fixed=!0,We.parent.insert(Tn,We.parent);Tn=Tn.next}We.unwrap();continue}var $t=[We];for(ht=We.parent;ht&&!n.isValidChild(ht.name,We.name)&&!q[ht.name];ht=ht.parent)$t.push(ht);if(ht&&$t.length>1)if(n.isValidChild(ht.name,We.name)){$t.reverse(),Xt=m($t[0].clone());for(var ur=Xt,tn=0;tn<$t.length-1;tn++){n.isValidChild(ur.name,$t[tn].name)?(Kn=m($t[tn].clone()),ur.append(Kn)):Kn=ur;for(var kn=$t[tn].firstChild;kn&&kn!==$t[tn+1];){var en=kn.next;Kn.append(kn),kn=en}ur=Kn}Jd(n,G,ie,Xt)?ht.insert(We,$t[0],!0):(ht.insert(Xt,$t[0],!0),ht.insert(We,Xt)),ht=$t[0],(Jd(n,G,ie,ht)||dw(ht,"br"))&&ht.empty().remove()}else Me(We);else if(We.parent){if(We.name==="li"){var Tn=We.prev;if(Tn&&(Tn.name==="ul"||Tn.name==="ol")){Tn.append(We);continue}if(Tn=We.next,Tn&&(Tn.name==="ul"||Tn.name==="ol")){Tn.insert(We,Tn.firstChild,!0);continue}We.wrap(m(new us("ul",1)));continue}n.isValidChild(We.parent.name,"div")&&n.isValidChild("div",We.name)?We.wrap(m(new us("div",1))):Me(We)}}}},m=function(V){var q=V.name;if(q in a){var G=u[q];G?G.push(V):u[q]=[V]}for(var ie=i.length;ie--;){var re=i[ie].name;if(re in V.attributes.map){var G=c[re];G?G.push(V):c[re]=[V]}}return V},g=function(V,q){vE(Ug(V),function(G){var ie=a[G];ie||(a[G]=ie=[]),ie.push(q)})},x=function(){var V=[];for(var q in a)vr(a,q)&&V.push({name:q,callbacks:a[q]});return V},T=function(V,q){vE(Ug(V),function(G){var ie;for(ie=0;ie<i.length;ie++)if(i[ie].name===G){i[ie].callbacks.push(q);return}i.push({name:G,callbacks:[q]})})},P=function(){return[].concat(i)},B=function(V,q){var G,ie,re,ge,Me,de,We,ht=[],Xt,Kn=function(ut){return ut===!1?"":ut===!0?"p":ut};q=q||{},u={},c={};var Tn=M6(x1("script,style,head,html,body,title,meta,param"),n.getBlockElements()),$t=n.getNonEmptyElements(),ur=n.children,tn=e.validate,kn="forced_root_block"in q?q.forced_root_block:e.forced_root_block,en=Kn(kn),hn=n.getWhiteSpaceElements(),Dn=/^[ \t\r\n]+/,Lt=/[ \t\r\n]+$/,_n=/[ \t\r\n]+/g,wr=/^[ \t\r\n]+$/,ra=vr(hn,q.context)||vr(hn,e.root_name),Hr=function(){var ut=Ht.firstChild,Gt=null,st=function(mn){mn&&(ut=mn.firstChild,ut&&ut.type===3&&(ut.value=ut.value.replace(Dn,"")),ut=mn.lastChild,ut&&ut.type===3&&(ut.value=ut.value.replace(Lt,"")))};if(!!n.isValidChild(Ht.name,en.toLowerCase())){for(;ut;){var In=ut.next;ut.type===3||ut.type===1&&ut.name!=="p"&&!Tn[ut.name]&&!ut.attr("data-mce-type")?(Gt||(Gt=ao(en,1),Gt.attr(e.forced_root_block_attrs),Ht.insert(Gt,ut)),Gt.append(ut)):(st(Gt),Gt=null),ut=In}st(Gt)}},ao=function(ut,Gt){var st=new us(ut,Gt),In;return ut in a&&(In=u[ut],In?In.push(st):u[ut]=[st]),st},Ya=function(ut){for(var Gt=n.getBlockElements(),st=ut.prev;st&&st.type===3;){var In=st.value.replace(Lt,"");if(In.length>0){st.value=In;return}var mn=st.next;if(mn){if(mn.type===3&&mn.value.length){st=st.prev;continue}if(!Gt[mn.name]&&mn.name!=="script"&&mn.name!=="style"){st=st.prev;continue}}var nr=st.prev;st.remove(),st=nr}},su=function(ut){var Gt={};for(var st in ut)st!=="li"&&st!=="p"&&(Gt[st]=ut[st]);return Gt},Su=qp({validate:tn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:su(n.getSelfClosingElements()),cdata:function(ut){Xt.append(ao("#cdata",4)).value=ut},text:function(ut,Gt){var st;ra||(ut=ut.replace(_n," "),uE(Xt.lastChild,Tn)&&(ut=ut.replace(Dn,""))),ut.length!==0&&(st=ao("#text",3),st.raw=!!Gt,Xt.append(st).value=ut)},comment:function(ut){Xt.append(ao("#comment",8)).value=ut},pi:function(ut,Gt){Xt.append(ao(ut,7)).value=Gt,Ya(Xt)},doctype:function(ut){var Gt=Xt.append(ao("#doctype",10));Gt.value=ut,Ya(Xt)},start:function(ut,Gt,st){var In=tn?n.getElementRule(ut):{};if(In){var mn=ao(In.outputName||ut,1);mn.attributes=Gt,mn.shortEnded=st,Xt.append(mn);var nr=ur[Xt.name];nr&&ur[mn.name]&&!nr[mn.name]&&ht.push(mn);for(var Mr=i.length;Mr--;){var Ta=i[Mr].name;Ta in Gt.map&&(de=c[Ta],de?de.push(mn):c[Ta]=[mn])}Tn[ut]&&Ya(mn),st||(Xt=mn),!ra&&hn[ut]&&(ra=!0)}},end:function(ut){var Gt,st,In,mn,nr=tn?n.getElementRule(ut):{};if(nr){if(Tn[ut]&&!ra){if(Gt=Xt.firstChild,Gt&&Gt.type===3)if(st=Gt.value.replace(Dn,""),st.length>0)Gt.value=st,Gt=Gt.next;else for(In=Gt.next,Gt.remove(),Gt=In;Gt&&Gt.type===3;)st=Gt.value,In=Gt.next,(st.length===0||wr.test(st))&&(Gt.remove(),Gt=In),Gt=In;if(Gt=Xt.lastChild,Gt&&Gt.type===3)if(st=Gt.value.replace(Lt,""),st.length>0)Gt.value=st,Gt=Gt.prev;else for(In=Gt.prev,Gt.remove(),Gt=In;Gt&&Gt.type===3;)st=Gt.value,In=Gt.prev,(st.length===0||wr.test(st))&&(Gt.remove(),Gt=In),Gt=In}if(ra&&hn[ut]&&(ra=!1),nr.removeEmpty&&Jd(n,$t,hn,Xt)){mn=Xt.parent,Tn[Xt.name]?Xt.empty().remove():Xt.unwrap(),Xt=mn;return}nr.paddEmpty&&(iE(Xt)||Jd(n,$t,hn,Xt))&&oE(e,q,Tn,Xt),Xt=Xt.parent}}},n),Ht=Xt=new us(q.context||e.root_name,11);if(Su.parse(V,q.format),tn&&ht.length&&(q.context?q.invalid=!0:v(ht)),en&&(Ht.name==="body"||q.isRootContent)&&Hr(),!q.invalid){for(We in u)if(!!vr(u,We)){for(de=a[We],G=u[We],ge=G.length;ge--;)G[ge].parent||G.splice(ge,1);for(ie=0,re=de.length;ie<re;ie++)de[ie](G,We,q)}for(ie=0,re=i.length;ie<re;ie++)if(de=i[ie],de.name in c){for(G=c[de.name],ge=G.length;ge--;)G[ge].parent||G.splice(ge,1);for(ge=0,Me=de.callbacks.length;ge<Me;ge++)de.callbacks[ge](G,de.name,q)}}return Ht},U={schema:n,addAttributeFilter:T,getAttributeFilters:P,addNodeFilter:g,getNodeFilters:x,filterNode:m,parse:B};return F6(U,e),A6(U,e),U},R6=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,u){for(var c=i.length;c--;){var v=i[c];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(u,null)}}),e.addAttributeFilter("src,href,style",function(i,u){for(var c="data-mce-"+u,v=n.url_converter,m=n.url_converter_scope,g=i.length;g--;){var x=i[g],T=x.attr(c);T!==void 0?(x.attr(u,T.length>0?T:null),x.attr(c,null)):(T=x.attr(u),u==="style"?T=a.serializeStyle(a.parseStyle(T),x.name):v&&(T=v.call(m,T,u,x.name)),x.attr(u,T.length>0?T:null))}}),e.addAttributeFilter("class",function(i){for(var u=i.length;u--;){var c=i[u],v=c.attr("class");v&&(v=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",function(i,u,c){for(var v=i.length;v--;){var m=i[v];if(m.attr("data-mce-type")==="bookmark"&&!c.cleanup){var g=z.from(m.firstChild).exists(function(x){return!mu(x.value)});g?m.unwrap():m.remove()}}}),e.addNodeFilter("noscript",function(i){for(var u=i.length;u--;){var c=i[u].firstChild;c&&(c.value=Xs.decode(c.value))}}),e.addNodeFilter("script,style",function(i,u){for(var c=function(T){return T.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},v=i.length;v--;){var m=i[v],g=m.firstChild?m.firstChild.value:"";if(u==="script"){var x=m.attr("type");x&&m.attr("type",x==="mce-no/type"?null:x.replace(/^mce\-/,"")),n.element_format==="xhtml"&&g.length>0&&(m.firstChild.value=`// <![CDATA[
`+c(g)+`
// ]]>`)}else n.element_format==="xhtml"&&g.length>0&&(m.firstChild.value=`<!--
`+c(g)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var u=i.length;u--;){var c=i[u];n.preserve_cdata&&c.value.indexOf("[CDATA[")===0?(c.name="#cdata",c.type=4,c.value=a.decode(c.value.replace(/^\[CDATA\[|\]\]$/g,""))):c.value.indexOf("mce:protected ")===0&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,u){for(var c=i.length;c--;){var v=i[c];v.type===7?v.remove():v.type===1&&u==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){ot(i,function(u){u.attr("data-mce-type")==="format-caret"&&(u.isEmpty(e.schema.getNonEmptyElements())?u.remove():u.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,u){for(var c=i.length;c--;)i[c].attr(u,null)})},dE=function(e){var n=function(u){return u&&u.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},mE=function(e,n,a){var i,u=e.dom,c=n.cloneNode(!0),v=document.implementation;if(v.createHTMLDocument){var m=v.createHTMLDocument("");xt.each(c.nodeName==="BODY"?c.childNodes:[c],function(g){m.body.appendChild(m.importNode(g,!0))}),c.nodeName!=="BODY"?c=m.body.firstChild:c=m.body,i=u.doc,u.doc=m}return m5(e,Ln(Ln({},a),{node:c})),i&&(u.doc=i),c},N6=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},I6=function(e,n,a){return N6(e,a)?mE(e,n,a):n},$6=function(e,n,a){xt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,u){for(var c=i.length;c--;)i[c].attr(u,null)}),n.push(a))},z6=function(e,n,a){if(!n.no_events&&e){var i=py(e,Ln(Ln({},n),{content:a}));return i.content}else return a},gE=function(e,n,a){var i=xc(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Fm(k.fromDom(n))?i:xt.trim(i)},L6=function(e,n,a){var i=a.selection?Ln({forced_root_block:!1},a):a,u=e.parse(n,i);return dE(u),u},H6=function(e,n,a){var i=Ud(e,n);return i.serialize(a)},V6=function(e,n,a,i,u){var c=H6(n,a,i);return z6(e,u,c)},U6=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:Ea.DOM,u=n&&n.schema?n.schema:Ir(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var c=gw(e,u);R6(c,e,i);var v=function(m,g){g===void 0&&(g={});var x=Ln({format:"html"},g),T=I6(n,m,x),P=gE(i,T,x),B=L6(c,P,x);return x.format==="tree"?B:V6(n,e,u,B,x)};return{schema:u,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:v,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:Ie($6,c,a),getTempAttrs:ae(a),getNodeFilters:c.getNodeFilters,getAttributeFilters:c.getAttributeFilters}},hE=function(e,n){var a=U6(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},W6="html",j6=function(e,n){n===void 0&&(n={});var a=n.format?n.format:W6;return Cf(e,n,a)},hw=function(e,n,a){return a===void 0&&(a={}),ow(e,n,a)},Wg=Ea.DOM,q6=function(e){Wg.setStyle(e.id,"display",e.orgDisplay)},S1=function(e){return z.from(e).each(function(n){return n.destroy()})},G6=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},K6=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),Wg.unbind(n,"submit reset",e.formEventDelegate))},X6=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),u=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&u&&Wg.remove(u.nextSibling),g5(e),e.editorManager.remove(e),!e.inline&&i&&q6(e),by(e),Wg.remove(e.getContainer()),S1(n),S1(a),e.destroy()}},jg=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),S1(a),S1(i)),K6(e),G6(e),e.destroyed=!0}},Y6=function(e,n){var a=Qe(e)&&Qe(n);return a?pw(e,n):n},Z6=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},u=0;u<n.length;u++){var c=n[u];for(var v in c)vr(c,v)&&(i[v]=e(i[v],c[v]))}return i}},pw=Z6(Y6),pE="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),J6="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Q6="imagetools,toc".split(","),eF=function(e){var n=le(pE,function(i){return vr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Le(n)},qg=function(e){var n=xt.makeMap(e.plugins," "),a=function(u){return vr(n,u)},i=to(to([],le(J6,a),!0),Rr(Q6,function(u){return a(u)?[u+" (moving to premium)"]:[]}),!0);return Le(i)},bE=function(e,n){var a=eF(e),i=qg(n),u=i.length>0,c=a.length>0,v=n.theme==="mobile";if(u||c||v){var m=`
- `,g=v?`

Themes:`+m+"mobile":"",x=u?`

Plugins:`+m+i.join(m):"",T=c?`

Settings:`+m+a.join(m):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+g+x+T)}},yE=function(e,n){return{sections:ae(e),settings:ae(n)}},bw=Vn().deviceType,wE=bw.isTouch(),CE=bw.isPhone(),tF=bw.isTablet(),nF=["lists","autolink","autosave"],yw={table_grid:!1,object_resizing:!1,resize:!1},Gg=function(e){var n=Vt(e)?e.join(" "):e,a=Dt(yt(n)?n.split(" "):[],te);return le(a,function(i){return i.length>0})},rF=function(e){return le(e,Ie(De,nF))},aF=function(e,n){var a=Ut(n,function(i,u){return De(e,u)});return yE(a.t,a.f)},xE=function(e,n,a){a===void 0&&(a={});var i=e.sections(),u=Cr(i,n).getOr({});return xt.extend({},a,u)},k1=function(e,n){return vr(e.sections(),n)},oF=function(e,n,a){var i=e.sections();return k1(e,n)&&i[n].theme===a},Kg=function(e,n){return k1(e,n)?e.sections()[n]:{}},ww=function(e,n){return Cr(e,"toolbar_mode").orThunk(function(){return Cr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},SE=function(e,n,a,i,u){var c={id:n,theme:"silver",toolbar_mode:ww(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:u.convertURL,url_converter_scope:u};return Ln(Ln({},c),i?yw:{})},iF=function(e,n){var a={resize:!1,toolbar_mode:ww(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Ln(Ln(Ln({},yw),a),n?i:{})},uF=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?xt.extend({},e.external_plugins,a):a},sF=function(e,n){return[].concat(Gg(e)).concat(Gg(n))},kE=function(e,n,a,i){return e&&oF(n,"mobile","mobile")?rF(i):e&&k1(n,"mobile")?i:a},cF=function(e,n,a,i){var u=Gg(a.forced_plugins),c=Gg(i.plugins),v=Kg(n,"mobile"),m=v.plugins?Gg(v.plugins):c,g=kE(e,n,c,m),x=sF(u,g);if(Jn.browser.isIE()&&De(x,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return xt.extend(i,{plugins:x.join(" ")})},lF=function(e,n){return e&&k1(n,"mobile")},fF=function(e,n,a,i,u){var c=e?{mobile:iF(u.mobile||{},n)}:{},v=aF(["mobile"],pw(c,u)),m=xt.extend(a,i,v.settings(),lF(e,v)?xE(v,"mobile"):{},{validate:!0,external_plugins:uF(i,v.settings())});return cF(e,v,i,m)},vF=function(e,n,a,i,u){var c=SE(u,n,a,wE,e),v=fF(CE||tF,CE,c,i,u);return v.deprecation_warnings!==!1&&bE(u,v),v},yv=function(e,n,a){return z.from(n.settings[a]).filter(e)},pi=function(e){var n={};return typeof e=="string"?ot(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[xt.trim(i[0])]=xt.trim(i[1]):n[xt.trim(i[0])]=xt.trim(i[0])}):n=e,n},EE=function(e){return function(n){return Vt(n)&&qr(n,e)}},dF=function(e,n,a,i){var u=n in e.settings?e.settings[n]:a;return i==="hash"?pi(u):i==="string"?yv(yt,e,n).getOr(a):i==="number"?yv(Ue,e,n).getOr(a):i==="boolean"?yv(je,e,n).getOr(a):i==="object"?yv(Qe,e,n).getOr(a):i==="array"?yv(Vt,e,n).getOr(a):i==="string[]"?yv(EE(yt),e,n).getOr(a):i==="function"?yv(Ae,e,n).getOr(a):u},mF=function(){var e={},n=function(u,c){e[u]=c},a=function(u){return e[u]?e[u]:{icons:{}}},i=function(u){return vr(e,u)};return{add:n,get:a,has:i}},E1=mF(),TE=function(e,n){var a=n.dom;return a[e]},Kr=function(e,n){return parseInt(Nr(n,e),10)},gF=Ie(TE,"clientWidth"),hF=Ie(TE,"clientHeight"),pF=Ie(Kr,"margin-top"),Ja=Ie(Kr,"margin-left"),bF=function(e){return e.dom.getBoundingClientRect()},Xg=function(e,n,a){var i=gF(e),u=hF(e);return n>=0&&a>=0&&n<=i&&a<=u},yF=function(e,n,a,i){var u=bF(n),c=e?u.left+n.dom.clientLeft+Ja(n):0,v=e?u.top+n.dom.clientTop+pF(n):0,m=a-c,g=i-v;return{x:m,y:g}},OE=function(e,n,a){var i=k.fromDom(e.getBody()),u=e.inline?i:Us(i),c=yF(e.inline,u,n,a);return Xg(u,c.x,c.y)},wF=function(e){return z.from(e).map(k.fromDom)},AE=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return wF(n).map(Bf).getOr(!1)},xf=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},bu=function(e){var n=[],a=function(){var B=e.theme;return B&&B.getNotificationManagerImpl?B.getNotificationManagerImpl():xf()},i=function(){return z.from(n[0])},u=function(B,U){return B.type===U.type&&B.text===U.text&&!B.progressBar&&!B.timeout&&!U.progressBar&&!U.timeout},c=function(){n.length>0&&a().reposition(n)},v=function(B){n.push(B)},m=function(B){jn(n,function(U){return U===B}).each(function(U){n.splice(U,1)})},g=function(B,U){if(U===void 0&&(U=!0),!(e.removed||!AE(e)))return U&&e.fire("BeforeOpenNotification",{notification:B}),Fn(n,function(V){return u(a().getArgs(V),B)}).getOrThunk(function(){e.editorManager.setActive(e);var V=a().open(B,function(){m(V),c(),i().fold(function(){return e.focus()},function(q){return N5(k.fromDom(q.getEl()))})});return v(V),c(),e.fire("OpenNotification",{notification:Ln({},V)}),V})},x=function(){i().each(function(B){a().close(B),m(B),c()})},T=ae(n),P=function(B){B.on("SkinLoaded",function(){var U=xS(B);U&&g({text:U,type:"warning",timeout:0},!1),c()}),B.on("show ResizeEditor ResizeWindow NodeChange",function(){fi.requestAnimationFrame(c)}),B.on("remove",function(){ot(n.slice(),function(U){a().close(U)})})};return P(e),{open:g,close:x,getNotifications:T}},yu=Xa.PluginManager,Hu=Xa.ThemeManager;function Vc(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var Qd=function(e){var n=[],a=function(){var q=e.theme;return q&&q.getWindowManagerImpl?q.getWindowManagerImpl():Vc()},i=function(q,G){return function(){for(var ie=[],re=0;re<arguments.length;re++)ie[re]=arguments[re];return G?G.apply(q,ie):void 0}},u=function(q){e.fire("OpenWindow",{dialog:q})},c=function(q){e.fire("CloseWindow",{dialog:q})},v=function(q){n.push(q),u(q)},m=function(q){c(q),n=le(n,function(G){return G!==q}),n.length===0&&e.focus()},g=function(){return z.from(n[n.length-1])},x=function(q){e.editorManager.setActive(e),Ip(e);var G=q();return v(G),G},T=function(q,G){return x(function(){return a().open(q,G,m)})},P=function(q){return x(function(){return a().openUrl(q,m)})},B=function(q,G,ie){var re=a();re.alert(q,i(ie||re,G))},U=function(q,G,ie){var re=a();re.confirm(q,i(ie||re,G))},V=function(){g().each(function(q){a().close(q),m(q)})};return e.on("remove",function(){ot(n,function(q){a().close(q)})}),{open:T,openUrl:P,alert:B,confirm:U,close:V}},T1=function(e,n){e.notificationManager.open({type:"error",text:n})},em=function(e,n){e._skinLoaded?T1(e,n):e.on("SkinLoaded",function(){T1(e,n)})},DE=function(e,n){em(e,Fr.translate(["Failed to upload image: {0}",n]))},O1=function(e,n,a){Cy(e,n,{message:a}),console.error(a)},Cw=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},A1=function(e,n,a){O1(e,"PluginLoadError",Cw("plugin",n,a))},_E=function(e,n,a){O1(e,"IconsLoadError",Cw("icons",n,a))},CF=function(e,n,a){O1(e,"LanguageLoadError",Cw("language",n,a))},PE=function(e,n,a){var i=Fr.translate(["Failed to initialize plugin: {0}",n]);Cy(e,"PluginLoadError",{message:i}),D1(i,a),em(e,i)},D1=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,to([e],n,!1)):i.log.apply(i,to([e],n,!1)))},Yg=function(e){return/^[a-z0-9\-]+$/i.test(e)},BE=function(e){return Uc(e,f_(e))},FE=function(e){return Uc(e,yS(e))},Uc=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,u="content"+i+".css",c=e.inline===!0;return Dt(n,function(v){return Yg(v)&&!c?a+"/"+v+"/"+u:e.documentBaseURI.toAbsolute(v)})},xw=function(e){e.contentCSS=e.contentCSS.concat(BE(e),FE(e))},ME=function(){var e=1,n=2,a={},i=function(B,U){return{status:B,resultUri:U}},u=function(B){return B in a},c=function(B){var U=a[B];return U?U.resultUri:null},v=function(B){return u(B)?a[B].status===e:!1},m=function(B){return u(B)?a[B].status===n:!1},g=function(B){a[B]=i(e,null)},x=function(B,U){a[B]=i(n,U)},T=function(B){delete a[B]},P=function(){a={}};return{hasBlobUri:u,getResultUri:c,isPending:v,isUploaded:m,markPending:g,markUploaded:x,removeFailed:T,destroy:P}},xF=0,SF=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},wv=function(e){return e+xF+++SF()},kF=function(){var e=[],n=function(P){var B={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return B[P.toLowerCase()]||"dat"},a=function(P,B,U,V,q){if(yt(P)){var G=P;return i({id:G,name:V,filename:q,blob:B,base64:U})}else{if(Qe(P))return i(P);throw new Error("Unknown input type")}},i=function(P){if(!P.blob||!P.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var B=P.id||wv("blobid"),U=P.name||B,V=P.blob;return{id:ae(B),name:ae(U),filename:ae(P.filename||U+"."+n(V.type)),blob:ae(V),base64:ae(P.base64),blobUri:ae(P.blobUri||URL.createObjectURL(V)),uri:ae(P.uri)}},u=function(P){v(P.id())||e.push(P)},c=function(P){return Fn(e,P).getOrUndefined()},v=function(P){return c(function(B){return B.id()===P})},m=function(P){return c(function(B){return B.blobUri()===P})},g=function(P,B){return c(function(U){return U.base64()===P&&U.blob().type===B})},x=function(P){e=le(e,function(B){return B.blobUri()===P?(URL.revokeObjectURL(B.blobUri()),!1):!0})},T=function(){ot(e,function(P){URL.revokeObjectURL(P.blobUri())}),e=[]};return{create:a,add:u,get:v,getByUri:m,getByData:g,findFirst:c,removeByUri:x,destroy:T}},EF=function(e,n){var a={},i=function(V,q){return V?V.replace(/\/$/,"")+"/"+q.replace(/^\//,""):q},u=function(V,q,G,ie){var re=new XMLHttpRequest;re.open("POST",n.url),re.withCredentials=n.credentials,re.upload.onprogress=function(Me){ie(Me.loaded/Me.total*100)},re.onerror=function(){G("Image upload failed due to a XHR Transport error. Code: "+re.status)},re.onload=function(){if(re.status<200||re.status>=300){G("HTTP Error: "+re.status);return}var Me=JSON.parse(re.responseText);if(!Me||typeof Me.location!="string"){G("Invalid JSON: "+re.responseText);return}q(i(n.basePath,Me.location))};var ge=new FormData;ge.append("file",V.blob(),V.filename()),re.send(ge)},c=function(){return new Uo(function(V){V([])})},v=function(V,q){return{url:q,blobInfo:V,status:!0}},m=function(V,q,G){return{url:"",blobInfo:V,status:!1,error:{message:q,options:G}}},g=function(V,q){xt.each(a[V],function(G){G(q)}),delete a[V]},x=function(V,q,G){return e.markPending(V.blobUri()),new Uo(function(ie){var re,ge;try{var Me=function(){re&&(re.close(),ge=Ee)},de=function(ht){Me(),e.markUploaded(V.blobUri(),ht),g(V.blobUri(),v(V,ht)),ie(v(V,ht))},We=function(ht,Xt){var Kn=Xt||{};Me(),e.removeFailed(V.blobUri()),g(V.blobUri(),m(V,ht,Kn)),ie(m(V,ht,Kn))};ge=function(ht){ht<0||ht>100||z.from(re).orThunk(function(){return z.from(G).map(C)}).each(function(Xt){re=Xt,Xt.progressBar.value(ht)})},q(V,de,We,ge)}catch(ht){ie(m(V,ht.message,{}))}})},T=function(V){return V===u},P=function(V){var q=V.blobUri();return new Uo(function(G){a[q]=a[q]||[],a[q].push(G)})},B=function(V,q){return V=xt.grep(V,function(G){return!e.isUploaded(G.blobUri())}),Uo.all(xt.map(V,function(G){return e.isPending(G.blobUri())?P(G):x(G,n.handler,q)}))},U=function(V,q){return!n.url&&T(n.handler)?c():B(V,q)};return Ae(n.handler)===!1&&(n.handler=u),{upload:U}},Go=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},RE=function(e,n){return EF(n,{url:El(e),basePath:Lb(e),credentials:c_(e),handler:lf(e)})},NE=function(e){var n=ME(),a=RE(e,n);return{upload:function(i,u){return u===void 0&&(u=!0),a.upload(i,u?Go(e):void 0)}}},IE=function(e){var n=Ui(null);e.on("change AddUndo",function(i){n.set(Ln({},i.level))});var a=function(){var i=e.undoManager.data;dn(i).filter(function(u){return!Xd(n.get(),u)}).each(function(u){e.setDirty(!0),e.fire("change",{level:u,lastLevel:Ye(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},$E=function(e){var n=kF(),a,i,u=ME(),c=[],v=IE(e),m=function(Me){return function(de){return e.selection?Me(de):[]}},g=function(Me){return Me+(Me.indexOf("?")===-1?"?":"&")+new Date().getTime()},x=function(Me,de,We){var ht=0;do ht=Me.indexOf(de,ht),ht!==-1&&(Me=Me.substring(0,ht)+We+Me.substr(ht+de.length),ht+=We.length-de.length+1);while(ht!==-1);return Me},T=function(Me,de,We){var ht='src="'+We+'"'+(We===Jn.transparentSrc?' data-mce-placeholder="1"':"");return Me=x(Me,'src="'+de+'"',ht),Me=x(Me,'data-mce-src="'+de+'"','data-mce-src="'+We+'"'),Me},P=function(Me,de){ot(e.undoManager.data,function(We){We.type==="fragmented"?We.fragments=Dt(We.fragments,function(ht){return T(ht,Me,de)}):We.content=T(We.content,Me,de)})},B=function(Me,de){var We=e.convertURL(de,"src");P(Me.src,de),e.$(Me).attr({src:mp(e)?g(de):de,"data-mce-src":We})},U=function(Me){return a||(a=RE(e,u)),ie().then(m(function(de){var We=Dt(de,function(ht){return ht.blobInfo});return a.upload(We,Go(e)).then(m(function(ht){var Xt=[],Kn=Dt(ht,function(Tn,$t){var ur=de[$t].blobInfo,tn=de[$t].image;return Tn.status&&gp(e)?(n.removeByUri(tn.src),Bl(e)||B(tn,Tn.url)):Tn.error&&(Tn.error.options.remove&&(P(tn.getAttribute("src"),Jn.transparentSrc),Xt.push(tn)),DE(e,Tn.error.message)),{element:tn,status:Tn.status,uploadUri:Tn.url,blobInfo:ur}});return Kn.length>0&&v.fireIfChanged(),Xt.length>0&&(Bl(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){ot(Xt,function(Tn){e.dom.remove(Tn),n.removeByUri(Tn.src)})})),Me&&Me(Kn),Kn}))}))},V=function(Me){if(Yf(e))return U(Me)},q=function(Me){if(qr(c,function(We){return We(Me)})===!1)return!1;if(Me.getAttribute("src").indexOf("data:")===0){var de=u_(e);return de(Me)}return!0},G=function(Me){c.push(Me)},ie=function(){return i||(i=B6(u,n)),i.findAll(e.getBody(),q).then(m(function(Me){return Me=le(Me,function(de){return typeof de=="string"?(em(e,de),!1):!0}),Bl(e)||ot(Me,function(de){P(de.image.src,de.blobInfo.blobUri()),de.image.src=de.blobInfo.blobUri(),de.image.removeAttribute("data-mce-src")}),Me}))},re=function(){n.destroy(),u.destroy(),i=a=null},ge=function(Me){return Me.replace(/src="(blob:[^"]+)"/g,function(de,We){var ht=u.getResultUri(We);if(ht)return'src="'+ht+'"';var Xt=n.getByUri(We);if(Xt||(Xt=ln(e.editorManager.get(),function(Tn,$t){return Tn||$t.editorUpload&&$t.editorUpload.blobCache.getByUri(We)},null)),Xt){var Kn=Xt.blob();return'src="data:'+Kn.type+";base64,"+Xt.base64()+'"'}return de})};return e.on("SetContent",function(){Yf(e)?V():ie()}),e.on("RawSaveContent",function(Me){Me.content=ge(Me.content)}),e.on("GetContent",function(Me){Me.source_view||Me.format==="raw"||Me.format==="tree"||(Me.content=ge(Me.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Me){ot(Me,function(de){var We=de.attr("src");if(!n.getByUri(We)){var ht=u.getResultUri(We);ht&&de.attr("src",ht)}})})}),{blobCache:n,addFilter:G,uploadImages:U,uploadImagesAuto:V,scanForImages:ie,destroy:re}},zE=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,u){return gr(a)&&a.hasAttribute("href")},onformat:function(a,i,u){xt.each(u,function(c,v){e.setAttrib(a,v,c)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},Sw=function(e){var n={},a=function(v){return et(v)?n[v]:n},i=function(v){return vr(n,v)},u=function(v,m){v&&(yt(v)?(Vt(m)||(m=[m]),ot(m,function(g){we(g.deep)&&(g.deep=!Iu(g)),we(g.split)&&(g.split=!Iu(g)||ai(g)),we(g.remove)&&Iu(g)&&!ai(g)&&(g.remove="none"),Iu(g)&&ai(g)&&(g.mixed=!0,g.block_expand=!0),yt(g.classes)&&(g.classes=g.classes.split(/\s+/))}),n[v]=m):un(v,function(g,x){u(x,g)}))},c=function(v){return v&&n[v]&&delete n[v],n};return u(zE(e.dom)),u(g_(e)),{get:a,has:i,register:u,unregister:c}},_1=xt.each,Xi=Ea.DOM,LE=function(e,n){var a,i,u,c=n&&n.schema||Ir({}),v=function(T,P){P.classes.length&&Xi.addClass(T,P.classes.join(" ")),Xi.setAttribs(T,P.attrs)},m=function(T){i=typeof T=="string"?{name:T,classes:[],attrs:{}}:T;var P=Xi.create(i.name);return v(P,i),P},g=function(T,P){var B=typeof T!="string"?T.nodeName.toLowerCase():T,U=c.getElementRule(B),V=U&&U.parentsRequired;return V&&V.length?P&&xt.inArray(V,P)!==-1?P:V[0]:!1},x=function(T,P,B){var U,V,q=P.length>0&&P[0],G=q&&q.name,ie=g(T,G);if(ie)G===ie?(V=P[0],P=P.slice(1)):V=ie;else if(q)V=P[0],P=P.slice(1);else if(!B)return T;return V&&(U=m(V),U.appendChild(T)),B&&(U||(U=Xi.create("div"),U.appendChild(T)),xt.each(B,function(re){var ge=m(re);U.insertBefore(ge,T)})),x(U,P,V&&V.siblings)};return e&&e.length?(i=e[0],a=m(i),u=Xi.create("div"),u.appendChild(x(a,e.slice(1),i.siblings)),u):""},TF=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=xt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,u,c,v,m){switch(u){case"#":a.attrs.id=c;break;case".":a.classes.push(c);break;case":":xt.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(a.attrs[c]=c);break}if(v==="["){var g=m.match(/([\w\-]+)(?:\=\"([^\"]+))?/);g&&(a.attrs[g[1]]=g[2])}return""})),a.name=n||"div",a},OF=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),xt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=xt.map(n.split(/(?:~\+|~|\+)/),TF),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},Wc=function(e,n){var a,i,u="",c,v=h_(e);if(v==="")return"";var m=function(P){return P.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var g=Cr(n,"preview");if(Mf(g,!1))return"";v=g.getOr(v)}a=n.block||n.inline||"span";var x=OF(n.selector);x.length?(x[0].name||(x[0].name=a),a=n.selector,i=LE(x,e)):i=LE([a],e);var T=Xi.select(a,i)[0]||i.firstChild;return _1(n.styles,function(P,B){var U=m(P);U&&Xi.setStyle(T,B,U)}),_1(n.attributes,function(P,B){var U=m(P);U&&Xi.setAttrib(T,B,U)}),_1(n.classes,function(P){var B=m(P);Xi.hasClass(T,B)||Xi.addClass(T,B)}),e.fire("PreviewFormats"),Xi.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),c=Xi.getStyle(e.getBody(),"fontSize",!0),c=/px$/.test(c)?parseInt(c,10):0,_1(v.split(" "),function(P){var B=Xi.getStyle(T,P,!0);if(!(P==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(B)&&(B=Xi.getStyle(e.getBody(),P,!0),Xi.toHex(B).toLowerCase()==="#ffffff"))&&!(P==="color"&&Xi.toHex(B).toLowerCase()==="#000000")){if(P==="font-size"&&/em|%$/.test(B)){if(c===0)return;var U=parseFloat(B)/(/%$/.test(B)?100:1);B=U*c+"px"}P==="border"&&B&&(u+="padding:0 2px;"),u+=P+":"+B+";"}}),e.fire("AfterPreviewFormats"),Xi.remove(i),u},AF=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},HE=function(e){var n=Sw(e),a=Ui(null);return AF(e),OB(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,u,c){K4(e,i,u,c)},remove:function(i,u,c,v){b1(e,i,u,c,v)},toggle:function(i,u,c){y6(e,i,u,c)},match:function(i,u,c,v){return p6(e,i,u,c,v)},closest:function(i){return G4(e,i)},matchAll:function(i,u){return b6(e,i,u)},matchNode:function(i,u,c,v){return aw(e,i,u,c,v)},canApply:function(i){return Lg(e,i)},formatChanged:function(i,u,c,v){return w6(e,a,i,u,c,v)},getCssText:Ie(Wc,e)}},VE=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},DF=function(e,n,a){var i=Ui(!1),u=function(g){p1(n,!1,a),n.add({},g)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(g){var x=g.command;VE(x)||(bv(n,a),n.beforeChange())}),e.on("ExecCommand",function(g){var x=g.command;VE(x)||u(g)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",u),e.on("dragend",u),e.on("keyup",function(g){var x=g.keyCode;g.isDefaultPrevented()||((x>=33&&x<=36||x>=37&&x<=40||x===45||g.ctrlKey)&&(u(),e.nodeChanged()),(x===46||x===8)&&e.nodeChanged(),i.get()&&n.typing&&Xd(J2(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(g){var x=g.keyCode;if(!g.isDefaultPrevented()){if(x>=33&&x<=36||x>=37&&x<=40||x===45){n.typing&&u(g);return}var T=g.ctrlKey&&!g.altKey||g.metaKey;(x<16||x>20)&&x!==224&&x!==91&&!n.typing&&!T&&(n.beforeChange(),p1(n,!0,a),n.add({},g),i.set(!0))}}),e.on("mousedown",function(g){n.typing&&u(g)});var c=function(g){return g.inputType==="insertReplacementText"},v=function(g){return g.inputType==="insertText"&&g.data===null},m=function(g){return g.inputType==="insertFromPaste"||g.inputType==="insertFromDrop"};e.on("input",function(g){g.inputType&&(c(g)||v(g)||m(g))&&u(g)}),e.on("AddUndo Undo Redo ClearUndos",function(g){g.isDefaultPrevented()||e.nodeChanged()})},_F=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Qa=function(e){var n=tf(),a=Ui(0),i=Ui(0),u={data:[],typing:!1,beforeChange:function(){v6(e,a,n)},add:function(c,v){return H4(e,u,i,a,n,c,v)},undo:function(){return d6(e,u,a,i)},redo:function(){return m6(e,i,u.data)},clear:function(){V4(e,u,i)},reset:function(){U4(e,u)},hasUndo:function(){return W4(e,u,i)},hasRedo:function(){return j4(e,u,i)},transact:function(c){return q4(e,u,a,c)},ignore:function(c){g6(e,a,c)},extra:function(c,v){h6(e,u,i,c,v)}};return Bl(e)||DF(e,u,a),_F(e),u},UE=[9,27,ar.HOME,ar.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ar.DOWN,ar.UP,ar.LEFT,ar.RIGHT].concat(Jn.browser.isFirefox()?[224]:[]),kw="data-mce-placeholder",Ds=function(e){return e.type==="keydown"||e.type==="keyup"},Ew=function(e){var n=e.keyCode;return n===ar.BACKSPACE||n===ar.DELETE},PF=function(e){if(Ds(e)){var n=e.keyCode;return!Ew(e)&&(ar.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||De(UE,n))}else return!1},BF=function(e){return Ds(e)&&!(Ew(e)||e.type==="keyup"&&e.keyCode===229)},Tw=function(e,n,a){if(Zo(k.fromDom(n),!1)){var i=a==="",u=n.firstElementChild;return u?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(u):a===u.nodeName.toLowerCase():!0}else return!1},FF=function(e){var n=e.dom,a=Ai(e),i=m_(e),u=function(c,v){if(!PF(c)){var m=e.getBody(),g=BF(c)?!1:Tw(n,m,a),x=n.getAttrib(m,kw)!=="";(x!==g||v)&&(n.setAttrib(m,kw,g?i:null),n.setAttrib(m,"aria-placeholder",g?i:null),uk(e,g),e.on(g?"keydown":"keyup",u),e.off(g?"keyup":"keydown",u))}};i&&e.on("init",function(c){u(c,!0),e.on("change SetContent ExecCommand",u),e.on("paste",function(v){return fi.setEditorTimeout(e,function(){return u(v)})})})},tm=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,MF=function(e){return tm.test(e)},Sf=function(e,n){return Cn(k.fromDom(n),v_(e))},WE=function(e){return Ea.DOM.getStyle(e,"direction",!0)==="rtl"||MF(e.textContent)},Ow=function(e,n,a){return le(Ea.DOM.getParents(a.container(),"*",n),e)},Fl=function(e,n,a){var i=Ow(e,n,a);return z.from(i[i.length-1])},Aw=function(e,n,a){var i=ff(n,e),u=ff(a,e);return i&&i===u},RF=function(e){return Qn(e)||j0(e)},ss=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?ba(a)?Mn(a.nextSibling)?gt(a.nextSibling,0):gt.after(a):Qn(n)?gt(a,i+1):n:ba(a)?Mn(a.previousSibling)?gt(a.previousSibling,a.previousSibling.data.length):gt.before(a):j0(n)?gt(a,i-1):n},jE=Ie(ss,!0),cs=Ie(ss,!1),NF=function(e){return function(n){return lr(e,k.fromDom(n.dom.parentNode))}},IF=function(e){return gl(e)||zi(e)},P1=function(e,n){return ia(e,n)?Ph(n,IF,NF(e)):z.none()},Zg=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},qE=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),Zg(e))},GE=function(e,n,a){return ki(uu(a),tc(a),function(i,u){var c=ss(!0,i),v=ss(!1,u),m=ss(!1,n);return e?Es(a,m).exists(function(g){return g.isEqual(v)&&n.isEqual(c)}):Ts(a,m).exists(function(g){return g.isEqual(c)&&n.isEqual(v)})}).getOr(!0)},KE=function(e,n){return{block:e,position:n}},XE=function(e,n){return{from:e,to:n}},Dw=function(e,n){var a=k.fromDom(e),i=k.fromDom(n.container());return P1(a,i).map(function(u){return KE(u,n)})},$F=function(e){return lr(e.from.block,e.to.block)===!1},kf=function(e){return no(e.from.block).bind(function(n){return no(e.to.block).filter(function(a){return lr(n,a)})}).isSome()},zF=function(e){return Pa(e.from.block.dom)===!1&&Pa(e.to.block.dom)===!1},LF=function(e,n,a){return fa(a.position.getNode())&&Zo(a.block)===!1?ks(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?gi(n,e,i).bind(function(u){return Dw(e,u)}):z.some(a)}).getOr(a):a},HF=function(e,n,a){var i=Dw(e,gt.fromRangeStart(a)),u=i.bind(function(c){return gi(n,e,c.position).bind(function(v){return Dw(e,v).map(function(m){return LF(e,n,m)})})});return ki(i,u,XE).filter(function(c){return $F(c)&&kf(c)&&zF(c)})},VF=function(e,n,a){return a.collapsed?HF(e,n,a):z.none()},UF=function(e){var n=Ii(e);return jn(n,Zu).fold(ae(n),function(a){return n.slice(0,a)})},YE=function(e){var n=UF(e);return ot(n,co),n},ZE=function(e,n){var a=Dl(n,e);return Fn(a.reverse(),function(i){return Zo(i)}).each(co)},WF=function(e){return le(la(e),function(n){return!Zo(n)}).length===0},jF=function(e,n,a,i){if(Zo(a))return sv(a),uu(a.dom);WF(i)&&Zo(n)&&Xu(i,k.fromTag("br"));var u=Ts(a.dom,gt.before(i.dom));return ot(YE(n),function(c){Xu(i,c)}),ZE(e,n),u},qF=function(e,n,a){if(Zo(a))return co(a),Zo(n)&&sv(n),uu(n.dom);var i=tc(a.dom);return ot(YE(n),function(u){Yo(a,u)}),ZE(e,n),i},GF=function(e,n){var a=Dl(n,e);return z.from(a[a.length-1])},KF=function(e,n){return ia(n,e)?GF(n,e):z.none()},nm=function(e,n){ks(e,n.dom).map(function(a){return a.getNode()}).map(k.fromDom).filter(ad).each(co)},JE=function(e,n,a){return nm(!0,n),nm(!1,a),KF(n,a).fold(Ie(qF,e,n,a),Ie(jF,e,n,a))},B1=function(e,n,a,i){return n?JE(e,i,a):JE(e,a,i)},F1=function(e,n){var a=k.fromDom(e.getBody()),i=VF(a.dom,n,e.selection.getRng()).bind(function(u){return B1(a,n,u.from.block,u.to.block)});return i.each(function(u){e.selection.setRng(u.toRange())}),i.isSome()},XF=function(e,n){var a=n.getRng();return ki(P1(e,k.fromDom(a.startContainer)),P1(e,k.fromDom(a.endContainer)),function(i,u){return lr(i,u)===!1?(a.deleteContents(),B1(e,!0,i,u).each(function(c){n.setRng(c.toRange())}),!0):!1}).getOr(!1)},QE=function(e,n){var a=k.fromDom(n),i=Ie(lr,e);return Pm(a,Gs,i).isSome()},YF=function(e,n){return QE(e,n.startContainer)||QE(e,n.endContainer)},Cv=function(e,n){var a=Ts(e.dom,gt.fromRangeStart(n)).isNone(),i=Es(e.dom,gt.fromRangeEnd(n)).isNone();return!YF(e,n)&&a&&i},xv=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},M1=function(e){var n=k.fromDom(e.getBody()),a=e.selection.getRng();return Cv(n,a)?xv(e):XF(n,e.selection)},Sv=function(e,n){return e.selection.isCollapsed()?!1:M1(e)},kv=ys,Ev=Pa,_s=function(e,n,a,i,u){return z.from(n._selectionOverrides.showCaret(e,a,i,u))},R1=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},Tv=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?z.none():z.some(R1(n))},N1=function(e,n,a){var i=wp(1,e.getBody(),n),u=gt.fromRangeStart(i),c=u.getNode();if(qo(c))return _s(1,e,c,!u.isAtEnd(),!1);var v=u.getNode(!0);if(qo(v))return _s(1,e,v,!1,!1);var m=e.dom.getParent(u.getNode(),function(g){return Ev(g)||kv(g)});return qo(m)?_s(1,e,m,!1,a):z.none()},Jg=function(e,n,a){return n.collapsed?N1(e,n,a).getOr(n):n},eT=function(e){return hf(e)||Wd(e)},tT=function(e){return pf(e)||jd(e)},rm=function(e,n){Mn(n)&&n.data.length===0&&e.remove(n)},_w=function(e,n,a,i,u,c){return _s(i,e,c.getNode(!u),u,!0).each(function(v){if(n.collapsed){var m=n.cloneRange();u?m.setEnd(v.startContainer,v.startOffset):m.setStart(v.endContainer,v.endOffset),m.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),rm(e.dom,a),!0},nT=function(e,n){var a=e.selection.getRng();if(!Mn(a.commonAncestorContainer))return!1;var i=n?ri.Forwards:ri.Backwards,u=ec(e.getBody()),c=Ie(Jb,n?u.next:u.prev),v=n?eT:tT,m=kd(i,e.getBody(),a),g=ss(n,c(m));if(!g||!Cp(m,g))return!1;if(v(g))return _w(e,a,m.getNode(),i,n,g);var x=c(g);return x&&v(x)&&Cp(g,x)?_w(e,a,m.getNode(),i,n,x):!1},Qg=function(e,n){return nT(e,n)},I1=function(e){return Gs(k.fromDom(e))||zi(k.fromDom(e))},wu=Xn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),rT=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return gr(a)&&a.getAttribute("data-mce-caret")===i},aT=function(e,n,a,i){var u=function(c){return Ti(k.fromDom(c))&&!Mc(a,i,e)};return Zb(!n,a).fold(function(){return Zb(n,i).fold(ft,u)},u)},Pw=function(e,n,a,i){var u=i.getNode(n===!1);return P1(k.fromDom(e),k.fromDom(a.getNode())).map(function(c){return Zo(c)?wu.remove(c.dom):wu.moveToElement(u)}).orThunk(function(){return z.some(wu.moveToElement(u))})},jc=function(e,n,a){return gi(n,e,a).bind(function(i){return I1(i.getNode())||aT(e,n,a,i)?z.none():n&&Pa(i.getNode())||n===!1&&Pa(i.getNode(!0))?Pw(e,n,a,i):n&&pf(a)||n===!1&&hf(a)?z.some(wu.moveToPosition(i)):z.none()})},oT=function(e,n){return e&&Pa(n.nextSibling)?z.some(wu.moveToElement(n.nextSibling)):e===!1&&Pa(n.previousSibling)?z.some(wu.moveToElement(n.previousSibling)):z.none()},iT=function(e,n,a){return a.fold(function(i){return z.some(wu.remove(i))},function(i){return z.some(wu.moveToElement(i))},function(i){return Mc(n,i,e)?z.none():z.some(wu.moveToPosition(i))})},Ef=function(e,n,a){return rT(n,a)?oT(n,a.getNode(n===!1)).fold(function(){return jc(e,n,a)},z.some):jc(e,n,a).bind(function(i){return iT(e,a,i)})},Ps=function(e,n,a){var i=wp(n?1:-1,e,a),u=gt.fromRangeStart(i),c=k.fromDom(e);return n===!1&&pf(u)?z.some(wu.remove(u.getNode(!0))):n&&hf(u)?z.some(wu.remove(u.getNode())):n===!1&&hf(u)&&Xy(c,u)?kP(c,u).map(function(v){return wu.remove(v.getNode())}):n&&pf(u)&&Ky(c,u)?EP(c,u).map(function(v){return wu.remove(v.getNode())}):Ef(e,n,u)},ZF=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),cv(e,n,k.fromDom(a)),!0}},JF=function(e,n){return function(a){var i=n?gt.before(a):gt.after(a);return e.selection.setRng(i.toRange()),!0}},QF=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},uT=function(e,n){return z.from(Fd(e.getBody(),n))},eM=function(e,n){var a=e.selection.getNode();return uT(e,a).filter(Pa).fold(function(){return Ps(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(ZF(e,n),JF(e,n),QF(e))})},jt)},tM=function(e){ot(au(e,".mce-offscreen-selection"),co)},nM=function(e,n){var a=e.selection.getNode();if(Pa(a)&&!Qv(a)){var i=uT(e,a.parentNode).filter(Pa);return i.fold(function(){return tM(k.fromDom(e.getBody())),cv(e,n,k.fromDom(e.selection.getNode())),qE(e),!0},jt)}return!1},sT=function(e){var n=e.dom,a=e.selection,i=Fd(e.getBody(),a.getNode());if(ys(i)&&n.isBlock(i)&&n.isEmpty(i)){var u=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(u),a.setRng(gt.before(u).toRange())}return!0},$1=function(e,n){return e.selection.isCollapsed()?eM(e,n):nM(e,n)},rM=function(e,n){var a=gt.fromRangeStart(e.selection.getRng());return gi(n,e.getBody(),a).filter(function(i){return n?bP(i):yP(i)}).bind(function(i){return z.from(Cd(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},z1=function(e,n){return e.selection.isCollapsed()?rM(e,n):!1},am=Mn,L1=function(e){return am(e)&&e.data[0]===Se},H1=function(e){return am(e)&&e.data[e.data.length-1]===Se},Bw=function(e){return e.ownerDocument.createTextNode(Se)},aM=function(e){if(am(e.previousSibling))return H1(e.previousSibling)||e.previousSibling.appendData(Se),e.previousSibling;if(am(e))return L1(e)||e.insertData(0,Se),e;var n=Bw(e);return e.parentNode.insertBefore(n,e),n},oM=function(e){if(am(e.nextSibling))return L1(e.nextSibling)||e.nextSibling.insertData(0,Se),e.nextSibling;if(am(e))return H1(e)||e.appendData(Se),e;var n=Bw(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},eh=function(e,n){return e?aM(n):oM(n)},cT=Ie(eh,!0),Fw=Ie(eh,!1),Mw=function(e,n){return Mn(e.container())?eh(n,e.container()):eh(n,e.getNode())},Rw=function(e,n){var a=n.get();return a&&e.container()===a&&ba(a)},th=function(e,n){return n.fold(function(a){Zf(e.get());var i=cT(a);return e.set(i),z.some(gt(i,i.length-1))},function(a){return uu(a).map(function(i){if(Rw(i,e))return gt(e.get(),1);Zf(e.get());var u=Mw(i,!0);return e.set(u),gt(u,1)})},function(a){return tc(a).map(function(i){if(Rw(i,e))return gt(e.get(),e.get().length-1);Zf(e.get());var u=Mw(i,!1);return e.set(u),gt(u,u.length-1)})},function(a){Zf(e.get());var i=Fw(a);return e.set(i),z.some(gt(i,1))})},lT=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return z.none()},Yi=Xn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),sc=function(e,n){var a=ff(n,e);return a||e},Bs=function(e,n,a){var i=jE(a),u=sc(n,i.container());return Fl(e,u,i).fold(function(){return Es(u,i).bind(Ie(Fl,e,u)).map(function(c){return Yi.before(c)})},z.none)},V1=function(e,n){return vf(e,n)===null},Nw=function(e,n,a){return Fl(e,n,a).filter(Ie(V1,n))},U1=function(e,n,a){var i=cs(a);return Nw(e,n,i).bind(function(u){var c=Ts(u,i);return c.isNone()?z.some(Yi.start(u)):z.none()})},fT=function(e,n,a){var i=jE(a);return Nw(e,n,i).bind(function(u){var c=Es(u,i);return c.isNone()?z.some(Yi.end(u)):z.none()})},vT=function(e,n,a){var i=cs(a),u=sc(n,i.container());return Fl(e,u,i).fold(function(){return Ts(u,i).bind(Ie(Fl,e,u)).map(function(c){return Yi.after(c)})},z.none)},Iw=function(e){return WE(W1(e))===!1},cc=function(e,n,a){var i=lT([Bs,U1,fT,vT],[e,n,a]);return i.filter(Iw)},W1=function(e){return e.fold(Oe,Oe,Oe,Oe)},$w=function(e){return e.fold(ae("before"),ae("start"),ae("end"),ae("after"))},Ov=function(e){return e.fold(Yi.before,Yi.before,Yi.after,Yi.after)},om=function(e){return e.fold(Yi.start,Yi.start,Yi.end,Yi.end)},zw=function(e,n){return $w(e)===$w(n)&&W1(e)===W1(n)},iM=function(e,n,a,i,u,c){return ki(Fl(n,a,i),Fl(n,a,u),function(v,m){return v!==m&&Aw(a,v,m)?Yi.after(e?v:m):c}).getOr(c)},uM=function(e,n){return e.fold(jt,function(a){return!zw(a,n)})},sM=function(e,n,a,i,u){var c=ss(e,u),v=gi(e,a,c).map(Ie(ss,e)),m=v.fold(function(){return i.map(Ov)},function(g){return cc(n,a,g).map(Ie(iM,e,n,a,c,g)).filter(Ie(uM,i))});return m.filter(Iw)},cM=function(e,n){return e?n.fold(Je(z.some,Yi.start),z.none,Je(z.some,Yi.after),z.none):n.fold(z.none,Je(z.some,Yi.before),z.none,Je(z.some,Yi.end))},j1=function(e,n,a,i){var u=ss(e,i),c=cc(n,a,u);return cc(n,a,u).bind(Ie(cM,e)).orThunk(function(){return sM(e,n,a,c,i)})};Ie(j1,!1),Ie(j1,!0);var lM=function(e){return Ae(e.selection.getSel().modify)},dT=function(e,n,a){var i=e?1:-1;return n.setRng(gt(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},Lw=function(e,n){var a=n.selection.getRng(),i=e?gt.fromRangeEnd(a):gt.fromRangeStart(a);return lM(n)?e&&Qn(i)?dT(!0,n.selection,i):!e&&j0(i)?dT(!1,n.selection,i):!1:!1},qc;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(qc||(qc={}));var q1=function(e,n){return e===ri.Backwards?_t(n):n},fM=function(e,n,a){return e===ri.Forwards?n.next(a):n.prev(a)},vM=function(e,n,a,i){return fa(i.getNode(n===ri.Forwards))?qc.Br:Mc(a,i)===!1?qc.Block:qc.Wrap},mT=function(e,n,a,i){for(var u=ec(a),c=i,v=[];c;){var m=fM(n,u,c);if(!m)break;if(fa(m.getNode(!1)))return n===ri.Forwards?{positions:q1(n,v).concat([m]),breakType:qc.Br,breakAt:z.some(m)}:{positions:q1(n,v),breakType:qc.Br,breakAt:z.some(m)};if(!m.isVisible()){c=m;continue}if(e(c,m)){var g=vM(a,n,c,m);return{positions:q1(n,v),breakType:g,breakAt:z.some(m)}}v.push(m),c=m}return{positions:q1(n,v),breakType:qc.Eol,breakAt:z.none()}},gT=function(e,n,a,i){return n(a,i).breakAt.map(function(u){var c=n(a,u).positions;return e===ri.Backwards?c.concat(u):[u].concat(c)}).getOr([])},Hw=function(e,n){return ln(e,function(a,i){return a.fold(function(){return z.some(i)},function(u){return ki(Wt(u.getClientRects()),Wt(i.getClientRects()),function(c,v){var m=Math.abs(n-c.left),g=Math.abs(n-v.left);return g<=m?i:u}).or(a)})},z.none())},nh=function(e,n){return Wt(n.getClientRects()).bind(function(a){return Hw(e,a.left)})},Tf=Ie(mT,gt.isAbove,-1),Av=Ie(mT,gt.isBelow,1),dM=Ie(gT,-1,Tf),mM=Ie(gT,1,Av),gM=function(e,n){return Tf(e,n).breakAt.isNone()},hM=function(e,n){return Av(e,n).breakAt.isNone()},hT=function(e){return uu(e).map(function(n){return[n].concat(Av(e,n).positions)}).getOr([])},pM=function(e){return tc(e).map(function(n){return Tf(e,n).positions.concat(n)}).getOr([])},bM=function(e){var n=function(i){return Dt(i,function(u){var c=of(u);return c.node=e,c})};if(gr(e))return n(e.getClientRects());if(Mn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},rh=function(e){return Rr(e,bM)},Dv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Dv||(Dv={}));var yM=function(e,n,a,i){for(;i=ev(i,e,Oo,n);)if(a(i))return},pT=function(e,n,a,i,u,c){var v=0,m=[],g=function(P){var B=rh([P]);e===-1&&(B=B.reverse());for(var U=0;U<B.length;U++){var V=B[U];if(!a(V,x)){if(m.length>0&&n(V,uo(m))&&v++,V.line=v,u(V))return!0;m.push(V)}}},x=uo(c.getClientRects());if(!x)return m;var T=c.getNode();return g(T),yM(e,i,g,T),m},wM=function(e,n){return n.line>e},CM=function(e,n){return n.line===e},xM=Ie(pT,Dv.Up,uf,sf),SM=Ie(pT,Dv.Down,sf,uf),G1=function(e,n,a,i){var u=ec(n),c,v,m,g,x=[],T=0,P=function(q){return uo(q.getClientRects())};e===1?(c=u.next,v=sf,m=uf,g=gt.after(i)):(c=u.prev,v=uf,m=sf,g=gt.before(i));var B=P(g);do if(!!g.isVisible()){var U=P(g);if(!m(U,B)){x.length>0&&v(U,uo(x))&&T++;var V=of(U);if(V.position=g,V.line=T,a(V))return x;x.push(V)}}while(g=c(g));return x},ah=function(e){return function(n){return wM(e,n)}},Vw=function(e){return function(n){return CM(e,n)}},kM=Pa,oh=ev,Uw=function(e,n){return Math.abs(e.left-n)},Ww=function(e,n){return Math.abs(e.right-n)},bT=function(e,n){return e>=n.left&&e<=n.right},EM=function(e,n){return e>=n.top&&e<=n.bottom},TM=function(e){return sa(e,"node")},K1=function(e,n,a){return a===void 0&&(a=jt),io(e,function(i,u){if(bT(n,u))return a(u)?u:i;if(bT(n,i))return a(i)?i:u;var c=Math.min(Uw(i,n),Ww(i,n)),v=Math.min(Uw(u,n),Ww(u,n));return v===c&&TM(u)&&kM(u.node)||v<c?u:i})},yT=function(e,n,a,i,u){var c=oh(i,e,Oo,n,!u);do if(!c||a(c))return;while(c=oh(c,e,Oo,n))},OM=function(e,n,a){a===void 0&&(a=!0);var i=[],u=function(c,v){var m=le(rh([v]),function(g){return!c(g,n)});return i=i.concat(m),m.length===0};return i.push(n),yT(Dv.Up,e,Ie(u,uf),n.node,a),yT(Dv.Down,e,Ie(u,sf),n.node,a),i},AM=function(e){return le(Jt(e.getElementsByTagName("*")),Jf)},DM=function(e,n){return{node:e.node,before:Uw(e,n)<Ww(e,n)}},_M=function(e,n,a){var i=rh(AM(e)),u=le(i,Ie(EM,a)),c=function(g){return!Bo(g.node)&&!tu(g.node)},v=K1(u,n,c);if(v){var m=c(v);if(v=K1(OM(e,v,m),n,c),v&&Jf(v.node))return DM(v,n)}return null},Ml=function(e,n){e.selection.setRng(n),Id(e,e.selection.getRng())},Vu=function(e,n,a){return z.some(Jg(e,n,a))},X1=function(e,n,a,i,u,c){var v=n===ri.Forwards,m=ec(e.getBody()),g=Ie(Jb,v?m.next:m.prev),x=v?i:u;if(!a.collapsed){var T=up(a);if(c(T))return _s(n,e,T,n===ri.Backwards,!1)}var P=kd(n,e.getBody(),a);if(x(P))return Tv(e,P.getNode(!v));var B=ss(v,g(P)),U=Sc(a);if(!B)return U?z.some(a):z.none();if(x(B))return _s(n,e,B.getNode(!v),v,!1);var V=g(B);return V&&x(V)&&Cp(B,V)?_s(n,e,V.getNode(!v),v,!1):U?Vu(e,B.toRange(),!1):z.none()},jw=function(e,n,a,i,u,c){var v=kd(n,e.getBody(),a),m=uo(v.getClientRects()),g=n===Dv.Down;if(!m)return z.none();var x=g?SM:xM,T=x(e.getBody(),ah(1),v),P=le(T,Vw(1)),B=m.left,U=K1(P,B);if(U&&c(U.node)){var V=Math.abs(B-U.left),q=Math.abs(B-U.right);return _s(n,e,U.node,V<q,!1)}var G;if(i(v)?G=v.getNode():u(v)?G=v.getNode(!0):G=up(a),G){var ie=G1(n,e.getBody(),ah(1),G),re=K1(le(ie,Vw(1)),B);if(re||(re=uo(le(ie,Vw(0))),re))return Vu(e,re.position.toRange(),!1)}return P.length===0?Y1(e,g).filter(g?u:i).map(function(ge){return Jg(e,ge.toRange(),!1)}):z.none()},Y1=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var u=gt.fromRangeEnd(a),c=Av(i,u);return dn(c.positions)}else{var u=gt.fromRangeStart(a),c=Tf(i,u);return Wt(c.positions)}},wT=function(e,n,a){return Y1(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},ih=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},CT=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},qw=function(e,n,a){return th(n,a).map(function(i){return ih(e,i),a})},PM=function(e,n,a){var i=e.getBody(),u=gt.fromRangeStart(e.selection.getRng()),c=Ie(Sf,e),v=j1(a,c,i,u);return v.bind(function(m){return qw(e,n,m)})},BM=function(e,n,a){var i=Dt(au(k.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(v){return v.dom}),u=le(i,e),c=le(a,e);ot(Pt(u,c),Ie(CT,!1)),ot(Pt(c,u),Ie(CT,!0))},FM=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=gt.fromRangeStart(e.selection.getRng());gt.isTextPosition(a)&&RF(a)===!1&&(ih(e,AS(n.get(),a)),n.set(null))}},im=function(e,n,a,i){if(n.selection.isCollapsed()){var u=le(i,e);ot(u,function(c){var v=gt.fromRangeStart(n.selection.getRng());cc(e,n.getBody(),v).bind(function(m){return qw(n,a,m)})})}},Gw=function(e,n,a){return eg(e)?PM(e,n,a).isSome():!1},Kw=function(e,n,a){return eg(n)?Lw(e,n):!1},xT=function(e){var n=Ui(null),a=Ie(Sf,e);return e.on("NodeChange",function(i){eg(e)&&!(Jn.browser.isIE()&&i.initial)&&(BM(a,e.dom,i.parents),FM(e,n),im(a,e,n,i.parents))}),n},Xw=Ie(Kw,!0),MM=Ie(Kw,!1),Z1=function(e,n,a){if(eg(e)){var i=Y1(e,n).getOrThunk(function(){var u=e.selection.getRng();return n?gt.fromRangeEnd(u):gt.fromRangeStart(u)});return cc(Ie(Sf,e),e.getBody(),i).exists(function(u){var c=Ov(u);return th(a,c).exists(function(v){return ih(e,v),!0})})}else return!1},RM=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},NM=function(e){return ki(uu(e),tc(e),function(n,a){var i=ss(!0,n),u=ss(!1,a);return Es(e,i).forall(function(c){return c.isEqual(u)})}).getOr(!0)},ST=function(e,n){return function(a){return th(n,a).exists(function(i){return ih(e,i),!0})}},kT=function(e,n,a,i){var u=e.getBody(),c=Ie(Sf,e);e.undoManager.ignore(function(){e.selection.setRng(RM(a,i)),e.execCommand("Delete"),cc(c,u,gt.fromRangeStart(e.selection.getRng())).map(om).map(ST(e,n))}),e.nodeChanged()},lc=function(e,n){var a=ff(n,e);return a||e},IM=function(e,n,a,i){var u=lc(e.getBody(),i.container()),c=Ie(Sf,e),v=cc(c,u,i);return v.bind(function(m){return a?m.fold(ae(z.some(om(m))),z.none,ae(z.some(Ov(m))),z.none):m.fold(z.none,ae(z.some(Ov(m))),z.none,ae(z.some(om(m))))}).map(ST(e,n)).getOrThunk(function(){var m=ig(a,u,i),g=m.bind(function(x){return cc(c,u,x)});return ki(v,g,function(){return Fl(c,u,i).exists(function(x){return NM(x)?(cv(e,a,k.fromDom(x)),!0):!1})}).orThunk(function(){return g.bind(function(x){return m.map(function(T){return a?kT(e,n,i,T):kT(e,n,T,i),!0})})}).getOr(!1)})},J1=function(e,n,a){if(e.selection.isCollapsed()&&eg(e)){var i=gt.fromRangeStart(e.selection.getRng());return IM(e,n,a,i)}return!1},$M=function(e,n){var a=Dl(n,e);return jn(a,Zu).fold(ae(a),function(i){return a.slice(0,i)})},zM=function(e){return Oh(e)===1},LM=function(e,n,a,i){var u=Ie(AB,n),c=Dt(le(i,u),function(m){return m.dom});if(c.length===0)cv(n,e,a);else{var v=t4(a.dom,c);n.selection.setRng(v.toRange())}},HM=function(e,n){var a=k.fromDom(e.getBody()),i=k.fromDom(e.selection.getStart()),u=le($M(a,i),zM);return dn(u).exists(function(c){var v=gt.fromRangeStart(e.selection.getRng());return GE(n,v,c.dom)&&!B2(c)?(LM(n,e,c,u),!0):!1})},Q1=function(e,n){return e.selection.isCollapsed()?HM(e,n):!1},Gc=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),cv(e,n,k.fromDom(a)),!0},VM=function(e,n){var a=n?Wd:jd,i=n?ri.Forwards:ri.Backwards,u=kd(i,e.getBody(),e.selection.getRng());return a(u)?Gc(e,n,u.getNode(!n)):z.from(ss(n,u)).filter(function(c){return a(c)&&Cp(u,c)}).exists(function(c){return Gc(e,n,c.getNode(!n))})},UM=function(e,n){var a=e.selection.getNode();return tu(a)?Gc(e,n,a):!1},uh=function(e,n){return e.selection.isCollapsed()?VM(e,n):UM(e,n)},Yw=function(e){return Ph(e,function(n){return ys(n.dom)||Pa(n.dom)}).exists(function(n){return ys(n.dom)})},Zw=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},ET=function(e,n){var a=e||KA(n)?"margin":"padding",i=Nr(n,"direction")==="rtl"?"-right":"-left";return a+i},WM=function(e,n,a,i,u,c){var v=ET(a,k.fromDom(c));if(n==="outdent"){var m=Math.max(0,Zw(c.style[v])-i);e.setStyle(c,v,m?m+u:"")}else{var m=Zw(c.style[v])+i+u;e.setStyle(c,v,m)}},_v=function(e,n){return qr(n,function(a){var i=ET(pS(e),a),u=Ei(a,i).map(Zw).getOr(0),c=e.dom.getContentEditable(a.dom);return c!=="false"&&u>0})},TT=function(e){var n=AT(e);return!e.mode.isReadOnly()&&(n.length>1||_v(e,n))},OT=function(e){return Fh(e)||zi(e)},jM=function(e){return no(e).exists(OT)},AT=function(e){return le($D(e.selection.getSelectedBlocks()),function(n){return!OT(n)&&!jM(n)&&Yw(n)})},e0=function(e,n){var a=e.dom,i=e.selection,u=e.formatter,c=bS(e),v=/[a-z%]+$/i.exec(c)[0],m=parseInt(c,10),g=pS(e),x=Ai(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&x===""&&!a.getParent(i.getNode(),a.isBlock)&&u.apply("div"),ot(AT(e),function(T){WM(a,n,g,m,v,T.dom)})},t0=function(e,n){if(e.selection.isCollapsed()&&TT(e)){var a=e.dom,i=e.selection.getRng(),u=gt.fromRangeStart(i),c=a.getParent(i.startContainer,a.isBlock);if(c!==null&&Gy(k.fromDom(c),u))return e0(e,"outdent"),!0}return!1},Jw=function(e,n){e.getDoc().execCommand(n,!1,null)},DT=function(e,n){if(!t0(e)){if($1(e,!1))return;if(Qg(e,!1))return;if(J1(e,n,!1))return;if(F1(e,!1))return;if(Dg(e))return;if(z1(e,!1))return;if(uh(e,!1))return;if(Sv(e))return;if(Q1(e,!1))return;Jw(e,"Delete"),qE(e)}},_T=function(e,n){if(!$1(e,!0)){if(Qg(e,!0))return;if(J1(e,n,!0))return;if(F1(e,!0))return;if(Dg(e))return;if(z1(e,!0))return;if(uh(e,!0))return;if(Sv(e))return;if(Q1(e,!0))return;Jw(e,"ForwardDelete")}},qM=function(e,n){e.addCommand("delete",function(){DT(e,n)}),e.addCommand("forwardDelete",function(){_T(e,n)})},um=5,GM=400,PT=function(e){return e.touches===void 0||e.touches.length!==1?z.none():z.some(e.touches[0])},KM=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>um||i>um},sm=function(e){var n=tf(),a=Ui(!1),i=kb(function(u){e.fire("longpress",Ln(Ln({},u),{type:"longpress"})),a.set(!0)},GM);e.on("touchstart",function(u){PT(u).each(function(c){i.cancel();var v={x:c.clientX,y:c.clientY,target:u.target};i.throttle(u),a.set(!1),n.set(v)})},!0),e.on("touchmove",function(u){i.cancel(),PT(u).each(function(c){n.on(function(v){KM(c,v)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(u){i.cancel(),u.type!=="touchcancel"&&n.get().filter(function(c){return c.target.isEqualNode(u.target)}).each(function(){a.get()?u.preventDefault():e.fire("tap",Ln(Ln({},u),{type:"tap"}))})},!0)},Qw=function(e,n){return vr(e,n.nodeName)},Rl=function(e,n){return Mn(n)?!0:gr(n)?!Qw(e,n)&&!hu(n):!1},XM=function(e,n,a){return nt(i3(k.fromDom(a),k.fromDom(n)),function(i){return Qw(e,i.dom)})},eC=function(e,n){if(Mn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||Qw(e,n.nextSibling)))return!0}return!1},tC=function(e){var n=e.dom,a=e.selection,i=e.schema,u=i.getBlockElements(),c=a.getStart(),v=e.getBody(),m,g,x,T=Ai(e);if(!(!c||!gr(c)||!T)){var P=v.nodeName.toLowerCase();if(!(!i.isValidChild(P,T.toLowerCase())||XM(u,v,c))){var B=a.getRng(),U=B.startContainer,V=B.startOffset,q=B.endContainer,G=B.endOffset,ie=uv(e);for(c=v.firstChild;c;)if(Rl(u,c)){if(eC(u,c)){g=c,c=c.nextSibling,n.remove(g);continue}m||(m=n.create(T,Jm(e)),c.parentNode.insertBefore(m,c),x=!0),g=c,c=c.nextSibling,m.appendChild(g)}else m=null,c=c.nextSibling;x&&ie&&(B.setStart(U,V),B.setEnd(q,G),a.setRng(B),e.nodeChanged())}}},YM=function(e){Ai(e)&&e.on("NodeChange",Ie(tC,e))},ZM=function(e){return nd(k.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},JM=function(e){e.selection.setRng(e.selection.getRng())},nC=function(e,n){n.hasAttribute("data-mce-caret")&&(q0(n),JM(e),e.selection.scrollIntoView(n))},QM=function(e,n){var a=ZM(e);if(!!a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),nC(e,a);return}Mm(a)&&(nC(e,a),e.undoManager.add())}},e8=function(e){e.on("keyup compositionstart",Ie(QM,e))},BT=Pa,t8=function(e,n,a){return X1(n,e,a,hf,pf,BT)},FT=function(e,n,a){var i=function(c){return hf(c)||a3(c)},u=function(c){return pf(c)||o3(c)};return jw(n,e,a,i,u,BT)},n8=function(e){var n=e.dom.create(Ai(e));return(!Jn.ie||Jn.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},Of=function(e,n,a){var i=ec(e.getBody()),u=Ie(Jb,n===1?i.next:i.prev);if(a.collapsed&&k_(e)){var c=e.dom.getParent(a.startContainer,"PRE");if(!c)return;var v=u(gt.fromRangeStart(a));if(!v){var m=n8(e);n===1?e.$(c).after(m):e.$(c).before(m),e.selection.select(m,!0),e.selection.collapse()}}},r8=function(e,n){var a=n?ri.Forwards:ri.Backwards,i=e.selection.getRng();return t8(a,e,i).orThunk(function(){return Of(e,a,i),z.none()})},sh=function(e,n){var a=n?1:-1,i=e.selection.getRng();return FT(a,e,i).orThunk(function(){return Of(e,a,i),z.none()})},rC=function(e,n){return r8(e,n).exists(function(a){return Ml(e,a),!0})},n0=function(e,n){return sh(e,n).exists(function(a){return Ml(e,a),!0})},r0=function(e,n){var a=n?pf:hf;return wT(e,n,a)},a8=function(e){return De(["figcaption"],na(e))},MT=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},RT=function(e,n,a){a?Yo(e,n):Sm(e,n)},aC=function(e,n){var a=k.fromTag("br");return RT(e,a,n),MT(a)},o8=function(e,n,a,i){var u=k.fromTag(a),c=k.fromTag("br");return A(u,i),Yo(u,c),RT(e,u,n),MT(c)},i8=function(e,n,a,i){return n===""?aC(e,i):o8(e,i,n,a)},u8=function(e,n){var a=Ie(lr,n);return Ph(k.fromDom(e.container()),Zu,a).filter(a8)},s8=function(e,n,a){return n?hM(e.dom,a):gM(e.dom,a)},NT=function(e,n){var a=k.fromDom(e.getBody()),i=gt.fromRangeStart(e.selection.getRng()),u=Ai(e),c=Jm(e);return u8(i,a).exists(function(){if(s8(a,n,i)){var v=i8(a,u,c,n);return e.selection.setRng(v),!0}else return!1})},IT=function(e,n){return e.selection.isCollapsed()?NT(e,n):!1},c8=function(e){return Dt(e,function(n){return Ln({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Ee},n)})},l8=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},f8=function(e,n){return Rr(c8(e),function(a){return l8(a,n)?[a]:[]})},Wr=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},cm=function(e,n){return Fn(f8(e,n),function(a){return a.action()})},$T=function(e,n){var a=n?ri.Forwards:ri.Backwards,i=e.selection.getRng();return X1(e,a,i,Wd,jd,tu).exists(function(u){return Ml(e,u),!0})},zT=function(e,n){var a=n?1:-1,i=e.selection.getRng();return jw(e,a,i,Wd,jd,tu).exists(function(u){return Ml(e,u),!0})},oC=function(e,n){var a=n?jd:Wd;return wT(e,n,a)},v8=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},LT=function(e,n){return Rr(n,function(a){var i=v8(of(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},d8=function(e,n,a){return ln(e,function(i,u){return i.fold(function(){return z.some(u)},function(c){var v=Math.sqrt(Math.abs(c.x-n)+Math.abs(c.y-a)),m=Math.sqrt(Math.abs(u.x-n)+Math.abs(u.y-a));return z.some(m<v?u:c)})},z.none())},HT=function(e,n,a,i,u){var c=au(k.fromDom(a),"td,th,caption").map(function(m){return m.dom}),v=le(LT(e,c),function(m){return n(m,u)});return d8(v,i,u).map(function(m){return m.cell})},m8=function(e){return e.bottom},g8=function(e){return e.top},h8=function(e,n){return e.y<n},p8=function(e,n){return e.y>n},b8=Ie(HT,m8,h8),y8=Ie(HT,g8,p8),w8=function(e,n){return Wt(n.getClientRects()).bind(function(a){return b8(e,a.left,a.top)}).bind(function(a){return nh(pM(a),n)})},C8=function(e,n){return dn(n.getClientRects()).bind(function(a){return y8(e,a.left,a.top)}).bind(function(a){return nh(hT(a),n)})},x8=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},S8=function(e){return e.breakType===qc.Wrap&&e.positions.length===0},k8=function(e){return e.breakType===qc.Br&&e.positions.length===1},iC=function(e,n,a){var i=e(n,a);return S8(i)||!fa(a.getNode())&&k8(i)?!x8(e,n,i):i.breakAt.isNone()},E8=Ie(iC,Tf),T8=Ie(iC,Av),VT=function(e,n,a){var i=gt.fromRangeStart(n);return ks(!e,a).exists(function(u){return u.isEqual(i)})},UT=function(e,n,a,i){var u=e.selection.getRng(),c=n?1:-1;return PS()&&VT(n,u,a)?(_s(c,e,a,!n,!1).each(function(v){Ml(e,v)}),!0):!1},a0=function(e,n,a){return w8(n,a).orThunk(function(){return Wt(a.getClientRects()).bind(function(i){return Hw(dM(e,gt.before(n)),i.left)})}).getOr(gt.before(n))},WT=function(e,n,a){return C8(n,a).orThunk(function(){return Wt(a.getClientRects()).bind(function(i){return Hw(mM(e,gt.after(n)),i.left)})}).getOr(gt.after(n))},o0=function(e,n){var a=n.getNode(e);return gr(a)&&a.nodeName==="TABLE"?z.some(a):z.none()},uC=function(e,n,a,i){var u=Ai(n);u?n.undoManager.transact(function(){var c=k.fromTag(u);A(c,Jm(n)),Yo(c,k.fromTag("br")),e?Wl(k.fromDom(a),c):Xu(k.fromDom(a),c);var v=n.dom.createRng();v.setStart(c.dom,0),v.setEnd(c.dom,0),Ml(n,v)}):Ml(n,i.toRange())},sC=function(e,n,a){var i=o0(!!n,a),u=n===!1;i.fold(function(){return Ml(e,a.toRange())},function(c){return ks(u,e.getBody()).filter(function(v){return v.isEqual(a)}).fold(function(){return Ml(e,a.toRange())},function(v){return uC(n,e,c,a)})})},O8=function(e,n,a,i){var u=e.selection.getRng(),c=gt.fromRangeStart(u),v=e.getBody();if(!n&&E8(i,c)){var m=a0(v,a,c);return sC(e,n,m),!0}else if(n&&T8(i,c)){var m=WT(v,a,c);return sC(e,n,m),!0}else return!1},cC=function(e,n,a){return z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return z.from(e.dom.getParent(i,"table")).map(function(u){return a(e,n,u,i)})}).getOr(!1)},Pv=function(e,n){return cC(e,n,UT)},lC=function(e,n){return cC(e,n,O8)},fC=function(e,n,a){var i=Vn().os;cm([{keyCode:ar.RIGHT,action:Wr(rC,e,!0)},{keyCode:ar.LEFT,action:Wr(rC,e,!1)},{keyCode:ar.UP,action:Wr(n0,e,!1)},{keyCode:ar.DOWN,action:Wr(n0,e,!0)},{keyCode:ar.RIGHT,action:Wr(Pv,e,!0)},{keyCode:ar.LEFT,action:Wr(Pv,e,!1)},{keyCode:ar.UP,action:Wr(lC,e,!1)},{keyCode:ar.DOWN,action:Wr(lC,e,!0)},{keyCode:ar.RIGHT,action:Wr($T,e,!0)},{keyCode:ar.LEFT,action:Wr($T,e,!1)},{keyCode:ar.UP,action:Wr(zT,e,!1)},{keyCode:ar.DOWN,action:Wr(zT,e,!0)},{keyCode:ar.RIGHT,action:Wr(Gw,e,n,!0)},{keyCode:ar.LEFT,action:Wr(Gw,e,n,!1)},{keyCode:ar.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Wr(Xw,e,n)},{keyCode:ar.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Wr(MM,e,n)},{keyCode:ar.UP,action:Wr(IT,e,!1)},{keyCode:ar.DOWN,action:Wr(IT,e,!0)}],a).each(function(u){a.preventDefault()})},A8=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&fC(e,n,a)})},vC=function(e,n,a){cm([{keyCode:ar.BACKSPACE,action:Wr(t0,e,!1)},{keyCode:ar.BACKSPACE,action:Wr($1,e,!1)},{keyCode:ar.DELETE,action:Wr($1,e,!0)},{keyCode:ar.BACKSPACE,action:Wr(Qg,e,!1)},{keyCode:ar.DELETE,action:Wr(Qg,e,!0)},{keyCode:ar.BACKSPACE,action:Wr(J1,e,n,!1)},{keyCode:ar.DELETE,action:Wr(J1,e,n,!0)},{keyCode:ar.BACKSPACE,action:Wr(Dg,e,!1)},{keyCode:ar.DELETE,action:Wr(Dg,e,!0)},{keyCode:ar.BACKSPACE,action:Wr(z1,e,!1)},{keyCode:ar.DELETE,action:Wr(z1,e,!0)},{keyCode:ar.BACKSPACE,action:Wr(uh,e,!1)},{keyCode:ar.DELETE,action:Wr(uh,e,!0)},{keyCode:ar.BACKSPACE,action:Wr(Sv,e,!1)},{keyCode:ar.DELETE,action:Wr(Sv,e,!0)},{keyCode:ar.BACKSPACE,action:Wr(F1,e,!1)},{keyCode:ar.DELETE,action:Wr(F1,e,!0)},{keyCode:ar.BACKSPACE,action:Wr(Q1,e,!1)},{keyCode:ar.DELETE,action:Wr(Q1,e,!0)}],a).each(function(i){a.preventDefault()})},D8=function(e,n){cm([{keyCode:ar.BACKSPACE,action:Wr(sT,e)},{keyCode:ar.DELETE,action:Wr(sT,e)}],n)},_8=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&vC(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&D8(e,a)})},P8=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},ch=function(e,n){var a,i=n,u=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(!!n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var v=P8(n.firstChild);v&&/^(UL|OL|DL)$/.test(v.nodeName)&&n.insertBefore(u.doc.createTextNode(du),n.firstChild)}var m=u.createRng();if(n.normalize(),n.hasChildNodes()){for(var g=new da(n,n);a=g.current();){if(Mn(a)){m.setStart(a,0),m.setEnd(a,0);break}if(c[a.nodeName.toLowerCase()]){m.setStartBefore(a),m.setEndBefore(a);break}i=a,a=g.next()}a||(m.setStart(i,0),m.setEnd(i,0))}else fa(n)?n.nextSibling&&u.isBlock(n.nextSibling)?(m.setStartBefore(n),m.setEndBefore(n)):(m.setStartAfter(n),m.setEndAfter(n)):(m.setStart(n,0),m.setEnd(n,0));e.selection.setRng(m),Id(e,m)}},B8=function(e,n){var a=e.getRoot(),i,u;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(u=i),i=i.parentNode;return i!==a?u:a},dC=function(e){return z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},jT=function(e){return dC(e).fold(ae(""),function(n){return n.nodeName.toUpperCase()})},lm=function(e){return dC(e).filter(function(n){return zi(k.fromDom(n))}).isSome()},F8=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},mC=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},qT=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},gC=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},GT=function(e){return gC(e)&&gC(e.parentNode)},lh=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},fh=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!gr(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},hC=function(e,n,a,i,u){var c=e.dom,v=e.selection.getRng();if(a!==e.getBody()){GT(a)&&(u="LI");var m=u?n(u):c.create("BR");if(fh(a,i,!0)&&fh(a,i,!1))if(qT(a,"LI")){var g=lh(a);c.insertAfter(m,g),mC(a)?c.remove(g):c.remove(a)}else c.replace(m,a);else if(fh(a,i,!0))qT(a,"LI")?(c.insertAfter(m,lh(a)),m.appendChild(c.doc.createTextNode(" ")),m.appendChild(a)):a.parentNode.insertBefore(m,a),c.remove(i);else if(fh(a,i,!1))c.insertAfter(m,lh(a)),c.remove(i);else{a=lh(a);var x=v.cloneRange();x.setStartAfter(i),x.setEndAfter(a);var T=x.extractContents();u==="LI"&&F8(T,"LI")?(m=T.firstChild,c.insertAfter(T,a)):(c.insertAfter(T,a),c.insertAfter(m,a)),c.remove(i)}ch(e,m)}},KT=function(e){ot(Ab(k.fromDom(e),so),function(n){var a=n.dom;a.nodeValue=xc(a.nodeValue)})},M8=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},R8=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},fm=function(e){e.innerHTML='<br data-mce-bogus="1">'},pC=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},XT=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},N8=function(e,n,a){var i=a,u=[],c;if(!!i){for(;i=i.firstChild;){if(e.isBlock(i))return;gr(i)&&!n[i.nodeName.toLowerCase()]&&u.push(i)}for(c=u.length;c--;)i=u[c],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||M8(e,i))&&e.remove(i)}},i0=function(e,n,a){return Mn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===Se?0:a:a===n.data.length-1&&n.data.charAt(a)===Se?n.data.length:a},I8=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,i0(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,i0(!1,e.endContainer,e.endOffset)),n},$8=function(e){do Mn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},Cu=function(e,n){var a=e.getRoot(),i,u;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(u=i),i=i.parentNode;return i!==a?u:a},z8=function(e,n,a){var i=e.dom;z.from(a.style).map(i.parseStyle).each(function(g){var x=_h(k.fromDom(n)),T=Ln(Ln({},x),g);i.setStyles(n,T)});var u=z.from(a.class).map(function(g){return g.split(/\s+/)}),c=z.from(n.className).map(function(g){return le(g.split(/\s+/),function(x){return x!==""})});ki(u,c,function(g,x){var T=le(x,function(B){return!De(g,B)}),P=to(to([],g,!0),T,!0);i.setAttrib(n,"class",P.join(" "))});var v=["style","class"],m=Pn(a,function(g,x){return!De(v,x)});i.setAttribs(n,m)},Bv=function(e,n){var a=Ai(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=Jm(e);z8(e,n,i)}},YT=function(e,n,a,i,u){var c,v,m,g,x,T,P=n||"P",B=e.dom,U=Cu(B,i);if(v=B.getParent(i,B.isBlock),!v||!XT(B,v)){if(v=v||U,v===e.getBody()||R8(v)?T=v.nodeName.toLowerCase():T=v.parentNode.nodeName.toLowerCase(),!v.hasChildNodes())return c=B.create(P),Bv(e,c),v.appendChild(c),a.setStart(c,0),a.setEnd(c,0),c;for(g=i;g.parentNode!==v;)g=g.parentNode;for(;g&&!B.isBlock(g);)m=g,g=g.previousSibling;if(m&&e.schema.isValidChild(T,P.toLowerCase())){for(c=B.create(P),Bv(e,c),m.parentNode.insertBefore(c,m),g=m;g&&!B.isBlock(g);)x=g.nextSibling,c.appendChild(g),g=x;a.setStart(i,u),a.setEnd(i,u)}}return i},bC=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},L8=function(e,n){var a,i,u,c,v,m,g,x,T,P,B=e.dom,U=e.schema,V=U.getNonEmptyElements(),q=e.selection.getRng(),G=function(ht){var Xt=i,Kn,Tn,$t,ur=U.getTextInlineElements();if(ht||x==="TABLE"||x==="HR"?Kn=B.create(ht||T):Kn=c.cloneNode(!1),$t=Kn,Qm(e)===!1)B.setAttrib(Kn,"style",null),B.setAttrib(Kn,"class",null);else do if(ur[Xt.nodeName]){if(nc(Xt)||hu(Xt))continue;Tn=Xt.cloneNode(!1),B.setAttrib(Tn,"id",""),Kn.hasChildNodes()?(Tn.appendChild(Kn.firstChild),Kn.appendChild(Tn)):($t=Tn,Kn.appendChild(Tn))}while((Xt=Xt.parentNode)&&Xt!==de);return Bv(e,Kn),fm($t),Kn},ie=function(ht){var Xt,Kn,Tn=i0(ht,i,u);if(Mn(i)&&(ht?Tn>0:Tn<i.nodeValue.length))return!1;if(i.parentNode===c&&P&&!ht||ht&&gr(i)&&i===c.firstChild)return!0;if(pC(i,"TABLE")||pC(i,"HR"))return P&&!ht||!P&&ht;var $t=new da(i,c);for(Mn(i)&&(ht&&Tn===0?$t.prev():!ht&&Tn===i.nodeValue.length&&$t.next());Xt=$t.current();){if(gr(Xt)){if(!Xt.getAttribute("data-mce-bogus")&&(Kn=Xt.nodeName.toLowerCase(),V[Kn]&&Kn!=="br"))return!1}else if(Mn(Xt)&&!Ks(Xt.nodeValue))return!1;ht?$t.prev():$t.next()}return!0},re=function(){/^(H[1-6]|PRE|FIGURE)$/.test(x)&&We!=="HGROUP"?v=G(T):v=G(),mS(e)&&XT(B,g)&&B.isEmpty(c)?v=B.split(g,c):B.insertAfter(v,c),ch(e,v)};hg(B,q).each(function(ht){q.setStart(ht.startContainer,ht.startOffset),q.setEnd(ht.endContainer,ht.endOffset)}),i=q.startContainer,u=q.startOffset,T=Ai(e);var ge=!!(n&&n.shiftKey),Me=!!(n&&n.ctrlKey);gr(i)&&i.hasChildNodes()&&(P=u>i.childNodes.length-1,i=i.childNodes[Math.min(u,i.childNodes.length-1)]||i,P&&Mn(i)?u=i.nodeValue.length:u=0);var de=Cu(B,i);if(!!de){(T&&!ge||!T&&ge)&&(i=YT(e,T,q,i,u)),c=B.getParent(i,B.isBlock),g=c?B.getParent(c.parentNode,B.isBlock):null,x=c?c.nodeName.toUpperCase():"";var We=g?g.nodeName.toUpperCase():"";if(We==="LI"&&!Me&&(c=g,g=g.parentNode,x=We),/^(LI|DT|DD)$/.test(x)&&B.isEmpty(c)){hC(e,G,g,c,T);return}T&&c===e.getBody()||(T=T||"P",qa(c)?(v=q0(c),B.isEmpty(c)&&fm(c),Bv(e,v),ch(e,v)):ie()?re():ie(!0)?(v=c.parentNode.insertBefore(G(),c),ch(e,pC(c,"HR")?v:c)):(a=I8(q).cloneRange(),a.setEndAfter(c),m=a.extractContents(),KT(m),$8(m),v=m.firstChild,B.insertAfter(m,c),N8(B,V,v),bC(B,c),B.isEmpty(c)&&fm(c),v.normalize(),B.isEmpty(v)?(B.remove(v),re()):(Bv(e,v),ch(e,v))),B.setAttrib(v,"id",""),e.fire("NewBlock",{newBlock:v}))}},H8=function(e,n,a){for(var i=new da(n,a),u,c=e.getNonEmptyElements();u=i.next();)if(c[u.nodeName.toLowerCase()]||u.length>0)return!0},yC=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Id(e,i)},V8=function(e,n){var a=e.selection,i=e.dom,u=a.getRng(),c,v;hg(i,u).each(function(V){u.setStart(V.startContainer,V.startOffset),u.setEnd(V.endContainer,V.endOffset)});var m=u.startOffset,g=u.startContainer;if(g.nodeType===1&&g.hasChildNodes()){var x=m>g.childNodes.length-1;g=g.childNodes[Math.min(m,g.childNodes.length-1)]||g,x&&g.nodeType===3?m=g.nodeValue.length:m=0}var T=i.getParent(g,i.isBlock),P=T?i.getParent(T.parentNode,i.isBlock):null,B=P?P.nodeName.toUpperCase():"",U=!!(n&&n.ctrlKey);B==="LI"&&!U&&(T=P),g&&g.nodeType===3&&m>=g.nodeValue.length&&(H8(e.schema,g,T)||(c=i.create("br"),u.insertNode(c),u.setStartAfter(c),u.setEndAfter(c),v=!0)),c=i.create("br"),Ym(i,u,c),yC(e,c,v),e.undoManager.add()},U8=function(e,n){var a=k.fromTag("br");Xu(k.fromDom(n),a),e.undoManager.add()},W8=function(e,n){q8(e.getBody(),n)||Wl(k.fromDom(n),k.fromTag("br"));var a=k.fromTag("br");Wl(k.fromDom(n),a),yC(e,a.dom,!1),e.undoManager.add()},j8=function(e){return fa(e.getNode())},q8=function(e,n){return j8(gt.after(n))?!0:Es(e,gt.after(n)).map(function(a){return fa(a.getNode())}).getOr(!1)},ZT=function(e){return e&&e.nodeName==="A"&&"href"in e},G8=function(e){return e.fold(ft,ZT,ZT,ft)},K8=function(e){var n=Ie(Sf,e),a=gt.fromRangeStart(e.selection.getRng());return cc(n,e.getBody(),a).filter(G8)},X8=function(e,n){n.fold(Ee,Ie(U8,e),Ie(W8,e),Ee)},ii=function(e,n){var a=K8(e);a.isSome()?a.each(Ie(X8,e)):V8(e,n)},JT=function(e,n){return dC(e).filter(function(a){return n.length>0&&Cn(k.fromDom(a),n)}).isSome()},Y8=function(e){return JT(e,dS(e))},Z8=function(e){return JT(e,a_(e))},Wa=Xn.generate([{br:[]},{block:[]},{none:[]}]),J8=function(e,n){return Z8(e)},u0=function(e){return function(n,a){var i=Ai(n)==="";return i===e}},QT=function(e){return function(n,a){return lm(n)===e}},Fv=function(e,n){return function(a,i){var u=jT(a)===e.toUpperCase();return u===n}},s0=function(e){return Fv("pre",e)},Q8=function(){return Fv("summary",!0)},vm=function(e){return function(n,a){return r_(n)===e}},eR=function(e,n){return Y8(e)},vh=function(e,n){return n},eO=function(e){var n=Ai(e),a=B8(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},ls=function(e,n){return function(a,i){var u=ln(e,function(c,v){return c&&v(a,i)},!0);return u?z.some(n):z.none()}},tR=function(e,n){return lT([ls([J8],Wa.none()),ls([Q8()],Wa.br()),ls([s0(!0),vm(!1),vh],Wa.br()),ls([s0(!0),vm(!1)],Wa.block()),ls([s0(!0),vm(!0),vh],Wa.block()),ls([s0(!0),vm(!0)],Wa.br()),ls([QT(!0),vh],Wa.br()),ls([QT(!0)],Wa.block()),ls([u0(!0),vh,eO],Wa.block()),ls([u0(!0)],Wa.br()),ls([eR],Wa.br()),ls([u0(!1),vh],Wa.br()),ls([eO],Wa.block())],[e,!!(n&&n.shiftKey)]).getOr(Wa.none())},tO=function(e,n){tR(e,n).fold(function(){ii(e,n)},function(){L8(e,n)},Ee)},c0=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),Yd(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),tO(e,n)}))},nO=function(e){e.on("keydown",function(n){n.keyCode===ar.ENTER&&c0(e,n)})},nR=function(e,n,a){cm([{keyCode:ar.END,action:Wr(r0,e,!0)},{keyCode:ar.HOME,action:Wr(r0,e,!1)},{keyCode:ar.END,action:Wr(oC,e,!0)},{keyCode:ar.HOME,action:Wr(oC,e,!1)},{keyCode:ar.END,action:Wr(Z1,e,!0,n)},{keyCode:ar.HOME,action:Wr(Z1,e,!1,n)}],a).each(function(i){a.preventDefault()})},rR=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&nR(e,n,a)})},aR=Vn().browser,oR=function(e){var n=ga(function(){e.composing||Ur(e)},0);aR.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},iR=function(e){oR(e),e.on("input",function(n){n.isComposing===!1&&Ur(e)})},wC=Vn(),rO=function(e,n,a){cm([{keyCode:ar.PAGE_UP,action:Wr(Z1,e,!1,n)},{keyCode:ar.PAGE_DOWN,action:Wr(Z1,e,!0,n)}],a)},CC=function(e){return e.stopImmediatePropagation()},xC=function(e){return e.keyCode===ar.PAGE_UP||e.keyCode===ar.PAGE_DOWN},aO=function(e,n,a){a&&!e.get()?n.on("NodeChange",CC,!0):!a&&e.get()&&n.off("NodeChange",CC),e.set(a)},uR=function(e,n){if(!wC.os.isOSX()){var a=Ui(!1);e.on("keydown",function(i){xC(i)&&aO(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&rO(e,n,i),xC(i)&&a.get()&&(aO(a,e,!1),e.nodeChanged())})}},oO=function(e,n){var a=n.container(),i=n.offset();return Mn(a)?(a.insertData(i,e),z.some(gt(a,i+e.length))):rg(n).map(function(u){var c=k.fromText(e);return n.isAtEnd()?Wl(u,c):Xu(u,c),gt(c.dom,e.length)})},sR=Ie(oO,du),cR=Ie(oO," "),lR=function(e){return function(n){return n.fold(function(a){return Ts(e.dom,gt.before(a))},function(a){return uu(a)},function(a){return tc(a)},function(a){return Es(e.dom,gt.after(a))})}},iO=function(e,n){return function(a){return Yy(e,a)?sR(n):cR(n)}},fR=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},vR=function(e){var n=gt.fromRangeStart(e.selection.getRng()),a=k.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=Ie(Sf,e),u=gt.fromRangeStart(e.selection.getRng());return cc(i,e.getBody(),u).bind(lR(a)).bind(iO(a,n)).exists(fR(e))}else return!1},dR=function(e,n){cm([{keyCode:ar.SPACEBAR,action:Wr(vR,e)}],n).each(function(a){n.preventDefault()})},mR=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&dR(e,n)})},uO=function(e){var n=xT(e);return e8(e),A8(e,n),_8(e,n),nO(e),mR(e),iR(e),rR(e,n),uR(e,n),n},gR=function(e){return Bl(e)?Ui(null):uO(e)},hR=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(u){var c=n.selection.getRng(),v={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};(u.type==="nodechange"||!_p(v,a))&&n.fire("SelectionChange"),a=v}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var u=n.selection.getStart(!0);!u||!Jn.range&&n.selection.isCollapsed()||ov(n)&&!i.isSameElementPath(u)&&n.dom.isChildOf(u,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(u){!u.isDefaultPrevented()&&ov(n)&&(n.selection.getNode().nodeName==="IMG"?fi.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,u,c;this.editor.initialized&&a&&!E_(this.editor)&&!this.editor.mode.isReadOnly()&&(c=this.editor.getBody(),i=a.getStart(!0)||c,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,c))&&(i=c),u=[],this.editor.dom.getParent(i,function(v){if(v===c)return!0;u.push(v)}),n=n||{},n.element=i,n.parents=u,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),pR=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},bR=function(e){e.parser.addNodeFilter("details",function(n){ot(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){ot(n,function(a){var i=a.attr("data-mce-open");a.attr("open",yt(i)?i:null),a.attr("data-mce-open",null)})})},sO=function(e){pR(e),bR(e)},dh=function(e){return gr(e)&&gl(k.fromDom(e))},cO=function(e){var n=e.selection.getRng(),a=gt.fromRangeStart(n),i=gt.fromRangeEnd(n);if(gt.isElementPosition(a)){var u=a.container();dh(u)&&uu(u).each(function(c){return n.setStart(c.container(),c.offset())})}if(gt.isElementPosition(i)){var u=a.container();dh(u)&&tc(u).each(function(v){return n.setEnd(v.container(),v.offset())})}e.selection.setRng(f2(n))},lO=function(e){e.on("click",function(n){n.detail>=3&&cO(e)})},fO=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,u=a.defaultView;return{top:n.top+u.pageYOffset-i.clientTop,left:n.left+u.pageXOffset-i.clientLeft}},yR=function(e){return e.inline?fO(e.getBody()):{left:0,top:0}},SC=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},wR=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},u={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:u},CR=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=fO(e.getContentAreaContainer()),i=wR(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},xR=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},SR=function(e,n){return xR(yR(e),SC(e),CR(e,n))},xu=Pa,vO=ys,dO=function(e,n){return xu(n)&&n!==e},kR=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!xu(n)},ER=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},TR=function(e,n,a,i){var u=e.dom,c=n.cloneNode(!0);u.setStyles(c,{width:a,height:i}),u.setAttrib(c,"data-mce-selected",null);var v=u.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return u.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),u.setStyles(c,{margin:0,boxSizing:"border-box"}),v.appendChild(c),v},OR=function(e,n){e.parentNode!==n&&n.appendChild(e)},AR=function(e,n,a,i,u,c){var v=0,m=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>u&&(v=n.pageX+a-u),n.pageY+i>c&&(m=n.pageY+i-c),e.style.width=a-v+"px",e.style.height=i-m+"px"},mO=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},DR=function(e){return e.button===0},kC=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},_R=function(e,n){return function(a){if(DR(a)){var i=Fn(n.dom.getParents(a.target),HD(xu,vO)).getOr(null);if(dO(n.getBody(),i)){var u=n.dom.getPos(i),c=n.getBody(),v=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?c.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?c.scrollHeight:v.offsetHeight)-2,relX:a.pageX-u.x,relY:a.pageY-u.y,width:i.offsetWidth,height:i.offsetHeight,ghost:TR(n,i,i.offsetWidth,i.offsetHeight)})}}}},PR=function(e,n){var a=fi.throttle(function(i,u){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,u)},0);return n.on("remove",a.stop),function(i){return e.on(function(u){var c=Math.max(Math.abs(i.screenX-u.screenX),Math.abs(i.screenY-u.screenY));if(!u.dragging&&c>10){var v=n.fire("dragstart",{target:u.element});if(v.isDefaultPrevented())return;u.dragging=!0,n.focus()}if(u.dragging){var m=kC(u,SR(n,i));OR(u.ghost,n.getBody()),AR(u.ghost,m,u.width,u.height,u.maxX,u.maxY),a(i.clientX,i.clientY)}})}},gO=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},BR=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(kR(n,gO(n.selection),i.element)){var u=ER(i.element),c=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});c.isDefaultPrevented()||n.undoManager.transact(function(){mO(i.element),n.insertContent(n.dom.getOuterHTML(u)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),hO(e)}},FR=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),hO(e)}},hO=function(e){e.on(function(n){mO(n.ghost)}),e.clear()},MR=function(e){var n=tf(),a=Ea.DOM,i=document,u=_R(n,e),c=PR(n,e),v=BR(n,e),m=FR(n,e);e.on("mousedown",u),e.on("mousemove",c),e.on("mouseup",v),a.bind(i,"mousemove",c),a.bind(i,"mouseup",m),e.on("remove",function(){a.unbind(i,"mousemove",c),a.unbind(i,"mouseup",m)}),e.on("keydown",function(g){g.keyCode===ar.ESC&&m()})},RR=function(e){e.on("drop",function(n){var a=typeof n.clientX!="undefined"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(xu(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},NR=function(e){var n=function(u){if(!u.isDefaultPrevented()){var c=u.dataTransfer;c&&(De(c.types,"Files")||c.files.length>0)&&(u.preventDefault(),u.type==="drop"&&em(e,"Dropped file type is not supported"))}},a=function(u){Lp(e,u.target)&&n(u)},i=function(){var u=Ea.DOM,c=e.dom,v=document,m=e.inline?e.getBody():e.getDoc(),g=["drop","dragover"];ot(g,function(x){u.bind(v,x,a),c.bind(m,x,n)}),e.on("remove",function(){ot(g,function(x){u.unbind(v,x,a),c.unbind(m,x,n)})})};e.on("init",function(){fi.setEditorTimeout(e,i,0)})},EC=function(e){MR(e),RR(e),D_(e)&&NR(e)},IR=function(e){var n=ga(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=Jg(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},pO=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(tu(a)){var i=Fd(e.getBody(),a),u=Pa(i)?i:a;e.selection.getNode()!==u&&Tv(e,u).each(function(c){return e.selection.setRng(c)})}})})},bO=ys,Mv=Pa,l0=function(e,n){return Fd(e.getBody(),n)},$R=function(e){var n=e.selection,a=e.dom,i=a.isBlock,u=e.getBody(),c=L_(e,u,i,function(){return uv(e)}),v="sel-"+a.uniqueId(),m="data-mce-selected",g,x=function($t){return a.hasClass($t,"mce-offscreen-selection")},T=function($t){return $t!==u&&(Mv($t)||tu($t))&&a.isChildOf($t,u)},P=function($t){return hf($t)||pf($t)||Wd($t)||jd($t)},B=function(){var $t=a.get(v);return $t&&$t.getElementsByTagName("*")[0]},U=function($t){$t&&n.setRng($t)},V=n.getRng,q=function($t,ur,tn,kn){kn===void 0&&(kn=!0);var en=e.fire("ShowCaret",{target:ur,direction:$t,before:tn});return en.isDefaultPrevented()?null:(kn&&n.scrollIntoView(ur,$t===-1),c.show(tn,ur))},G=function($t){$t.hasAttribute("data-mce-caret")&&(q0($t),U(V()),n.scrollIntoView($t))},ie=function(){e.on("mouseup",function(en){var hn=V();hn.collapsed&&OE(e,en.clientX,en.clientY)&&N1(e,hn,!1).each(U)}),e.on("click",function(en){var hn=l0(e,en.target);hn&&(Mv(hn)&&(en.preventDefault(),e.focus()),bO(hn)&&a.isChildOf(hn,n.getNode())&&Xt())}),e.on("blur NewBlock",Xt),e.on("ResizeWindow FullscreenStateChanged",c.reposition);var $t=function(en){var hn=en.firstChild;if(St(hn))return!1;var Dn=gt.before(hn);if(fa(Dn.getNode())&&en.childNodes.length===1)return!P(Dn);var Lt=ec(en),_n=Lt.next(Dn);return _n&&!P(_n)},ur=function(en,hn){var Dn=a.getParent(en,i),Lt=a.getParent(hn,i);return Dn===Lt},tn=function(en,hn){var Dn=a.getParent(en,i),Lt=a.getParent(hn,i);return St(Dn)?!1:en!==Lt&&a.isChildOf(Dn,Lt)&&Mv(l0(e,Dn))===!1?!0:!a.isChildOf(Lt,Dn)&&!ur(Dn,Lt)&&$t(Dn)};e.on("tap",function(en){var hn=en.target,Dn=l0(e,hn);Mv(Dn)?(en.preventDefault(),Tv(e,Dn).each(ht)):T(hn)&&Tv(e,hn).each(ht)},!0),e.on("mousedown",function(en){var hn=en.target;if(!(hn!==u&&hn.nodeName!=="HTML"&&!a.isChildOf(hn,u))&&OE(e,en.clientX,en.clientY)!==!1){var Dn=l0(e,hn);if(Dn)Mv(Dn)?(en.preventDefault(),Tv(e,Dn).each(ht)):(Xt(),!(bO(Dn)&&en.shiftKey)&&!mg(en.clientX,en.clientY,n.getRng())&&(Tn(),n.placeCaretAt(en.clientX,en.clientY)));else if(T(hn))Tv(e,hn).each(ht);else if(Jf(hn)===!1){Xt(),Tn();var Lt=_M(u,en.clientX,en.clientY);if(Lt&&!tn(hn,Lt.node)){en.preventDefault();var _n=q(1,Lt.node,Lt.before,!1);U(_n),e.getBody().focus()}}}}),e.on("keypress",function(en){ar.modifierPressed(en)||Mv(n.getNode())&&en.preventDefault()}),e.on("GetSelectionRange",function(en){var hn=en.range;if(g){if(!g.parentNode){g=null;return}hn=hn.cloneRange(),hn.selectNode(g),en.range=hn}}),e.on("SetSelectionRange",function(en){en.range=Me(en.range);var hn=ht(en.range,en.forward);hn&&(en.range=hn)});var kn=function(en){return en.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(en){var hn=en.range,Dn=hn.startContainer.parentNode;!ge(hn)&&!kn(Dn)&&Tn(),x(Dn)||Xt()}),e.on("copy",function(en){var hn=en.clipboardData;if(!en.isDefaultPrevented()&&en.clipboardData&&!Jn.ie){var Dn=B();Dn&&(en.preventDefault(),hn.clearData(),hn.setData("text/html",Dn.outerHTML),hn.setData("text/plain",Dn.outerText||Dn.innerText))}}),EC(e),IR(e),pO(e)},re=function($t){return Qu($t)||Mh($t)||Rh($t)},ge=function($t){return re($t.startContainer)||re($t.endContainer)},Me=function($t){var ur=e.schema.getShortEndedElements(),tn=a.createRng(),kn=$t.startContainer,en=$t.startOffset,hn=$t.endContainer,Dn=$t.endOffset;return vr(ur,kn.nodeName.toLowerCase())?en===0?tn.setStartBefore(kn):tn.setStartAfter(kn):tn.setStart(kn,en),vr(ur,hn.nodeName.toLowerCase())?Dn===0?tn.setEndBefore(hn):tn.setEndAfter(hn):tn.setEnd(hn,Dn),tn},de=function($t,ur,tn){var kn=e.$,en=nd(k.fromDom(e.getBody()),"#"+v).fold(function(){return kn([])},function(Lt){return kn([Lt.dom])});en.length===0&&(en=kn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",v),en.appendTo(e.getBody()));var hn=a.createRng();ur===tn&&Jn.ie?(en.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(ur),hn.setStartAfter(en[0].firstChild.firstChild),hn.setEndAfter(ur)):(en.empty().append(du).append(ur).append(du),hn.setStart(en[0].firstChild,1),hn.setEnd(en[0].lastChild,0)),en.css({top:a.getPos($t,e.getBody()).y}),en[0].focus();var Dn=n.getSel();return Dn.removeAllRanges(),Dn.addRange(hn),hn},We=function($t){var ur=$t.cloneNode(!0),tn=e.fire("ObjectSelected",{target:$t,targetClone:ur});if(tn.isDefaultPrevented())return null;var kn=de($t,tn.targetClone,ur),en=k.fromDom($t);return ot(au(k.fromDom(e.getBody()),"*[data-mce-selected]"),function(hn){lr(en,hn)||wt(hn,m)}),a.getAttrib($t,m)||$t.setAttribute(m,"1"),g=$t,Tn(),kn},ht=function($t,ur){if(!$t)return null;if($t.collapsed){if(!ge($t)){var tn=ur?1:-1,kn=kd(tn,u,$t),en=kn.getNode(!ur);if(Jf(en))return q(tn,en,ur?!kn.isAtEnd():!1,!1);var hn=kn.getNode(ur);if(Jf(hn))return q(tn,hn,ur?!1:!kn.isAtEnd(),!1)}return null}var Dn=$t.startContainer,Lt=$t.startOffset,_n=$t.endOffset;if(Dn.nodeType===3&&Lt===0&&Mv(Dn.parentNode)&&(Dn=Dn.parentNode,Lt=a.nodeIndex(Dn),Dn=Dn.parentNode),Dn.nodeType!==1)return null;if(_n===Lt+1&&Dn===$t.endContainer){var wr=Dn.childNodes[Lt];if(T(wr))return We(wr)}return null},Xt=function(){g&&g.removeAttribute(m),nd(k.fromDom(e.getBody()),"#"+v).each(co),g=null},Kn=function(){c.destroy(),g=null},Tn=function(){c.hide()};return Jn.ceFalse&&!Bl(e)&&ie(),{showCaret:q,showBlockCaretContainer:G,hideFakeCaret:Tn,destroy:Kn}},No=function(e){var n=xt.each,a=ar.BACKSPACE,i=ar.DELETE,u=e.dom,c=e.selection,v=e.parser,m=Jn.gecko,g=Jn.ie,x=Jn.webkit,T="data:text/mce-internal,",P=g?"Text":"URL",B=function(Ht,ut){try{e.getDoc().execCommand(Ht,!1,ut)}catch(Gt){}},U=function(Ht){return Ht.isDefaultPrevented()},V=function(Ht){var ut,Gt;Ht.dataTransfer&&(e.selection.isCollapsed()&&Ht.target.tagName==="IMG"&&c.select(Ht.target),ut=e.selection.getContent(),ut.length>0&&(Gt=T+escape(e.id)+","+escape(ut),Ht.dataTransfer.setData(P,Gt)))},q=function(Ht){var ut;return Ht.dataTransfer&&(ut=Ht.dataTransfer.getData(P),ut&&ut.indexOf(T)>=0)?(ut=ut.substr(T.length).split(","),{id:unescape(ut[0]),html:unescape(ut[1])}):null},G=function(Ht,ut){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Ht,internal:ut}):e.execCommand("mceInsertContent",!1,Ht)},ie=function(){var Ht=function(Gt){var st=u.create("body"),In=Gt.cloneContents();return st.appendChild(In),c.serializer.serialize(st,{format:"html"})},ut=function(Gt){var st=Ht(Gt),In=u.createRng();In.selectNode(e.getBody());var mn=Ht(In);return st===mn};e.on("keydown",function(Gt){var st=Gt.keyCode,In,mn;if(!U(Gt)&&(st===i||st===a)){if(In=e.selection.isCollapsed(),mn=e.getBody(),In&&!u.isEmpty(mn)||!In&&!ut(e.selection.getRng()))return;Gt.preventDefault(),e.setContent(""),mn.firstChild&&u.isBlock(mn.firstChild)?e.selection.setCursorLocation(mn.firstChild,0):e.selection.setCursorLocation(mn,0),e.nodeChanged()}})},re=function(){e.shortcuts.add("meta+a",null,"SelectAll")},ge=function(){e.inline||u.bind(e.getDoc(),"mousedown mouseup",function(Ht){var ut;if(Ht.target===e.getDoc().documentElement)if(ut=c.getRng(),e.getBody().focus(),Ht.type==="mousedown"){if(Qu(ut.startContainer))return;c.placeCaretAt(Ht.clientX,Ht.clientY)}else c.setRng(ut)})},Me=function(){e.on("keydown",function(Ht){if(!U(Ht)&&Ht.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){var ut=c.getNode(),Gt=ut.previousSibling;if(ut.nodeName==="HR"){u.remove(ut),Ht.preventDefault();return}Gt&&Gt.nodeName&&Gt.nodeName.toLowerCase()==="hr"&&(u.remove(Gt),Ht.preventDefault())}}})},de=function(){Range.prototype.getClientRects||e.on("mousedown",function(Ht){if(!U(Ht)&&Ht.target.nodeName==="HTML"){var ut=e.getBody();ut.blur(),fi.setEditorTimeout(e,function(){ut.focus()})}})},We=function(){e.on("click",function(Ht){var ut=Ht.target;/^(IMG|HR)$/.test(ut.nodeName)&&u.getContentEditableParent(ut)!=="false"&&(Ht.preventDefault(),e.selection.select(ut),e.nodeChanged()),ut.nodeName==="A"&&u.hasClass(ut,"mce-item-anchor")&&(Ht.preventDefault(),c.select(ut))})},ht=function(){var Ht=function(){var Gt=u.getAttribs(c.getStart().cloneNode(!1));return function(){var st=c.getStart();st!==e.getBody()&&(u.setAttrib(st,"style",null),n(Gt,function(In){st.setAttributeNode(In.cloneNode(!0))}))}},ut=function(){return!c.isCollapsed()&&u.getParent(c.getStart(),u.isBlock)!==u.getParent(c.getEnd(),u.isBlock)};e.on("keypress",function(Gt){var st;if(!U(Gt)&&(Gt.keyCode===8||Gt.keyCode===46)&&ut())return st=Ht(),e.getDoc().execCommand("delete",!1,null),st(),Gt.preventDefault(),!1}),u.bind(e.getDoc(),"cut",function(Gt){var st;!U(Gt)&&ut()&&(st=Ht(),fi.setEditorTimeout(e,function(){st()}))})},Xt=function(){e.on("keydown",function(Ht){if(!U(Ht)&&Ht.keyCode===a&&c.isCollapsed()&&c.getRng().startOffset===0){var ut=c.getNode().previousSibling;if(ut&&ut.nodeName&&ut.nodeName.toLowerCase()==="table")return Ht.preventDefault(),!1}})},Kn=function(){e.on("keydown",function(Ht){var ut,Gt;if(!(U(Ht)||Ht.keyCode!==ar.BACKSPACE)){ut=c.getRng();var st=ut.startContainer,In=ut.startOffset,mn=u.getRoot();if(Gt=st,!(!ut.collapsed||In!==0)){for(;Gt&&Gt.parentNode&&Gt.parentNode.firstChild===Gt&&Gt.parentNode!==mn;)Gt=Gt.parentNode;Gt.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Gt),ut=u.createRng(),ut.setStart(st,0),ut.setEnd(st,0),c.setRng(ut))}}})},Tn=function(){var Ht=function(){B("StyleWithCSS",!1),B("enableInlineTableEditing",!1),Hb(e)||B("enableObjectResizing",!1)};T_(e)||e.on("BeforeExecCommand mousedown",Ht)},$t=function(){var Ht=function(){n(u.select("a"),function(ut){var Gt=ut.parentNode,st=u.getRoot();if(Gt.lastChild===ut){for(;Gt&&!u.isBlock(Gt);){if(Gt.parentNode.lastChild!==Gt||Gt===st)return;Gt=Gt.parentNode}u.add(Gt,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(ut){(ut.type==="setcontent"||ut.command==="mceInsertLink")&&Ht()})},ur=function(){Ai(e)&&e.on("init",function(){B("DefaultParagraphSeparator",Ai(e))})},tn=function(){e.on("keyup focusin mouseup",function(Ht){ar.modifierPressed(Ht)||c.normalize()},!0)},kn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},en=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},hn=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Ht){var ut;if(Ht.target.nodeName==="HTML"){if(Jn.ie>11){e.getBody().focus();return}ut=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ut),e.selection.normalize(),e.nodeChanged()}}))},Dn=function(){Jn.mac&&e.on("keydown",function(Ht){if(ar.metaKeyPressed(Ht)&&!Ht.shiftKey&&(Ht.keyCode===37||Ht.keyCode===39)){Ht.preventDefault();var ut=e.selection.getSel();ut.modify("move",Ht.keyCode===37?"backward":"forward","lineboundary")}})},Lt=function(){B("AutoUrlDetect",!1)},_n=function(){e.on("click",function(Ht){var ut=Ht.target;do if(ut.tagName==="A"){Ht.preventDefault();return}while(ut=ut.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},wr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Ht){Ht.preventDefault()})})},ra=function(){v.addNodeFilter("br",function(Ht){for(var ut=Ht.length;ut--;)Ht[ut].attr("class")==="Apple-interchange-newline"&&Ht[ut].remove()})},Hr=function(){e.on("dragstart",function(Ht){V(Ht)}),e.on("drop",function(Ht){if(!U(Ht)){var ut=q(Ht);if(ut&&ut.id!==e.id){Ht.preventDefault();var Gt=Ey(Ht.x,Ht.y,e.getDoc());c.setRng(Gt),G(ut.html,!0)}}})},ao=Ee,Ya=function(){if(!m||e.removed)return!1;var Ht=e.selection.getSel();return!Ht||!Ht.rangeCount||Ht.rangeCount===0},su=function(){x&&(ge(),We(),wr(),re(),Jn.iOS&&(en(),hn(),_n())),m&&(de(),Tn(),kn(),Dn())},Su=function(){Kn(),ie(),Jn.windowsPhone||tn(),x&&(ge(),We(),ur(),wr(),Xt(),ra(),Jn.iOS?(en(),hn(),_n()):re()),Jn.ie>=11&&(hn(),Xt()),Jn.ie&&(re(),Lt(),Hr()),m&&(Me(),de(),ht(),Tn(),$t(),kn(),Dn(),Xt())};return Bl(e)?su():Su(),{refreshContentEditable:ao,isHidden:Ya}},TC=Ea.DOM,zR=function(e,n){var a=k.fromDom(e.getBody()),i=cl($i(a)),u=k.fromTag("style");w(u,"type","text/css"),Yo(u,k.fromText(n)),Yo(i,u),e.on("remove",function(){co(u)})},LR=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},OC=function(e){return Pn(e,function(n){return we(n)===!1})},f0=function(e){var n=e.settings,a=e.editorUpload.blobCache;return OC({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:LR(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},HR=function(e){var n=e.settings;return Ln(Ln({},f0(e)),OC({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before,block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements}))},yO=function(e){var n=gw(f0(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var u=a.length,c,v,m=e.dom,g="data-mce-"+i;u--;)if(c=a[u],v=c.attr(i),v&&!c.attr(g)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;i==="style"?(v=m.serializeStyle(m.parseStyle(v),c.name),v.length||(v=null),c.attr(g,v),c.attr(i,v)):i==="tabindex"?(c.attr(g,v),c.attr(i,null)):c.attr(g,e.convertURL(v,i,c.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var u=a[i],c=u.attr("type")||"no/type";c.indexOf("mce-")!==0&&u.attr("type","mce-"+c)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var u=a[i];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode(u.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,u=e.schema.getNonEmptyElements();i--;){var c=a[i];c.isEmpty(u)&&c.getAll("br").length===0&&(c.append(new us("br",1)).shortEnded=!0)}}),n},VR=function(e){e.settings.auto_focus&&fi.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},UR=function(e){var n=e.dom.getRoot();!e.inline&&(!ov(e)||e.selection.getStart(!0)===n)&&uu(n).each(function(a){var i=a.getNode(),u=Bo(i)?uu(i).getOr(a):a;Jn.browser.isIE()?Ok(e,u.toRange()):e.selection.setRng(u.toRange())})},WR=function(e){e.bindPendingEventDelegates(),e.initialized=!0,$c(e),e.focus(!0),UR(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),VR(e)},wO=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},jR=function(e,n,a){var i=[new Uo(function(u,c){return wO(e).loadAll(n,u,c)})];return e.inline?i:i.concat([new Uo(function(u,c){return e.ui.styleSheetLoader.loadAll(a,u,c)})])},CO=function(e){var n=wO(e),a=yS(e),i=e.contentCSS,u=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},c=function(){e.removed?u():e.on("remove",u)};if(e.contentStyles.length>0){var v="";xt.each(e.contentStyles,function(g){v+=g+`\r
`}),e.dom.addStyle(v)}var m=Uo.all(jR(e,i,a)).then(c).catch(c);return e.settings.content_style&&zR(e,e.settings.content_style),m},qR=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();wy(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,TC.setAttrib(i,"spellcheck","false")),e.quirks=No(e),va(e);var u=wS(e);u!==void 0&&(i.dir=u),n.protect&&e.on("BeforeSetContent",function(c){xt.each(n.protect,function(v){c.content=c.content.replace(v,function(m){return"<!--mce:protected "+escape(m)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(c){e.composing=c.type==="compositionstart"})},GR=function(e){Bl(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},AC=function(e){e.removed!==!0&&(GR(e),WR(e))},DC=function(e,n){var a=e.settings,i=e.getElement(),u=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),!n&&!e.inline&&(u.open(),u.write(e.iframeHTML),u.close()),e.inline&&(TC.addClass(i,"mce-content-body"),e.contentDocument=u=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var c=e.getBody();c.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&TC.getStyle(c,"position",!0)==="static"&&(c.style.position="relative"),c.contentEditable=e.getParam("content_editable_state",!0)),c.disabled=!1,e.editorUpload=$E(e),e.schema=Ir(a),e.dom=Ea(u,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:pp(e),referrerPolicy:gS(e),onSetAttrib:function(g){e.fire("SetAttrib",g)}}),e.parser=yO(e),e.serializer=hE(HR(e),e),e.selection=cw(e.dom,e.getWin(),e.serializer,e),e.annotator=dg(e),e.formatter=HE(e),e.undoManager=Qa(e),e._nodeChangeDispatcher=new hR(e),e._selectionOverrides=$R(e),sm(e),sO(e),Bl(e)||lO(e);var v=gR(e);qM(e,v),YM(e),FF(e);var m=L4(e);qR(e),m.fold(function(){CO(e).then(function(){return AC(e)})},function(g){e.setProgressState(!0),CO(e).then(function(){g().then(function(x){e.setProgressState(!1),AC(e)},function(x){e.notificationManager.open({type:"error",text:String(x)}),AC(e)})})})},mh=Ea.DOM,KR=function(e,n){if(document.domain!==window.location.hostname&&Jn.browser.isIE()){var a=wv("mce");e[a]=function(){DC(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return mh.setAttrib(n,"src",i),!0}return!1},XR=function(e,n,a,i){var u=k.fromTag("iframe");return A(u,i),A(u,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),hd(u,"tox-edit-area__iframe"),u},xO=function(e){var n=QD(e)+"<html><head>";e_(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=t_(e),i=n_(e),u=e.translate(B_(e));return vS(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+vS(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+u+'">')+"<br></body></html>",n},YR=function(e,n){var a=e.translate("Rich Text Area"),i=XR(e.id,a,n.height,JD(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var u=KR(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=xO(e),mh.add(n.iframeContainer,i),u},ZR=function(e,n){var a=YR(e,n);n.editorContainer&&(mh.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=mh.isHidden(n.editorContainer)),e.getElement().style.display="none",mh.setAttrib(e.id,"aria-hidden","true"),a||DC(e)},SO=Ea.DOM,kO=function(e,n,a){var i=yu.get(a),u=yu.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=xt.trim(a),i&&xt.inArray(n,a)===-1){if(xt.each(yu.dependencies(a),function(v){kO(e,n,v)}),e.plugins[a])return;try{var c=new i(e,u,e.$);e.plugins[a]=c,c.init&&(c.init(e,u),n.push(a))}catch(v){PE(e,a,v)}}},_C=function(e){return e.replace(/^\-/,"")},JR=function(e){var n=[];xt.each(Wb(e).split(/[ ,]/),function(a){kO(e,n,_C(a))})},EO=function(e){var n=xt.trim(hp(e)),a=e.ui.registry.getAll().icons,i=Ln(Ln({},E1.get("default").icons),E1.get(n).icons);un(i,function(u,c){vr(a,c)||e.ui.registry.addIcon(c,u)})},TO=function(e){var n=yd(e);if(yt(n)){e.settings.theme=_C(n);var a=Hu.get(n);e.theme=new a(e,Hu.urls[n]),e.theme.init&&e.theme.init(e,Hu.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},OO=function(e){return e.theme.renderUI()},QR=function(e){var n=e.getElement(),a=yd(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},AO=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},e7=function(e){var n=SO.create("div");return SO.insertAfter(n,e),AO(n)},DO=function(e){var n=e.getElement();return e.inline?AO(null):e7(n)},t7=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,yt(yd(e))?OO(e):Ae(yd(e))?QR(e):DO(e)},n7=function(e,n){var a={show:z.from(n.show).getOr(Ee),hide:z.from(n.hide).getOr(Ee),disable:z.from(n.disable).getOr(Ee),isDisabled:z.from(n.isDisabled).getOr(ft),enable:function(){e.mode.isReadOnly()||z.from(n.enable).map(rt)}};e.ui=Ln(Ln({},e.ui),a)},PC=function(e){e.fire("ScriptsLoaded"),EO(e),TO(e),JR(e);var n=t7(e);n7(e,z.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,xw(e),e.inline?DC(e):ZR(e,a)},Rv=Ea.DOM,_O=function(e){return e.charAt(0)==="-"},PO=function(e,n){var a=hS(n),i=l_(n);if(Fr.hasCode(a)===!1&&a!=="en"){var u=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(u,Ee,void 0,function(){CF(n,u,a)})}},r7=function(e,n,a,i){var u=yd(n);if(yt(u)){if(!_O(u)&&!vr(Hu.urls,u)){var c=Vb(n);c?Hu.load(u,n.documentBaseURI.toAbsolute(c)):Hu.load(u,"themes/"+u+"/theme"+a+".js")}e.loadQueue(function(){Hu.waitFor(u,i)})}else i()},a7=function(e){return z.from(s_(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:z.none()}})},BO=function(e,n,a){return z.from(n).filter(function(i){return i.length>0&&!E1.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:z.some(i)}})},FO=function(e,n,a){var i=BO(n,"default",a),u=a7(n).orThunk(function(){return BO(n,hp(n),"")});ot(Dh([i,u]),function(c){e.add(c.url,Ee,void 0,function(){_E(n,c.url,c.name.getOrUndefined())})})},MO=function(e,n){xt.each(A_(e),function(a,i){yu.load(i,a,Ee,void 0,function(){A1(e,a,i)}),e.settings.plugins+=" "+i}),xt.each(Wb(e).split(/[ ,]/),function(a){if(a=xt.trim(a),a&&!yu.urls[a])if(_O(a)){a=a.substr(1,a.length);var i=yu.dependencies(a);xt.each(i,function(c){var v={prefix:"plugins/",resource:c,suffix:"/plugin"+n+".js"},m=yu.createUrl(v,c);yu.load(m.resource,m,Ee,void 0,function(){A1(e,m.prefix+m.resource+m.suffix,m.resource)})})}else{var u={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};yu.load(a,u,Ee,void 0,function(){A1(e,u.prefix+u.resource+u.suffix,a)})}})},o7=function(e,n){var a=xl.ScriptLoader;r7(a,e,n,function(){PO(a,e),FO(a,e,n),MO(e,n),a.loadQueue(function(){e.removed||PC(e)},e,function(){e.removed||PC(e)})})},i7=function(e,n){return qs.forElement(e,{contentCssCors:O_(n),referrerPolicy:gS(n)})},u7=function(e){var n=e.id;Fr.setCode(hS(e));var a=function(){Rv.unbind(window,"ready",a),e.render()};if(!Yl.Event.domLoaded){Rv.bind(window,"ready",a);return}if(!!e.getElement()&&!!Jn.contentEditable){var i=k.fromDom(e.getElement()),u=Gn(i);e.on("remove",function(){pt(i.dom.attributes,function(v){return wt(i,v.name)}),A(i,u)}),e.ui.styleSheetLoader=i7(i,e),Ub(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var c=e.getElement().form||Rv.getParent(n,"form");c&&(e.formElement=c,y_(e)&&!_u(e.getElement())&&(Rv.insertAfter(Rv.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(v){e.fire(v.type,v)},Rv.bind(c,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),w_(e)&&!c.submit.nodeType&&!c.submit.length&&!c._mceOldSubmit&&(c._mceOldSubmit=c.submit,c.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),c._mceOldSubmit(c)})),e.windowManager=Qd(e),e.notificationManager=bu(e),C_(e)&&e.on("GetContent",function(v){v.save&&(v.content=Rv.encode(v.content))}),x_(e)&&e.on("submit",function(){e.initialized&&e.save()}),S_(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),o7(e,e.suffix)}},s7=function(e,n){return Y4(e,n)},c7={"font-size":"size","font-family":"face"},l7=function(e,n,a){var i=function(c){return Ei(c,e).orThunk(function(){return na(c)==="font"?Cr(c7,e).bind(function(v){return J(c,v)}):z.none()})},u=function(c){return lr(k.fromDom(n),c)};return w2(k.fromDom(a),function(c){return i(c)},u)},f7=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},v7=function(e,n){return z.from(Ea.DOM.getStyle(n,e,!0))},RO=function(e){return function(n,a){return z.from(a).map(k.fromDom).filter(Ma).bind(function(i){return l7(e,n,i.dom).or(v7(e,i.dom))}).getOr("")}},d7=RO("font-size"),v0=Je(f7,RO("font-family")),NO=function(e){return uu(e.getBody()).map(function(n){var a=n.container();return Mn(a)?a.parentNode:a})},IO=function(e){return z.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?z.none():z.from(e.selection.getStart(!0))})},m7=function(e,n){return IO(e).orThunk(Ie(NO,e)).map(k.fromDom).filter(Ma).bind(n)},d0=function(e,n){return m7(e,$(z.some,n))},BC=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=o_(e),u=i_(e);return u?u[a-1]||n:i[a-1]||n}else return n}else return n},g7=function(e){var n=e.split(/\s*,\s*/);return Dt(n,function(a){return a.indexOf(" ")!==-1&&!(O(a,'"')||O(a,"'"))?"'"+a+"'":a}).join(",")},h7=function(e,n){var a=BC(e,n);e.formatter.toggle("fontname",{value:g7(a)}),e.nodeChanged()},p7=function(e){return d0(e,function(n){return v0(e.getBody(),n.dom)}).getOr("")},FC=function(e,n){e.formatter.toggle("fontsize",{value:BC(e,n)}),e.nodeChanged()},b7=function(e){return d0(e,function(n){return d7(e.getBody(),n.dom)}).getOr("")},MC=function(e){return d0(e,function(n){var a=k.fromDom(e.getBody()),i=w2(n,function(c){return Ei(c,"line-height")},Ie(lr,a)),u=function(){var c=parseFloat(Nr(n,"line-height")),v=parseFloat(Nr(n,"font-size"));return String(c/v)};return i.getOrThunk(u)}).getOr("")},y7=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},w7=function(e){if(typeof e!="string"){var n=xt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},C7=function(e,n){var a=w7(n);X4(e,a.content,a.details)},gh=xt.each,x7=xt.map,S7=xt.inArray,$O=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,u){var c,v=!1,m=this;if(!m.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!u||!u.skip_focus)?m.editor.focus():U5(m.editor)),u=m.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),u.isDefaultPrevented())return!1;var g=n.toLowerCase();if(c=m.commands.exec[g])return c(g,a,i),m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(gh(this.editor.plugins,function(x){if(x.execCommand&&x.execCommand(n,a,i))return m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),v=!0,!1}),v)return v;if(m.editor.theme&&m.editor.theme.execCommand&&m.editor.theme.execCommand(n,a,i))return m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{v=m.editor.getDoc().execCommand(n,a,i)}catch(x){}return v?(m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch(i){}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch(i){}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;gh(n,function(u,c){gh(c.toLowerCase().split(","),function(v){i.commands[a][v]=u})})},e.prototype.addCommand=function(n,a,i){var u=this;n=n.toLowerCase(),this.commands.exec[n]=function(c,v,m,g){return a.call(i||u.editor,v,m,g)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch(a){}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var u=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||u.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var u=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||u.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Ee,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(u,c,v){Q5(n,v)},"Cut,Copy,Paste":function(u){var c=n.getDoc(),v;try{a.execNativeCommand(u)}catch(g){v=!0}if(u==="paste"&&!c.queryCommandEnabled(u)&&(v=!0),v||!c.queryCommandSupported(u)){var m=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Jn.mac&&(m=m.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:m,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var u=n.dom.getParent(n.selection.getStart(),"a");u&&n.dom.remove(u,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(u){var c=u.substring(7);c==="full"&&(c="justify"),gh("left,center,right,justify".split(","),function(v){c!==v&&n.formatter.remove("align"+v)}),c!=="none"&&a.toggleFormat("align"+c)},"InsertUnorderedList,InsertOrderedList":function(u){var c;a.execNativeCommand(u);var v=n.dom.getParent(n.selection.getNode(),"ol,ul");v&&(c=v.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(c.nodeName)&&(a.storeSelection(),n.dom.split(c,v),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(u){a.toggleFormat(u)},"ForeColor,HiliteColor":function(u,c,v){a.toggleFormat(u,{value:v})},FontName:function(u,c,v){h7(n,v)},FontSize:function(u,c,v){FC(n,v)},LineHeight:function(u,c,v){y7(n,v)},Lang:function(u,c,v){a.toggleFormat(u,{value:v.code,customValue:v.customCode})},RemoveFormat:function(u){n.formatter.remove(u)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(u,c,v){return a.toggleFormat(v||"p")},mceCleanup:function(){var u=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(u)},mceRemoveNode:function(u,c,v){var m=v||n.selection.getNode();m!==n.getBody()&&(a.storeSelection(),n.dom.remove(m,!0),a.restoreSelection())},mceSelectNodeDepth:function(u,c,v){var m=0;n.dom.getParent(n.selection.getNode(),function(g){if(g.nodeType===1&&m++===v)return n.selection.select(g),!1},n.getBody())},mceSelectNode:function(u,c,v){n.selection.select(v)},mceInsertContent:function(u,c,v){C7(n,v)},mceInsertRawHTML:function(u,c,v){n.selection.setContent("tiny_mce_marker");var m=n.getContent();n.setContent(m.replace(/tiny_mce_marker/g,function(){return v}))},mceInsertNewLine:function(u,c,v){tO(n,v)},mceToggleFormat:function(u,c,v){a.toggleFormat(v)},mceSetContent:function(u,c,v){n.setContent(v)},"Indent,Outdent":function(u){e0(n,u)},mceRepaint:Ee,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(u,c,v){n.execCommand("mceInsertContent",!1,v.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(u,c,v){typeof v=="string"&&(v={href:v});var m=n.dom.getParent(n.selection.getNode(),"a");v.href=v.href.replace(/ /g,"%20"),(!m||!v.href)&&n.formatter.remove("link"),v.href&&n.formatter.apply("link",v,m)},selectAll:function(){var u=n.dom.getParent(n.selection.getStart(),ys);if(u){var c=n.dom.createRng();c.selectNodeContents(u),n.selection.setRng(c)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(u,c,v){return ii(n,v),!0}});var i=function(u){return function(){var c=n.selection,v=c.isCollapsed()?[n.dom.getParent(c.getNode(),n.dom.isBlock)]:c.getSelectedBlocks(),m=x7(v,function(g){return!!n.formatter.matchNode(g,u)});return S7(m,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(u){return a.isFormatMatch(u)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return TT(n)},"InsertUnorderedList,InsertOrderedList":function(u){var c=n.dom.getParent(n.selection.getNode(),"ul,ol");return c&&(u==="insertunorderedlist"&&c.tagName==="UL"||u==="insertorderedlist"&&c.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return p7(n)},this),a.addQueryValueHandler("FontSize",function(){return b7(n)},this),a.addQueryValueHandler("LineHeight",function(){return MC(n)},this)},e}(),Nv="data-mce-contenteditable",k7=function(e,n,a){Ob(e,n)&&a===!1?Tb(e,n):a&&hd(e,n)},Di=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch(i){}},Kc=function(e,n){e.dom.contentEditable=n?"true":"false"},E7=function(e){ot(au(e,'*[contenteditable="true"]'),function(n){w(n,Nv,"true"),Kc(n,!1)})},T7=function(e){ot(au(e,"*["+Nv+'="true"]'),function(n){wt(n,Nv),Kc(n,!0)})},O7=function(e){z.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},A7=function(e){e.selection.setRng(e.selection.getRng())},D7=function(e,n){var a=k.fromDom(e.getBody());k7(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),O7(e),e.readonly=!0,Kc(a,!1),E7(a)):(e.readonly=!1,Kc(a,!0),T7(a),Di(e,"StyleWithCSS",!1),Di(e,"enableInlineTableEditing",!1),Di(e,"enableObjectResizing",!1),J5(e)&&e.focus(),A7(e),e.nodeChanged())},Iv=function(e){return e.readonly},RC=function(e){e.parser.addAttributeFilter("contenteditable",function(n){Iv(e)&&ot(n,function(a){a.attr(Nv,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Nv,function(n){Iv(e)&&ot(n,function(a){a.attr("contenteditable",a.attr(Nv))})}),e.serializer.addTempAttr(Nv)},dm=function(e){e.serializer?RC(e):e.on("PreInit",function(){RC(e)})},_7=function(e){return e.type==="click"},P7=function(e,n){var a=function(i){return lr(i,k.fromDom(e.getBody()))};return lo(n,"a",a).bind(function(i){return J(i,"href")})},B7=function(e,n){if(_7(n)&&!ar.metaKeyPressed(n)){var a=k.fromDom(n.target);P7(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var u=e.dom.select(i+',[name="'+Ze(i,"#")+'"]');u.length&&e.selection.scrollIntoView(u[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},fc=function(e){e.on("ShowCaret",function(n){Iv(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){Iv(e)&&n.preventDefault()})},F7=xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),NC=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ft}return e.isNative=function(n){return!!F7[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),u=Ex(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(u);var c=this.bindings[i];if(c)for(var v=0,m=c.length;v<m;v++){var g=c[v];if(!g.removed){if(g.once&&this.off(i,g.func),u.isImmediatePropagationStopped())return u;if(g.func.call(this.scope,u)===!1)return u.preventDefault(),u}}return u},e.prototype.on=function(n,a,i,u){if(a===!1&&(a=ft),a){var c={func:a,removed:!1};u&&xt.extend(c,u);for(var v=n.toLowerCase().split(" "),m=v.length;m--;){var g=v[m],x=this.bindings[g];x||(x=[],this.toggleEvent(g,!0)),i?x=to([c],x,!0):x=to(to([],x,!0),[c],!1),this.bindings[g]=x}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var u=n.toLowerCase().split(" "),c=u.length;c--;){var v=u[c],m=this.bindings[v];if(!v)return un(this.bindings,function(x,T){i.toggleEvent(T,!1),delete i.bindings[T]}),this;if(m){if(!a)m.length=0;else{var g=$n(m,function(x){return x.func===a});m=g.fail,this.bindings[v]=m,ot(g.pass,function(x){x.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[v])}}else un(this.bindings,function(x,T){i.toggleEvent(T,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),mm=function(e){return e._eventDispatcher||(e._eventDispatcher=new NC({scope:e,toggleEvent:function(n,a){NC.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},m0={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var u=mm(i).fire(e,n);if(a!==!1&&i.parent)for(var c=i.parent();c&&!u.isPropagationStopped();)c.fire(e,u,!1),c=c.parent();return u},on:function(e,n,a){return mm(this).on(e,n,a)},off:function(e,n){return mm(this).off(e,n)},once:function(e,n){return mm(this).once(e,n)},hasEventListeners:function(e){return mm(this).has(e)}},hh=Ea.DOM,Af,gm=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=CS(e);return a?(e.eventRoot||(e.eventRoot=hh.select(a)[0]),e.eventRoot):e.getBody()},M7=function(e){return!e.hidden&&!Iv(e)},zO=function(e,n,a){M7(e)?e.fire(n,a):Iv(e)&&B7(e,a)},LO=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=gm(e,n);if(CS(e)){if(Af||(Af={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Af&&(un(Af,function(u,c){e.dom.unbind(gm(e,c))}),Af=null)})),Af[n])return;a=function(u){for(var c=u.target,v=e.editorManager.get(),m=v.length;m--;){var g=v[m].getBody();(g===c||hh.isChildOf(c,g))&&zO(v[m],n,u)}},Af[n]=a,hh.bind(i,n,a)}else a=function(u){zO(e,n,u)},hh.bind(i,n,a),e.delegates[n]=a}},HO=Ln(Ln({},m0),{bindPendingEventDelegates:function(){var e=this;xt.each(e._pendingNativeEvents,function(n){LO(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?LO(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(gm(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(un(e.delegates,function(i,u){e.dom.unbind(gm(e,u),u,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),R7=["design","readonly"],IC=function(e,n,a,i){var u=a[n.get()],c=a[i];try{c.activate()}catch(v){console.error("problem while activating editor mode "+i+":",v);return}u.deactivate(),u.editorReadOnly!==c.editorReadOnly&&D7(e,c.editorReadOnly),n.set(i),ok(e,i)},VO=function(e,n,a,i){if(i!==a.get()){if(!vr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?IC(e,a,n,i):e.on("init",function(){return IC(e,a,n,i)})}},N7=function(e,n,a){var i;if(De(R7,n))throw new Error("Cannot override default mode "+n);return Ln(Ln({},e),(i={},i[n]=Ln(Ln({},a),{deactivate:function(){try{a.deactivate()}catch(u){console.error("problem while deactivating editor mode "+n+":",u)}}}),i))},UO=function(e){var n=Ui("design"),a=Ui({design:{activate:Ee,deactivate:Ee,editorReadOnly:!1},readonly:{activate:Ee,deactivate:Ee,editorReadOnly:!0}});return dm(e),fc(e),{isReadOnly:function(){return Iv(e)},set:function(i){return VO(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,u){a.set(N7(a.get(),i,u))}}},$C=xt.each,zC=xt.explode,I7={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},WO=xt.makeMap("alt,ctrl,shift,meta,access"),jO=function(e){var n,a={};$C(zC(e.toLowerCase(),"+"),function(u){u in WO?a[u]=!0:/^[0-9]{2,}$/.test(u)?a.keyCode=parseInt(u,10):(a.charCode=u.charCodeAt(0),a.keyCode=I7[u]||u.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in WO)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Jn.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Jn.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},g0=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&($C(a.shortcuts,function(u){if(a.matchShortcut(i,u))return a.pendingPatterns=u.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(u),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,u){var c=this,v=c.normalizeCommandFunc(i);return $C(zC(xt.trim(n)),function(m){var g=c.createShortcut(m,a,v,u);c.shortcuts[g.id]=g}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:xt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,u){var c=xt.map(zC(n,">"),jO);return c[c.length-1]=xt.extend(c[c.length-1],{func:i,scope:u||this.editor}),xt.extend(c[0],{desc:this.editor.translate(a),subpatterns:c.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),qO=function(){var e={},n={},a={},i={},u={},c={},v={},m=function(x,T){return function(P,B){return x[P.toLowerCase()]=Ln(Ln({},B),{type:T})}},g=function(x,T){return i[x.toLowerCase()]=T};return{addButton:m(e,"button"),addGroupToolbarButton:m(e,"grouptoolbarbutton"),addToggleButton:m(e,"togglebutton"),addMenuButton:m(e,"menubutton"),addSplitButton:m(e,"splitbutton"),addMenuItem:m(n,"menuitem"),addNestedMenuItem:m(n,"nestedmenuitem"),addToggleMenuItem:m(n,"togglemenuitem"),addAutocompleter:m(a,"autocompleter"),addContextMenu:m(u,"contextmenu"),addContextToolbar:m(c,"contexttoolbar"),addContextForm:m(c,"contextform"),addSidebar:m(v,"sidebar"),addIcon:g,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:u,contextToolbars:c,sidebars:v}}}},$7=function(){var e=qO();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},$v=Ea.DOM,h0=xt.extend,GO=xt.each,KO=xt.resolve,z7=Jn.ie,p0=function(){function e(n,a,i){var u=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,h0(this,HO),this.settings=vF(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(xl.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ea.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Xa.languageLoad=this.settings.language_load,Xa.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new Al(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new g0(this),this.editorCommands=new $O(this),this.settings.cache_suffix&&(Jn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:$7(),styleSheetLoader:void 0,show:Ee,hide:Ee,enable:Ee,disable:Ee,isDisabled:ft};var c=this,v=UO(c);this.mode=v,this.setMode=v.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Er.overrideDefaults(function(){return{context:u.inline?u.getBody():u.getDoc(),element:u.getBody()}})}return e.prototype.render=function(){u7(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return uv(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var u=this,c=u.settings[n],v;if(!!c)return u.callbackLookup&&(v=u.callbackLookup[n])&&(c=v.func,v=v.scope),typeof c=="string"&&(v=c.replace(/\.\w+$/,""),v=v?KO(v):0,c=KO(c),u.callbackLookup=u.callbackLookup||{},u.callbackLookup[n]={func:c,scope:v}),c.apply(v||u,a)},e.prototype.translate=function(n){return Fr.translate(n)},e.prototype.getParam=function(n,a,i){return dF(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=De(Wb(this).split(/[ ,]/),n);return i?a?yu.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,u){this.shortcuts.add(n,a,i,u)},e.prototype.execCommand=function(n,a,i,u){return this.editorCommands.execCommand(n,a,i,u)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":($v.show(n.getContainer()),$v.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(z7&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):($v.hide(n.getContainer()),$v.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),u;if(a.removed)return"";if(i){n=n||{},n.load=!0;var c=_u(i)?i.value:i.innerHTML;return u=a.setContent(c,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,u}},e.prototype.save=function(n){var a=this,i=a.getElement(),u,c;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,u=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),u=n.content,_u(i)?i.value=u:((n.is_removing||!a.inline)&&(i.innerHTML=u),(c=$v.getParent(a.id,"form"))&&GO(c.elements,function(v){if(v.name===a.id)return v.value=u,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),u},e.prototype.setContent=function(n,a){return hw(this,n,a)},e.prototype.getContent=function(n){return j6(this,n)},e.prototype.insertContent=function(n,a){a&&(n=h0({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?hw(this,this.startContent,{format:"raw"}):hw(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=$v.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=$v.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var u=this,c=u.settings;return c.urlconverter_callback?u.execCallback("urlconverter_callback",n,i,!0,a):!c.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:c.relative_urls?u.documentBaseURI.toRelative(n):(n=u.documentBaseURI.toAbsolute(n,c.remove_script_host),n)},e.prototype.addVisual=function(n){s7(this,n)},e.prototype.remove=function(){X6(this)},e.prototype.destroy=function(n){jg(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Fs=Ea.DOM,L7=xt.explode,Xc=xt.each,H7=xt.extend,V7=0,XO=!1,Ko,Yc=[],go=[],YO=function(e){return e!=="length"},LC=function(e){var n=e.type;Xc(Nl.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},ZO=function(e){e!==XO&&(e?Er(window).on("resize scroll",LC):Er(window).off("resize scroll",LC),XO=e)},b0=function(e){var n=go;delete Yc[e.id];for(var a=0;a<Yc.length;a++)if(Yc[a]===e){Yc.splice(a,1);break}return go=le(go,function(i){return e!==i}),Nl.activeEditor===e&&(Nl.activeEditor=go.length>0?go[0]:null),Nl.focusedEditor===e&&(Nl.focusedEditor=null),n.length!==go.length},HC=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(b0(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},JO=document.compatMode!=="CSS1Compat",Nl=Ln(Ln({},m0),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Er,majorVersion:"5",minorVersion:"10.3",releaseDate:"2022-02-09",editors:Yc,i18n:Fr,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=Al.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var u=window.tinymce||window.tinyMCEPreInit;if(u)n=u.base||u.baseURL,i=u.suffix;else{for(var c=document.getElementsByTagName("script"),v=0;v<c.length;v++){var m=c[v].src||"";if(m!==""){var g=m.substring(m.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(m)){g.indexOf(".min")!==-1&&(i=".min"),n=m.substring(0,m.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var m=document.currentScript.src;m.indexOf(".min")!==-1&&(i=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new Al(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new Al(e.baseURL),e.suffix=i,Bk(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&un(i,function(u,c){Xa.PluginManager.urls[c]=u})},init:function(e){var n=this,a,i=xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),u=function(P,B){return P.inline&&B.tagName.toLowerCase()in i},c=function(P){var B=P.id;return B||(B=Cr(P,"name").filter(function(U){return!Fs.get(U)}).getOrThunk(Fs.uniqueId),P.setAttribute("id",B)),B},v=function(P){var B=e[P];if(!!B)return B.apply(n,[])},m=function(P,B){return B.constructor===RegExp?B.test(P.className):Fs.hasClass(P,B)},g=function(P){var B=[];if(Jn.browser.isIE()&&Jn.browser.version.major<11)return D1("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(JO)return D1("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(P.types)return Xc(P.types,function(V){B=B.concat(Fs.select(V.selector))}),B;if(P.selector)return Fs.select(P.selector);if(P.target)return[P.target];switch(P.mode){case"exact":var U=P.elements||"";U.length>0&&Xc(L7(U),function(V){var q=Fs.get(V);q?B.push(q):Xc(document.forms,function(G){Xc(G.elements,function(ie){ie.name===V&&(V="mce_editor_"+V7++,Fs.setAttrib(ie,"id",V),B.push(ie))})})});break;case"textareas":case"specific_textareas":Xc(Fs.select("textarea"),function(V){P.editor_deselector&&m(V,P.editor_deselector)||(!P.editor_selector||m(V,P.editor_selector))&&B.push(V)});break}return B},x=function(P){a=P},T=function(){var P=0,B=[],U,V=function(q,G,ie){var re=new p0(q,G,n);B.push(re),re.on("init",function(){++P===U.length&&x(B)}),re.targetElm=re.targetElm||ie,re.render()};if(Fs.unbind(window,"ready",T),v("onpageload"),U=Er.unique(g(e)),e.types){Xc(e.types,function(q){xt.each(U,function(G){return Fs.is(G,q.selector)?(V(c(G),H7({},e,q),G),!1):!0})});return}xt.each(U,function(q){HC(n.get(q.id))}),U=xt.grep(U,function(q){return!n.get(q.id)}),U.length===0?x([]):Xc(U,function(q){u(e,q)?D1("Could not initialize inline editor on invalid inline target element",q):V(c(q),e,q)})};return n.settings=e,Fs.bind(window,"ready",T),new Uo(function(P){a?P(a):x=function(B){P(B)}})},get:function(e){return arguments.length===0?go.slice(0):yt(e)?Fn(go,function(n){return n.id===e}).getOr(null):Ue(e)&&go[e]?go[e]:null},add:function(e){var n=this,a=Yc[e.id];return a===e||(n.get(e.id)===null&&(YO(e.id)&&(Yc[e.id]=e),Yc.push(e),go.push(e)),ZO(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),Ko||(Ko=function(i){var u=n.fire("BeforeUnload");if(u.returnValue)return i.preventDefault(),i.returnValue=u.returnValue,u.returnValue},window.addEventListener("beforeunload",Ko))),e},createEditor:function(e,n){return this.add(new p0(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=go.length-1;a>=0;a--)n.remove(go[a]);return}if(yt(e)){Xc(Fs.select(e),function(u){i=n.get(u.id),i&&n.remove(i)});return}return i=e,I(n.get(i.id))?null:(b0(i)&&n.fire("RemoveEditor",{editor:i}),go.length===0&&window.removeEventListener("beforeunload",Ko),i.remove(),ZO(go.length>0),i)},execCommand:function(e,n,a){var i=this,u=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new p0(a,i.settings,i).render(),!0;case"mceRemoveEditor":return u&&u.remove(),!0;case"mceToggleEditor":return u?(u.isHidden()?u.show():u.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Xc(go,function(e){e.save()})},addI18n:function(e,n){Fr.add(e,n)},translate:function(e){return Fr.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Al(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Al(this.baseURL)}});Nl.setup();var QO=Math.min,hm=Math.max,y0=Math.round,eA=function(e,n,a){var i=n.x,u=n.y,c=e.w,v=e.h,m=n.w,g=n.h,x=(a||"").split("");return x[0]==="b"&&(u+=g),x[1]==="r"&&(i+=m),x[0]==="c"&&(u+=y0(g/2)),x[1]==="c"&&(i+=y0(m/2)),x[3]==="b"&&(u-=v),x[4]==="r"&&(i-=c),x[3]==="c"&&(u-=y0(v/2)),x[4]==="c"&&(i-=y0(c/2)),pm(i,u,c,v)},U7=function(e,n,a,i){var u,c;for(c=0;c<i.length;c++)if(u=eA(e,n,i[c]),u.x>=a.x&&u.x+u.w<=a.w+a.x&&u.y>=a.y&&u.y+u.h<=a.h+a.y)return i[c];return null},tA=function(e,n,a){return pm(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},W7=function(e,n){var a=hm(e.x,n.x),i=hm(e.y,n.y),u=QO(e.x+e.w,n.x+n.w),c=QO(e.y+e.h,n.y+n.h);return u-a<0||c-i<0?null:pm(a,i,u-a,c-i)},j7=function(e,n,a){var i=e.x,u=e.y,c=e.x+e.w,v=e.y+e.h,m=n.x+n.w,g=n.y+n.h,x=hm(0,n.x-i),T=hm(0,n.y-u),P=hm(0,c-m),B=hm(0,v-g);return i+=x,u+=T,a&&(c+=x,v+=T,i-=P,u-=B),c-=P,v-=B,pm(i,u,c-i,v-u)},pm=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},q7=function(e){return pm(e.left,e.top,e.width,e.height)},G7={inflate:tA,relativePosition:eA,findBestRelativePosition:U7,intersect:W7,clamp:j7,create:pm,fromClientRect:q7},K7=function(e,n,a){a===void 0&&(a=1e3);var i=!1,u=null,c=function(x){return function(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];i||(i=!0,u!==null&&(clearTimeout(u),u=null),x.apply(null,T))}},v=c(e),m=c(n),g=function(){for(var x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];!i&&u===null&&(u=setTimeout(function(){return m.apply(null,x)},a))};return{start:g,resolve:v,reject:m}},nA=function(){var e={},n={},a=function(u,c){var v='Script at URL "'+c+'" failed to load',m='Script at URL "'+c+"\" did not call `tinymce.Resource.add('"+u+"', data)` within 1 second";if(e[u]!==void 0)return e[u];var g=new Uo(function(x,T){var P=K7(x,T);n[u]=P.resolve,xl.ScriptLoader.loadScript(c,function(){return P.start(m)},function(){return P.reject(v)})});return e[u]=g,g},i=function(u,c){n[u]!==void 0&&(n[u](c),delete n[u]),e[u]=Uo.resolve(c)};return{load:a,add:i}},X7=nA(),w0=xt.each,Y7=xt.extend,C0,zv,Il=function(){};Il.extend=C0=function(e){var n=this,a=n.prototype,i=function(){var m,g,x,T=this;if(!zv&&(T.init&&T.init.apply(T,arguments),g=T.Mixins,g))for(m=g.length;m--;)x=g[m],x.init&&x.init.apply(T,arguments)},u=function(){return this},c=function(m,g){return function(){var x=this,T=x._super;x._super=a[m];var P=g.apply(x,arguments);return x._super=T,P}};zv=!0;var v=new n;return zv=!1,e.Mixins&&(w0(e.Mixins,function(m){for(var g in m)g!=="init"&&(e[g]=m[g])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&w0(e.Methods.split(","),function(m){e[m]=u}),e.Properties&&w0(e.Properties.split(","),function(m){var g="_"+m;e[m]=function(x){var T=this;return x!==void 0?(T[g]=x,T):T[g]}}),e.Statics&&w0(e.Statics,function(m,g){i[g]=m}),e.Defaults&&a.Defaults&&(e.Defaults=Y7({},a.Defaults,e.Defaults)),un(e,function(m,g){typeof m=="function"&&a[g]?v[g]=c(g,m):v[g]=m}),i.prototype=v,i.constructor=i,i.extend=C0,i};var $l=Math.min,bm=Math.max,zl=Math.round,rA=function(e){var n={},a=0,i=0,u=0,c=function(P,B,U){var V,q,G;V=0,q=0,G=0,P=P/255,B=B/255,U=U/255;var ie=$l(P,$l(B,U)),re=bm(P,bm(B,U));if(ie===re)return G=ie,{h:0,s:0,v:G*100};var ge=P===ie?B-U:U===ie?P-B:U-P;return V=P===ie?3:U===ie?1:5,V=60*(V-ge/(re-ie)),q=(re-ie)/re,G=re,{h:zl(V),s:zl(q*100),v:zl(G*100)}},v=function(P,B,U){if(P=(parseInt(P,10)||0)%360,B=parseInt(B,10)/100,U=parseInt(U,10)/100,B=bm(0,$l(B,1)),U=bm(0,$l(U,1)),B===0){a=i=u=zl(255*U);return}var V=P/60,q=U*B,G=q*(1-Math.abs(V%2-1)),ie=U-q;switch(Math.floor(V)){case 0:a=q,i=G,u=0;break;case 1:a=G,i=q,u=0;break;case 2:a=0,i=q,u=G;break;case 3:a=0,i=G,u=q;break;case 4:a=G,i=0,u=q;break;case 5:a=q,i=0,u=G;break;default:a=i=u=0}a=zl(255*(a+ie)),i=zl(255*(i+ie)),u=zl(255*(u+ie))},m=function(){var P=function(B){return B=parseInt(B,10).toString(16),B.length>1?B:"0"+B};return"#"+P(a)+P(i)+P(u)},g=function(){return{r:a,g:i,b:u}},x=function(){return c(a,i,u)},T=function(P){var B;return typeof P=="object"?"r"in P?(a=P.r,i=P.g,u=P.b):"v"in P&&v(P.h,P.s,P.v):(B=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(P))?(a=parseInt(B[1],10),i=parseInt(B[2],10),u=parseInt(B[3],10)):(B=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(P))?(a=parseInt(B[1],16),i=parseInt(B[2],16),u=parseInt(B[3],16)):(B=/#([0-F])([0-F])([0-F])/gi.exec(P))&&(a=parseInt(B[1]+B[1],16),i=parseInt(B[2]+B[2],16),u=parseInt(B[3]+B[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,u=u<0?0:u>255?255:u,n};return e&&T(e),n.toRgb=g,n.toHsv=x,n.toHex=m,n.parse=T,n},aA=function(e){var n=JSON.stringify(e);return yt(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},VC={serialize:aA,parse:function(e){try{return JSON.parse(e)}catch(n){}}},oA={callbacks:{},count:0,send:function(e){var n=this,a=Ea.DOM,i=e.count!==void 0?e.count:n.count,u="tinymce_jsonp_"+i;n.callbacks[i]=function(c){a.remove(u),delete n.callbacks[i],e.callback(c)},a.add(a.doc.body,"script",{id:u,src:e.url,type:"text/javascript"}),n.count++}},ph=Ln(Ln({},m0),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):fi.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",ph.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&xt.each(e.requestheaders,function(u){n.setRequestHeader(u.key,u.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=ph.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();fi.setTimeout(i,10)}}),iA=xt.extend,Z7=function(){function e(n){this.settings=iA({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,u=iA(this.settings,n);u.success=function(c,v){c=VC.parse(c),typeof c=="undefined"&&(c={error:"JSON Parse error."}),c.error?a.call(u.error_scope||u.scope,c.error,v):i.call(u.success_scope||u.scope,c.result)},u.error=function(c,v){a&&a.call(u.error_scope||u.scope,c,v)},u.data=VC.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),u.content_type="application/json",ph.send(u)},e}(),J7=function(){return function(){var e={},n=[],a={getItem:function(i){var u=e[i];return u||null},setItem:function(i,u){n.push(i),e[i]=String(u)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(u){return u===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},bh;try{var UC="__storage_test__";bh=window.localStorage,bh.setItem(UC,UC),bh.removeItem(UC)}catch(e){bh=J7()}var Q7=bh,uA={geom:{Rect:G7},util:{Promise:Uo,Delay:fi,Tools:xt,VK:ar,URI:Al,Class:Il,EventDispatcher:NC,Observable:m0,I18n:Fr,XHR:ph,JSON:VC,JSONRequest:Z7,JSONP:oA,LocalStorage:Q7,Color:rA,ImageUploader:NE},dom:{EventUtils:Yl,Sizzle:ma,DomQuery:Er,TreeWalker:da,TextSeeker:ip,DOMUtils:Ea,ScriptLoader:xl,RangeUtils:pg,Serializer:hE,StyleSheetLoader:gx,ControlSelection:sk,BookmarkManager:iv,Selection:cw,Event:Yl.Event},html:{Styles:pl,Entities:Xs,Node:us,Schema:Ir,SaxParser:qp,DomParser:gw,Writer:Yk,Serializer:Ud},Env:Jn,AddOnManager:Xa,Annotator:dg,Formatter:HE,UndoManager:Qa,EditorCommands:$O,WindowManager:Qd,NotificationManager:bu,EditorObservable:HO,Shortcuts:g0,Editor:p0,FocusManager:Fy,EditorManager:Nl,DOM:Ea.DOM,ScriptLoader:xl.ScriptLoader,PluginManager:yu,ThemeManager:Hu,IconManager:E1,Resource:X7,trim:xt.trim,isArray:xt.isArray,is:xt.is,toArray:xt.toArray,makeMap:xt.makeMap,each:xt.each,map:xt.map,grep:xt.grep,inArray:xt.inArray,extend:xt.extend,create:xt.create,walk:xt.walk,createNS:xt.createNS,resolve:xt.resolve,explode:xt.explode,_addCacheSuffix:xt._addCacheSuffix,isOpera:Jn.opera,isWebKit:Jn.webkit,isIE:Jn.ie,isGecko:Jn.gecko,isMac:Jn.mac},WC=xt.extend(Nl,uA),eN=function(e){try{Y.exports=e}catch(n){}},tN=function(e){window.tinymce=e,window.tinyMCE=e};tN(WC),eN(WC)})()})(Fz);var nI=Fz.exports;(function(){var Y=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},D=function(t){return function(r){return Y(r)===t}},X=function(t){return function(r){return typeof r===t}},oe=function(t){return function(r){return t===r}},ue=D("string"),Pe=D("object"),at=D("array"),ct=oe(null),He=X("boolean"),Ft=oe(void 0),Te=function(t){return t==null},se=function(t){return!Te(t)},Re=X("function"),Be=X("number"),Xe=function(t,r){if(at(t)){for(var o=0,s=t.length;o<s;++o)if(!r(t[o]))return!1;return!0}return!1},ve=function(){},yt=function(t){return function(){return t()}},Qe=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(r.apply(null,o))}},Vt=function(t,r){return function(o){return t(r(o))}},I=function(t){return function(){return t}},je=function(t){return t},we=function(t,r){return t===r};function St(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var f=r.concat(s);return t.apply(null,f)}}var et=function(t){return function(r){return!t(r)}},Ae=function(t){return function(){throw new Error(t)}},Ue=I(!1),Ee=I(!0),Je=tinymce.util.Tools.resolve("tinymce.ThemeManager"),$=function(){return $=Object.assign||function(r){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(r[f]=o[f])}return r},$.apply(this,arguments)};function ae(t,r){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(o[s[l]]=t[s[l]]);return o}function Oe(t,r,o){if(o||arguments.length===2)for(var s=0,l=r.length,f;s<l;s++)(f||!(s in r))&&(f||(f=Array.prototype.slice.call(r,0,s)),f[s]=r[s]);return t.concat(f||Array.prototype.slice.call(r))}var Kt=function(){return Ie},Ie=function(){var t=function(s){return s()},r=je,o={fold:function(s,l){return s()},isSome:Ue,isNone:Ee,getOr:r,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:I(null),getOrUndefined:I(void 0),or:r,orThunk:t,map:Kt,each:ve,bind:Kt,exists:Ue,forall:Ee,filter:function(){return Kt()},toArray:function(){return[]},toString:I("none()")};return o}(),cn=function(t){var r=I(t),o=function(){return l},s=function(f){return f(t)},l={fold:function(f,d){return d(t)},isSome:Ee,isNone:Ue,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(f){return cn(f(t))},each:function(f){f(t)},bind:s,exists:s,forall:s,filter:function(f){return f(t)?l:Ie},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return l},an=function(t){return t==null?Ie:cn(t)},C={some:cn,none:Kt,from:an},rt=Array.prototype.slice,ft=Array.prototype.indexOf,jt=Array.prototype.push,ze=function(t,r){return ft.call(t,r)},Yt=function(t,r){var o=ze(t,r);return o===-1?C.none():C.some(o)},Zt=function(t,r){return ze(t,r)>-1},Qt=function(t,r){for(var o=0,s=t.length;o<s;o++){var l=t[o];if(r(l,o))return!0}return!1},z=function(t,r){for(var o=[],s=0;s<t;s++)o.push(r(s));return o},Wn=function(t,r){for(var o=[],s=0;s<t.length;s+=r){var l=rt.call(t,s,s+r);o.push(l)}return o},dt=function(t,r){for(var o=t.length,s=new Array(o),l=0;l<o;l++){var f=t[l];s[l]=r(f,l)}return s},Fe=function(t,r){for(var o=0,s=t.length;o<s;o++){var l=t[o];r(l,o)}},vn=function(t,r){for(var o=t.length-1;o>=0;o--){var s=t[o];r(s,o)}},Ne=function(t,r){for(var o=[],s=[],l=0,f=t.length;l<f;l++){var d=t[l],h=r(d,l)?o:s;h.push(d)}return{pass:o,fail:s}},De=function(t,r){for(var o=[],s=0,l=t.length;s<l;s++){var f=t[s];r(f,s)&&o.push(f)}return o},nt=function(t,r,o){return vn(t,function(s,l){o=r(o,s,l)}),o},Dt=function(t,r,o){return Fe(t,function(s,l){o=r(o,s,l)}),o},ot=function(t,r,o){for(var s=0,l=t.length;s<l;s++){var f=t[s];if(r(f,s))return C.some(f);if(o(f,s))break}return C.none()},pt=function(t,r){return ot(t,r,Ue)},$n=function(t,r){for(var o=0,s=t.length;o<s;o++){var l=t[o];if(r(l,o))return C.some(o)}return C.none()},le=function(t){for(var r=[],o=0,s=t.length;o<s;++o){if(!at(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);jt.apply(r,t[o])}return r},vt=function(t,r){return le(dt(t,r))},ln=function(t,r){for(var o=0,s=t.length;o<s;++o){var l=t[o];if(r(l,o)!==!0)return!1}return!0},En=function(t){var r=rt.call(t,0);return r.reverse(),r},Fn=function(t,r){return De(t,function(o){return!Zt(r,o)})},jn=function(t,r){for(var o={},s=0,l=t.length;s<l;s++){var f=t[s];o[String(f)]=r(f,s)}return o},Sr=function(t){return[t]},Rr=function(t,r){var o=rt.call(t,0);return o.sort(r),o},qr=function(t,r){return r>=0&&r<t.length?C.some(t[r]):C.none()},_t=function(t){return qr(t,0)},Pt=function(t){return qr(t,t.length-1)},Mt=Re(Array.from)?Array.from:function(t){return rt.call(t)},Le=function(t,r){for(var o=0;o<t.length;o++){var s=r(t[o],o);if(s.isSome())return s}return C.none()},Ye=Object.keys,Wt=Object.hasOwnProperty,dn=function(t,r){for(var o=Ye(t),s=0,l=o.length;s<l;s++){var f=o[s],d=t[f];r(d,f)}},Jt=function(t,r){return ke(t,function(o,s){return{k:s,v:r(o,s)}})},ke=function(t,r){var o={};return dn(t,function(s,l){var f=r(s,l);o[f.k]=f.v}),o},Rt=function(t){return function(r,o){t[o]=r}},bn=function(t,r,o,s){var l={};return dn(t,function(f,d){(r(f,d)?o:s)(f,d)}),l},un=function(t,r){var o={};return bn(t,r,Rt(o),ve),o},Nn=function(t,r){var o=[];return dn(t,function(s,l){o.push(r(s,l))}),o},fe=function(t,r){for(var o=Ye(t),s=0,l=o.length;s<l;s++){var f=o[s],d=t[f];if(r(d,f,t))return C.some(d)}return C.none()},Ct=function(t){return Nn(t,je)},it=function(t,r){return Ut(t,r)?C.from(t[r]):C.none()},Ut=function(t,r){return Wt.call(t,r)},Pn=function(t,r){return Ut(t,r)&&t[r]!==void 0&&t[r]!==null},sr=function(t,r,o){return o===void 0&&(o=we),t.exists(function(s){return o(s,r)})},oa=function(t,r,o){return o===void 0&&(o=we),sa(t,r,o).getOr(t.isNone()&&r.isNone())},Cr=function(t){for(var r=[],o=function(l){r.push(l)},s=0;s<t.length;s++)t[s].each(o);return r},vr=function(t){for(var r=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())r.push(s.getOrDie());else return C.none()}return C.some(r)},sa=function(t,r,o){return t.isSome()&&r.isSome()?C.some(o(t.getOrDie(),r.getOrDie())):C.none()},bo=function(t,r,o,s){return t.isSome()&&r.isSome()&&o.isSome()?C.some(s(t.getOrDie(),r.getOrDie(),o.getOrDie())):C.none()},Ba=function(t,r){return t!=null?C.some(r(t)):C.none()},wa=function(t,r){return t?C.some(r):C.none()},La=function(t,r){return t+r},ko=function(t,r){return t.substring(r)},Ha=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},Fa=function(t,r){return uo(t,r)?ko(t,r.length):t},io=function(t,r){return Ln(t,r)?t:La(t,r)},Br=function(t,r){return t.indexOf(r)!==-1},uo=function(t,r){return Ha(t,r,0)},Ln=function(t,r){return Ha(t,r,t.length-r.length)},bi=function(t){return function(r){return r.replace(t,"")}},to=bi(/^\s+|\s+$/g),zo=function(t){return t.length>0},yi=function(t){return!zo(t)},Lo=function(t){return t.style!==void 0&&Re(t.style.getPropertyValue)},wi=function(t,r){var o=r||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Z(s.childNodes[0])},Ci=function(t,r){var o=r||document,s=o.createElement(t);return Z(s)},Ji=function(t,r){var o=r||document,s=o.createTextNode(t);return Z(s)},Z=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},xe=function(t,r,o){return C.from(t.dom.elementFromPoint(r,o)).map(Z)},Q={fromHtml:wi,fromTag:Ci,fromText:Ji,fromDom:Z,fromPoint:xe};typeof window!="undefined"||Function("return this;")();var Ge=9,sn=11,On=1,j=3,ne=function(t){var r=t.dom.nodeName;return r.toLowerCase()},Ze=function(t){return t.dom.nodeType},kt=function(t){return function(r){return Ze(r)===t}},O=kt(On),H=kt(j),te=kt(Ge),be=kt(sn),Ve=function(t){var r=!1,o;return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return r||(r=!0,o=t.apply(null,s)),o}},qe=function(t,r,o,s){var l=t.isiOS()&&/ipad/i.test(o)===!0,f=t.isiOS()&&!l,d=t.isiOS()||t.isAndroid(),h=d||s("(pointer:coarse)"),p=l||!f&&d&&s("(min-device-width:768px)"),y=f||d&&!p,S=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,E=!y&&!p&&!S;return{isiPad:I(l),isiPhone:I(f),isTablet:I(p),isPhone:I(y),isTouch:I(h),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:I(S),isDesktop:I(E)}},on=function(t,r){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(r))return s}},Sn=function(t,r){var o=on(t,r);if(!o)return{major:0,minor:0};var s=function(l){return Number(r.replace(o,"$"+l))};return ir(s(1),s(2))},Zn=function(t,r){var o=String(r).toLowerCase();return t.length===0?or():Sn(t,o)},or=function(){return ir(0,0)},ir=function(t,r){return{major:t,minor:r}},hr={nu:ir,detect:Zn,unknown:or},Zr=function(t,r){return Le(r.brands,function(o){var s=o.brand.toLowerCase();return pt(t,function(l){var f;return s===((f=l.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(l){return{current:l.name,version:hr.nu(parseInt(o.version,10),0)}})})},Va=function(t,r){var o=String(r).toLowerCase();return pt(t,function(s){return s.search(o)})},ui=function(t,r){return Va(t,r).map(function(o){var s=hr.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Qi=function(t,r){return Va(t,r).map(function(o){var s=hr.detect(o.versionRegexes,r);return{current:o.name,version:s}})},Mi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ua=function(t){return function(r){return Br(r,t)}},gs=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Br(t,"edge/")&&Br(t,"chrome")&&Br(t,"safari")&&Br(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mi],search:function(t){return Br(t,"chrome")&&!Br(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Br(t,"msie")||Br(t,"trident")}},{name:"Opera",versionRegexes:[Mi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ua("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ua("firefox")},{name:"Safari",versionRegexes:[Mi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Br(t,"safari")||Br(t,"mobile/"))&&Br(t,"applewebkit")}}],ku=[{name:"Windows",search:Ua("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Br(t,"iphone")||Br(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ua("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ua("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ua("linux"),versionRegexes:[]},{name:"Solaris",search:Ua("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ua("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ua("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xi={browsers:I(gs),oses:I(ku)},yo="Edge",hs="Chrome",cu="IE",ps="Opera",$s="Firefox",lu="Safari",Ri=function(){return zs({current:void 0,version:hr.unknown()})},zs=function(t){var r=t.current,o=t.version,s=function(l){return function(){return r===l}};return{current:r,version:o,isEdge:s(yo),isChrome:s(hs),isIE:s(cu),isOpera:s(ps),isFirefox:s($s),isSafari:s(lu)}},Gu={unknown:Ri,nu:zs,edge:I(yo),chrome:I(hs),ie:I(cu),opera:I(ps),firefox:I($s),safari:I(lu)},bs="Windows",N="iOS",me="Android",$e="Linux",Tt="OSX",rn="Solaris",Vn="FreeBSD",Xr="ChromeOS",ta=function(){return Tr({current:void 0,version:hr.unknown()})},Tr=function(t){var r=t.current,o=t.version,s=function(l){return function(){return r===l}};return{current:r,version:o,isWindows:s(bs),isiOS:s(N),isAndroid:s(me),isOSX:s(Tt),isLinux:s($e),isSolaris:s(rn),isFreeBSD:s(Vn),isChromeOS:s(Xr)}},ca={unknown:ta,nu:Tr,windows:I(bs),ios:I(N),android:I(me),linux:I($e),osx:I(Tt),solaris:I(rn),freebsd:I(Vn),chromeos:I(Xr)},Da=function(t,r,o){var s=xi.browsers(),l=xi.oses(),f=r.bind(function(p){return Zr(s,p)}).orThunk(function(){return ui(s,t)}).fold(Gu.unknown,Gu.nu),d=Qi(l,t).fold(ca.unknown,ca.nu),h=qe(d,f,t,o);return{browser:f,os:d,deviceType:h}},fu={detect:Da},hc=function(t){return window.matchMedia(t).matches},pc=Ve(function(){return fu.detect(navigator.userAgent,C.from(navigator.userAgentData),hc)}),Jn=function(){return pc()},Eu=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},tl=function(t,r){return Eu(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},eu=function(t,r){var o=t.dom;if(o.nodeType!==On)return!1;var s=o;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},nl=function(t){return t.nodeType!==On&&t.nodeType!==Ge&&t.nodeType!==sn||t.childElementCount===0},_f=function(t,r){var o=r===void 0?document:r.dom;return nl(o)?[]:dt(o.querySelectorAll(t),Q.fromDom)},Hl=function(t,r){var o=r===void 0?document:r.dom;return nl(o)?C.none():C.from(o.querySelector(t)).map(Q.fromDom)},_a=function(t,r){return t.dom===r.dom},Ls=function(t,r){var o=t.dom,s=r.dom;return o===s?!1:o.contains(s)},Pf=function(t,r){return tl(t.dom,r.dom)},Ni=function(t,r){return Jn().browser.isIE()?Pf(t,r):Ls(t,r)},si=function(t){return Q.fromDom(t.dom.ownerDocument)},bc=function(t){return te(t)?t:si(t)},xt=function(t){return Q.fromDom(bc(t).dom.documentElement)},Hs=function(t){return Q.fromDom(bc(t).dom.defaultView)},Eo=function(t){return C.from(t.dom.parentNode).map(Q.fromDom)},rl=function(t){return Eo(t)},Ku=function(t){return C.from(t.dom.offsetParent).map(Q.fromDom)},Vs=function(t){return C.from(t.dom.nextSibling).map(Q.fromDom)},k=function(t){return dt(t.dom.childNodes,Q.fromDom)},b=function(t,r){var o=t.dom.childNodes;return C.from(o[r]).map(Q.fromDom)},_=function(t){return b(t,0)},L=function(t,r){return{element:t,offset:r}},ce=function(t,r){var o=k(t);return o.length>0&&r<o.length?L(o[r],0):L(t,r)},Ke=function(t){return be(t)&&se(t.dom.host)},qt=Re(Element.prototype.attachShadow)&&Re(Node.prototype.getRootNode),qn=I(qt),cr=qt?function(t){return Q.fromDom(t.dom.getRootNode())}:bc,Cn=function(t){return Ke(t)?t:Q.fromDom(bc(t).dom.body)},Hn=function(t){return xr(t).isSome()},xr=function(t){var r=cr(t);return Ke(r)?C.some(r):C.none()},Pr=function(t){return Q.fromDom(t.dom.host)},lr=function(t){if(qn()&&se(t.target)){var r=Q.fromDom(t.target);if(O(r)&&Ca(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return _t(o)}}return C.from(t.target)},Ca=function(t){return se(t.dom.shadowRoot)},pr=function(t){var r=H(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return xr(Q.fromDom(r)).fold(function(){return o.body.contains(r)},Vt(pr,Pr))},ia=function(){return na(Q.fromDom(document))},na=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return Q.fromDom(r)},ci=function(t,r,o){if(ue(o)||He(o)||Be(o))t.setAttribute(r,o+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Dr=function(t,r,o){ci(t.dom,r,o)},Vv=function(t,r){var o=t.dom;dn(r,function(s,l){ci(o,l,s)})},Ma=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},so=function(t,r){return C.from(Ma(t,r))},Eh=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},Ho=function(t,r){t.dom.removeAttribute(r)},xm=function(t,r,o){if(!ue(o))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Lo(t)&&t.style.setProperty(r,o)},Uv=function(t,r){Lo(t)&&t.style.removeProperty(r)},mr=function(t,r,o){var s=t.dom;xm(s,r,o)},Us=function(t,r){var o=t.dom;dn(r,function(s,l){xm(o,l,s)})},yc=function(t,r){var o=t.dom;dn(r,function(s,l){s.fold(function(){Uv(o,l)},function(f){xm(o,l,f)})})},no=function(t,r){var o=t.dom,s=window.getComputedStyle(o),l=s.getPropertyValue(r);return l===""&&!pr(t)?Th(o,r):l},Th=function(t,r){return Lo(t)?t.style.getPropertyValue(r):""},Vo=function(t,r){var o=t.dom,s=Th(o,r);return C.from(s).filter(function(l){return l.length>0})},al=function(t){var r={},o=t.dom;if(Lo(o))for(var s=0;s<o.style.length;s++){var l=o.style.item(s);r[l]=o.style[l]}return r},Vl=function(t,r,o){var s=Q.fromTag(t);mr(s,r,o);var l=Vo(s,r);return l.isSome()},la=function(t,r){var o=t.dom;Uv(o,r),sr(so(t,"style").map(to),"")&&Ho(t,"style")},ol=function(t){return t.dom.offsetWidth},Ii=function(t,r){var o=function(h,p){if(!Be(p)&&!p.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+p);var y=h.dom;Lo(y)&&(y.style[t]=p+"px")},s=function(h){var p=r(h);if(p<=0||p===null){var y=no(h,t);return parseFloat(y)||0}return p},l=s,f=function(h,p){return Dt(p,function(y,S){var E=no(h,S),F=E===void 0?0:parseInt(E,10);return isNaN(F)?y:y+F},0)},d=function(h,p,y){var S=f(h,y),E=p>S?p-S:0;return E};return{set:o,get:s,getOuter:l,aggregate:f,max:d}},il=Ii("height",function(t){var r=t.dom;return pr(t)?r.getBoundingClientRect().height:r.offsetHeight}),To=function(t){return il.get(t)},Tu=function(t){return il.getOuter(t)},Oh=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=il.max(t,r,o);mr(t,"max-height",s+"px")},ul=function(t,r){var o=function(s,l){return ul(t+s,r+l)};return{left:t,top:r,translate:o}},pa=ul,Ul=function(t){var r=t.getBoundingClientRect();return pa(r.left,r.top)},sl=function(t,r){return t!==void 0?t:r!==void 0?r:0},$i=function(t){var r=t.dom.ownerDocument,o=r.body,s=r.defaultView,l=r.documentElement;if(o===t.dom)return pa(o.offsetLeft,o.offsetTop);var f=sl(s==null?void 0:s.pageYOffset,l.scrollTop),d=sl(s==null?void 0:s.pageXOffset,l.scrollLeft),h=sl(l.clientTop,o.clientTop),p=sl(l.clientLeft,o.clientLeft);return cl(t).translate(d-p,f-h)},cl=function(t){var r=t.dom,o=r.ownerDocument,s=o.body;return s===r?pa(s.offsetLeft,s.offsetTop):pr(t)?Ul(r):pa(0,0)},Wv=Ii("width",function(t){return t.dom.offsetWidth}),Ah=function(t,r){return Wv.set(t,r)},Si=function(t){return Wv.get(t)},wc=function(t){return Wv.getOuter(t)},Xu=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Wv.max(t,r,o);mr(t,"max-width",s+"px")},Wl=function(t,r,o,s,l,f,d){return{target:t,x:r,y:o,stop:s,prevent:l,kill:f,raw:d}},Sm=function(t){var r=Q.fromDom(lr(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},l=Qe(s,o);return Wl(r,t.clientX,t.clientY,o,s,l,t)},Yo=function(t,r){return function(o){t(o)&&r(Sm(o))}},jv=function(t,r,o,s,l){var f=Yo(o,s);return t.dom.addEventListener(r,f,l),{unbind:St(km,t,r,f,l)}},_0=function(t,r,o,s){return jv(t,r,o,s,!1)},qv=function(t,r,o,s){return jv(t,r,o,s,!0)},km=function(t,r,o,s){t.dom.removeEventListener(r,o,s)},co=function(t,r){var o=Eo(t);o.each(function(s){s.dom.insertBefore(r.dom,t.dom)})},Gv=function(t,r){var o=Vs(t);o.fold(function(){var s=Eo(t);s.each(function(l){li(l,r)})},function(s){co(s,r)})},Bf=function(t,r){var o=_(t);o.fold(function(){li(t,r)},function(s){t.dom.insertBefore(r.dom,s.dom)})},li=function(t,r){t.dom.appendChild(r.dom)},ll=function(t,r,o){b(t,o).fold(function(){li(t,r)},function(s){co(s,r)})},P0=function(t,r){Fe(r,function(o){co(t,o)})},fl=function(t,r){Fe(r,function(o){li(t,o)})},Kv=function(t){t.dom.textContent="",Fe(k(t),function(r){Ou(r)})},Ou=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Em=function(t){var r=k(t);r.length>0&&P0(t,r),Ou(t)},Au=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return pa(o,s)},Xv=function(t,r,o){var s=o!==void 0?o.dom:document,l=s.defaultView;l&&l.scrollTo(t,r)},B0=function(t){var r=t===void 0?window:t;return Jn().browser.isFirefox()?C.none():C.from(r.visualViewport)},Tm=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Ff=function(t){var r=t===void 0?window:t,o=r.document,s=Au(Q.fromDom(o));return B0(r).fold(function(){var l=r.document.documentElement,f=l.clientWidth,d=l.clientHeight;return Tm(s.left,s.top,f,d)},function(l){return Tm(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height)})},jl=function(t,r){var o=t.view(r);return o.fold(I([]),function(s){var l=t.owner(s),f=jl(t,l);return[s].concat(f)})},Yv=function(t,r){var o=r.owner(t),s=jl(r,o);return C.some(s)},gr=function(t){var r,o=t.dom===document?C.none():C.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(Q.fromDom)},Du=function(t){return si(t)},Zv=Object.freeze({__proto__:null,view:gr,owner:Du}),Jv=function(t){var r=Q.fromDom(document),o=Au(r),s=Yv(t,Zv);return s.fold(St($i,t),function(l){var f=cl(t),d=nt(l,function(h,p){var y=cl(p);return{left:h.left+y.left,top:h.top+y.top}},{left:0,top:0});return pa(d.left+f.left+o.left,d.top+f.top+o.top)})},F0=function(t,r,o){return{point:t,width:r,height:o}},vl=function(t,r,o,s){return{x:t,y:r,width:o,height:s}},Po=function(t,r,o,s){return{x:t,y:r,width:o,height:s,right:t+o,bottom:r+s}},Bo=function(t){var r=$i(t),o=wc(t),s=Tu(t);return Po(r.left,r.top,o,s)},Cc=function(t){var r=Jv(t),o=wc(t),s=Tu(t);return Po(r.left,r.top,o,s)},_u=function(){return Ff(window)},Mn=function(t){var r=function(E){return Mn(t)},o=function(E){return Mn(t)},s=function(E){return Mn(E(t))},l=function(E){return Mn(t)},f=function(E){E(t)},d=function(E){return E(t)},h=function(E,F){return F(t)},p=function(E){return E(t)},y=function(E){return E(t)},S=function(){return C.some(t)};return{isValue:Ee,isError:Ue,getOr:I(t),getOrThunk:I(t),getOrDie:I(t),or:r,orThunk:o,fold:h,map:s,mapError:l,each:f,bind:d,exists:p,forall:y,toOptional:S}},dl=function(t){var r=function(y){return y()},o=function(){return Ae(String(t))()},s=je,l=function(y){return y()},f=function(y){return dl(t)},d=function(y){return dl(y(t))},h=function(y){return dl(t)},p=function(y,S){return y(t)};return{isValue:Ue,isError:Ee,getOr:je,getOrThunk:r,getOrDie:o,or:s,orThunk:l,fold:p,map:f,mapError:d,each:ve,bind:h,exists:Ue,forall:Ee,toOptional:C.none}},Om=function(t,r){return t.fold(function(){return dl(r)},Mn)},Or={value:Mn,error:dl,fromOption:Om},fa;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(fa||(fa={}));var Am=function(t,r,o){return t.stype===fa.Error?r(t.serror):o(t.svalue)},ys=function(t){var r=[],o=[];return Fe(t,function(s){Am(s,function(l){return o.push(l)},function(l){return r.push(l)})}),{values:r,errors:o}},Pa=function(t,r){return t.stype===fa.Error?{stype:fa.Error,serror:r(t.serror)}:t},Qv=function(t,r){return t.stype===fa.Value?{stype:fa.Value,svalue:r(t.svalue)}:t},tu=function(t,r){return t.stype===fa.Value?r(t.svalue):t},Mf=function(t,r){return t.stype===fa.Error?r(t.serror):t},Dh=function(t){return{stype:fa.Value,svalue:t}},ki=function(t){return{stype:fa.Error,serror:t}},M0=function(t){return Am(t,Or.error,Or.value)},R0=function(t){return t.fold(ki,Dh)},Ra={fromResult:R0,toResult:M0,svalue:Dh,partition:ys,serror:ki,bind:tu,bindError:Mf,map:Qv,mapError:Pa,fold:Am},Dm=function(t,r,o,s){return{tag:"field",key:t,newKey:r,presence:o,prop:s}},w=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},A=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},M=function(t,r){return r},J=function(t,r){var o=Pe(t)&&Pe(r);return o?wt(t,r):r},_e=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},l=0;l<r.length;l++){var f=r[l];for(var d in f)Ut(f,d)&&(s[d]=t(s[d],f[d]))}return s}},wt=_e(J),Gn=_e(M),br=function(){return{tag:"required",process:{}}},Gr=function(t){return{tag:"defaultedThunk",process:t}},Nr=function(t){return Gr(I(t))},Sa=function(){return{tag:"option",process:{}}},Ei=function(t){return{tag:"mergeWithThunk",process:t}},_h=function(t){return Ei(I(t))},$A=function(t,r){return t.length>0?Ra.svalue(wt(r,Gn.apply(void 0,t))):Ra.svalue(r)},ux=function(t){return Qe(Ra.serror,le)(t)},sx=function(t,r){var o=Ra.partition(t);return o.errors.length>0?ux(o.errors):$A(o.values,r)},zA=function(t){var r=Ra.partition(t);return r.errors.length>0?ux(r.errors):Ra.svalue(r.values)},N0={consolidateObj:sx,consolidateArr:zA},I0=function(t){return Pe(t)&&Ye(t).length>100?" removed due to size":JSON.stringify(t,null,2)},cx=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:I("... (only showing first ten failures)")}]):t;return dt(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},ed=function(t,r){return Ra.serror([{path:t,getErrorInfo:r}])},$0=function(t,r,o){return ed(t,function(){return'Could not find valid *required* value for "'+r+'" in '+I0(o)})},z0=function(t,r){return ed(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},LA=function(t,r,o){return ed(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+I0(r)})},HA=function(t,r){return ed(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},VA=function(t,r){return ed(t,I(r))},Ws=function(t){var r=function(s,l){return Ra.bindError(t(l),function(f){return VA(s,f)})},o=I("val");return{extract:r,toString:o}},lx=Ws(Ra.svalue),UA=function(t,r,o,s){return it(r,o).fold(function(){return $0(t,o,r)},s)},L0=function(t,r,o,s){var l=it(t,r).getOrThunk(function(){return o(t)});return s(l)},WA=function(t,r,o){return o(it(t,r))},jA=function(t,r,o,s){var l=it(t,r).map(function(f){return f===!0?o(t):f});return s(l)},td=function(t,r,o,s,l){var f=function(h){return l.extract(r.concat([s]),h)},d=function(h){return h.fold(function(){return Ra.svalue(C.none())},function(p){var y=l.extract(r.concat([s]),p);return Ra.map(y,C.some)})};switch(t.tag){case"required":return UA(r,o,s,f);case"defaultedThunk":return L0(o,s,t.process,f);case"option":return WA(o,s,d);case"defaultedOptionThunk":return jA(o,s,t.process,d);case"mergeWithThunk":return L0(o,s,I({}),function(h){var p=wt(t.process(o),h);return f(p)})}},_m=function(t,r,o){for(var s={},l=[],f=0,d=o;f<d.length;f++){var h=d[f];A(h,function(p,y,S,E){var F=td(S,t,r,p,E);Ra.fold(F,function(R){l.push.apply(l,R)},function(R){s[y]=R})},function(p,y){s[p]=y(r)})}return l.length>0?Ra.serror(l):Ra.svalue(s)},fx=function(t){var r=function(s,l){return t().extract(s,l)},o=function(){return t().toString()};return{extract:r,toString:o}},vx=function(t){return Ye(un(t,se))},Pu=function(t){var r=Xn(t),o=nt(t,function(l,f){return A(f,function(d){var h;return wt(l,(h={},h[d]=!0,h))},I(l))},{}),s=function(l,f){var d=He(f)?[]:vx(f),h=De(d,function(p){return!Pn(o,p)});return h.length===0?r.extract(l,f):HA(l,h)};return{extract:s,toString:r.toString}},Xn=function(t){var r=function(s,l){return _m(s,l,t)},o=function(){var s=dt(t,function(l){return A(l,function(f,d,h,p){return f+" -> "+p.toString()},function(f,d){return"state("+f+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:o}},ml=function(t){var r=function(s,l){var f=dt(l,function(d,h){return t.extract(s.concat(["["+h+"]"]),d)});return N0.consolidateArr(f)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},H0=function(t){var r=function(s,l){for(var f=[],d=0,h=t;d<h.length;d++){var p=h[d],y=p.extract(s,l);if(y.stype===fa.Value)return y;f.push(y)}return N0.consolidateArr(f)},o=function(){return"oneOf("+dt(t,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:o}},Pm=function(t,r){var o=function(f,d){return ml(Ws(t)).extract(f,d)},s=function(f,d){var h=Ye(d),p=o(f,h);return Ra.bind(p,function(y){var S=dt(y,function(E){return Dm(E,E,br(),r)});return Xn(S).extract(f,d)})},l=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:l}},Ph=function(t,r){var o=Ve(r),s=function(f,d){return o().extract(f,d)},l=function(){return o().toString()};return{extract:s,toString:l}},V0=Qe(ml,Xn),js=I(lx),Rf=function(t,r){return Ws(function(o){var s=typeof o;return t(o)?Ra.svalue(o):Ra.serror("Expected type: "+r+" but got: "+s)})},nd=Rf(Be,"number"),lo=Rf(ue,"string"),Uo=Rf(He,"boolean"),Bm=Rf(Re,"function"),dx=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return dx(t[r])});default:return!1}},U0=Ws(function(t){return dx(t)?Ra.svalue(t):Ra.serror("Expected value to be acceptable for sending via postMessage")}),mx=function(t,r,o,s){var l=it(o,s);return l.fold(function(){return LA(t,o,s)},function(f){return f.extract(t.concat(["branch: "+s]),r)})},Bh=function(t,r){var o=function(l,f){var d=it(f,t);return d.fold(function(){return z0(l,t)},function(h){return mx(l,f,r,h)})},s=function(){return"chooseOn("+t+"). Possible values: "+Ye(r)};return{extract:o,toString:s}},qA=function(){return ml(lx)},rd=function(t){return Ws(function(r){return t(r).fold(Ra.serror,Ra.svalue)})},fi=function(t,r){return Pm(function(o){return Ra.fromResult(t(o))},r)},gx=function(t,r,o){var s=r.extract([t],o);return Ra.mapError(s,function(l){return{input:o,errors:l}})},ja=function(t,r,o){return Ra.toResult(gx(t,r,o))},qs=function(t){return t.fold(function(r){throw new Error(Nf(r))},je)},da=function(t,r,o){return qs(ja(t,r,o))},Nf=function(t){return`Errors: 
`+cx(t.errors).join(`
`)+`

Input object: `+I0(t.input)},Yu=function(t,r){return Bh(t,Jt(r,Xn))},GA=function(t,r){return Ph(t,r)},Fo=Dm,nu=w,hx=function(t){return rd(function(r){return Zt(t,r)?Or.value(r):Or.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},Nt=function(t){return Fo(t,t,br(),js())},vu=function(t,r){return Fo(t,t,br(),r)},ql=function(t){return vu(t,nd)},dr=function(t){return vu(t,lo)},Zu=function(t,r){return Fo(t,t,br(),hx(r))},KA=function(t){return vu(t,Uo)},Ti=function(t){return vu(t,Bm)},ad=function(t,r){return Fo(t,t,Sa(),Ws(function(o){return Ra.serror("The field: "+t+" is forbidden. "+r)}))},gl=function(t,r){return Fo(t,t,br(),Xn(r))},Fh=function(t,r){return Fo(t,t,br(),V0(r))},zi=function(t,r){return Fo(t,t,br(),ml(r))},ea=function(t){return Fo(t,t,Sa(),js())},Gs=function(t,r){return Fo(t,t,Sa(),r)},Fm=function(t){return Gs(t,nd)},xa=function(t){return Gs(t,lo)},If=function(t){return Gs(t,Bm)},du=function(t,r){return Gs(t,ml(r))},Bu=function(t,r){return Gs(t,Xn(r))},XA=function(t,r){return Gs(t,Pu(r))},Se=function(t,r){return Fo(t,t,Nr(r),js())},mu=function(t,r,o){return Fo(t,t,Nr(r),o)},xc=function(t,r){return mu(t,r,nd)},od=function(t,r){return mu(t,r,lo)},Ju=function(t,r,o){return mu(t,r,hx(o))},qa=function(t,r){return mu(t,r,Uo)},ba=function(t,r){return mu(t,r,Bm)},Qu=function(t,r){return mu(t,r,U0)},Mm=function(t,r,o){return mu(t,r,ml(o))},W0=function(t,r,o){return mu(t,r,Xn(o))},Qn=function(t){var r=t,o=function(){return r},s=function(l){r=l};return{get:o,set:s}},j0=function(t){if(!at(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return Fe(t,function(s,l){var f=Ye(s);if(f.length!==1)throw new Error("one and only one name per case");var d=f[0],h=s[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!at(h))throw new Error("case arguments must be an array");r.push(d),o[d]=function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];var S=p.length;if(S!==h.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+h.length+" ("+h+"), got "+S);var E=function(F){var R=Ye(F);if(r.length!==R.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+R.join(","));var W=ln(r,function(ee){return Zt(R,ee)});if(!W)throw new Error("Not all branches were specified when using match. Specified: "+R.join(", ")+`
Required: `+r.join(", "));return F[d].apply(null,p)};return{fold:function(){for(var F=[],R=0;R<arguments.length;R++)F[R]=arguments[R];if(F.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+F.length);var W=F[l];return W.apply(null,p)},match:E,log:function(F){}}}}),o},es={generate:j0};es.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var YA=function(t){var r=[],o=[];return Fe(t,function(s){s.fold(function(l){r.push(l)},function(l){o.push(l)})}),{errors:r,values:o}},Mh=function(t,r){var o={};return dn(t,function(s,l){Zt(r,l)||(o[l]=s)}),o},Rh=function(t,r){var o;return o={},o[t]=r,o},ZA=function(t){var r={};return Fe(t,function(o){r[o.key]=o.value}),r},q0=function(t,r){return Mh(t,r)},Sc=function(t,r){return Rh(t,r)},$f=function(t){return ZA(t)},JA=function(t,r){return t.length===0?Or.value(r):Or.value(wt(r,Gn.apply(void 0,t)))},QA=function(t){return Or.error(le(t))},eD=function(t,r){var o=YA(t);return o.errors.length>0?QA(o.errors):JA(o.values,r)},px=function(t){return Re(t)?t:Ue},G0=function(t,r,o){for(var s=t.dom,l=px(o);s.parentNode;){s=s.parentNode;var f=Q.fromDom(s),d=r(f);if(d.isSome())return d;if(l(f))break}return C.none()},K0=function(t,r,o){var s=r(t),l=px(o);return s.orThunk(function(){return l(t)?C.none():G0(t,r,l)})},bx=function(t,r){return _a(t.element,r.event.target)},kc={can:Ee,abort:Ue,run:ve},id=function(t){if(!Pn(t,"can")&&!Pn(t,"abort")&&!Pn(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return $($({},kc),t)},X0=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Dt(t,function(l,f){return l&&r(f).apply(void 0,o)},!0)}},tD=function(t,r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Dt(t,function(l,f){return l||r(f).apply(void 0,o)},!1)}},nD=function(t){return Re(t)?{can:Ee,abort:Ue,run:t}:t},rD=function(t){var r=X0(t,function(l){return l.can}),o=tD(t,function(l){return l.abort}),s=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];Fe(t,function(d){d.run.apply(void 0,l)})};return{can:r,abort:o,run:s}},Oo=I,hl=Oo("touchstart"),Ks=Oo("touchmove"),Rm=Oo("touchend"),yx=Oo("touchcancel"),ws=Oo("mousedown"),zf=Oo("mousemove"),Y0=Oo("mouseout"),Z0=Oo("mouseup"),Gl=Oo("mouseover"),Kl=Oo("focusin"),Zo=Oo("focusout"),Nh=Oo("keydown"),wx=Oo("keyup"),ud=Oo("input"),sd=Oo("change"),Nm=Oo("click"),aD=Oo("transitioncancel"),Im=Oo("transitionend"),J0=Oo("transitionstart"),oD=Oo("selectstart"),Ga=function(t){return I("alloy."+t)},Ih={tap:Ga("tap")},Xl=Ga("focus"),Q0=Ga("blur.post"),eb=Ga("paste.post"),ts=Ga("receive"),Fu=Ga("execute"),$m=Ga("focus.item"),cd=Ih.tap,tb=Ga("longpress"),zm=Ga("sandbox.close"),nb=Ga("typeahead.cancel"),Lm=Ga("system.init"),rb=Ga("system.touchmove"),iD=Ga("system.touchend"),ab=Ga("system.scroll"),Xs=Ga("system.resize"),Mu=Ga("system.attached"),Hm=Ga("system.detached"),Ys=Ga("system.dismissRequested"),Oi=Ga("system.repositionRequested"),$h=Ga("focusmanager.shifted"),zh=Ga("slotcontainer.visibility"),Cx=Ga("change.tab"),Jo=Ga("dismiss.tab"),xx=Ga("highlight"),Vm=Ga("dehighlight"),Ir=function(t,r){Um(t,t.element,r,{})},er=function(t,r,o){Um(t,t.element,r,o)},pl=function(t){Ir(t,Fu())},ob=function(t,r,o){Um(t,r,o,{})},Um=function(t,r,o,s){var l=$({target:r},s);t.getSystem().triggerEvent(o,r,l)},Sx=function(t,r,o,s){t.getSystem().triggerEvent(o,r,s.event)},ya=function(t){return $f(t)},kx=function(t,r){return{key:t,value:id({abort:r})}},Ex=function(t,r){return{key:t,value:id({can:r})}},Tx=function(t){return{key:t,value:id({run:function(r,o){o.event.prevent()}})}},It=function(t,r){return{key:t,value:id({run:r})}},Wm=function(t,r,o){return{key:t,value:id({run:function(s,l){r.apply(void 0,[s,l].concat(o))}})}},Lh=function(t){return function(r){return It(t,r)}},Hh=function(t){return function(r){return{key:t,value:id({run:function(o,s){bx(o,s)&&r(o,s)}})}}},ld=function(t,r){return It(t,function(o,s){o.getSystem().getByUid(r).each(function(l){Sx(l,l.element,t,s)})})},fd=function(t,r,o){var s=r.partUids[o];return ld(t,s)},Yl=function(t,r){return It(t,function(o,s){var l=s.event,f=o.getSystem().getByDom(l.target).getOrThunk(function(){var d=K0(l.target,function(h){return o.getSystem().getByDom(h).toOptional()},Ue);return d.getOr(o)});r(o,f,s)})},ro=function(t){return It(t,function(r,o){o.cut()})},ka=function(t){return It(t,function(r,o){o.stop()})},bl=function(t,r){return Hh(t)(r)},Ka=Hh(Mu()),Ru=Hh(Hm()),ib=Hh(Lm()),Ec=Lh(Fu()),Vh=function(t,r){var o=r||document,s=o.createElement("div");return s.innerHTML=t,k(Q.fromDom(s))},Tc=function(t){return t.dom.innerHTML},Oc=function(t,r){var o=si(t),s=o.dom,l=Q.fromDom(s.createDocumentFragment()),f=Vh(r,s);fl(l,f),Kv(t),li(t,l)},Zl=function(t){var r=Q.fromTag("div"),o=Q.fromDom(t.dom.cloneNode(!0));return li(r,o),Tc(r)},ns=function(t,r){return Q.fromDom(t.dom.cloneNode(r))},Uh=function(t){return ns(t,!1)},Ac=function(t){if(Ke(t))return"#shadow-root";var r=Uh(t);return Zl(r)},gu=function(t){return Ac(t)},vd=function(t,r,o){return _a(r,t.element)&&!_a(r,o)},uD=ya([Ex(Xl(),function(t,r){var o=r.event,s=o.originator,l=o.target;return vd(t,s,l)?(console.warn(Xl()+` did not get interpreted by the desired target. 
Originator: `+gu(s)+`
Target: `+gu(l)+`
Check the `+Xl()+" event handlers"),!1):!0})]),jm=Object.freeze({__proto__:null,events:uD}),vi=0,Bn=function(t){var r=new Date,o=r.getTime(),s=Math.floor(Math.random()*1e9);return vi++,t+"_"+s+vi+String(o)},Dc=I("alloy-id-"),sD=I("data-alloy-id"),Ox=Dc(),ub=sD(),Ax=function(t,r){var o=Bn(Ox+t);return qm(r,o),o},qm=function(t,r){Object.defineProperty(t.dom,ub,{value:r,writable:!0})},Jl=function(t){var r=O(t)?t.dom[ub]:null;return C.from(r)},Lf=function(t){return Bn(t)},cD=je,Zs=function(t){var r=function(l){return"The component must be in a context to execute: "+l+(t?`
`+gu(t().element)+" is not in context.":"")},o=function(l){return function(){throw new Error(r(l))}},s=function(l){return function(){console.warn(r(l))}};return{debugInfo:I("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Ue}},lD=Zs(),fD=function(t,r,o){var s=o.toString(),l=s.indexOf(")")+1,f=s.indexOf("("),d=s.substring(f+1,l-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:_c(d.slice(0,1).concat(d.slice(3)))}},t},_c=function(t){return dt(t,function(r){return Ln(r,"/*")?r.substring(0,r.length-2):r})},Wh=function(t,r){var o=t.toString(),s=o.indexOf(")")+1,l=o.indexOf("("),f=o.substring(l+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:_c(f)}},t},Hf=function(t,r){var o=r.toString(),s=o.indexOf(")")+1,l=o.indexOf("("),f=o.substring(l+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:_c(f.slice(1))}},t},Dx=Bn("alloy-premade"),fo=function(t){return Sc(Dx,t)},Vf=function(t){return it(t,Dx)},Gm=function(t){return Hf(function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,Oe([r.getApis(),r],o,!1))},t)},Cs={init:function(){return Li({readState:I("No State required")})}},Li=function(t){return t},vD=function(t,r){var o=dt(r,function(l){return Bu(l.name(),[Nt("config"),Se("state",Cs)])}),s=ja("component.behaviours",Xn(o),t.behaviours).fold(function(l){throw new Error(Nf(l)+`
Complete spec:
`+JSON.stringify(t,null,2))},je);return{list:r,data:Jt(s,function(l){var f=l.map(function(d){return{config:d.config,state:d.state.init(d.config)}});return I(f)})}},dD=function(t){return t.list},mD=function(t){return t.data},_x=function(t,r){var o={};return dn(t,function(s,l){dn(s,function(f,d){var h=it(o,d).getOr([]);o[d]=h.concat([r(l,f)])})}),o},xs=function(t){return{classes:Ft(t.classes)?[]:t.classes,attributes:Ft(t.attributes)?{}:t.attributes,styles:Ft(t.styles)?{}:t.styles}},jh=function(t,r){return $($({},t),{attributes:$($({},t.attributes),r.attributes),styles:$($({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},gD=function(t,r,o,s){var l=$({},r);Fe(o,function(S){l[S.name()]=S.exhibit(t,s)});var f=_x(l,function(S,E){return{name:S,modification:E}}),d=function(S){return nt(S,function(E,F){return $($({},F.modification),E)},{})},h=nt(f.classes,function(S,E){return E.modification.concat(S)},[]),p=d(f.attributes),y=d(f.styles);return xs({classes:h,attributes:p,styles:y})},hD=function(t,r,o,s){try{var l=Rr(o,function(f,d){var h=f[r],p=d[r],y=s.indexOf(h),S=s.indexOf(p);if(y===-1)throw new Error("The ordering for "+t+" does not have an entry for "+h+`.
Order specified: `+JSON.stringify(s,null,2));if(S===-1)throw new Error("The ordering for "+t+" does not have an entry for "+p+`.
Order specified: `+JSON.stringify(s,null,2));return y<S?-1:S<y?1:0});return Or.value(l)}catch(f){return Or.error([f])}},sb=function(t,r){return{handler:t,purpose:r}},pD=function(t,r){return{cHandler:t,purpose:r}},cb=function(t,r){return pD(St.apply(void 0,[t.handler].concat(r)),t.purpose)},lb=function(t){return t.cHandler},Ql=function(t,r){return{name:t,handler:r}},ef=function(t,r){var o={};return Fe(t,function(s){o[s.name()]=s.handlers(r)}),o},ma=function(t,r,o){var s=$($({},o),ef(r,t));return _x(s,Ql)},fb=function(t,r,o,s){var l=ma(t,o,s);return yD(l,r)},Js=function(t){var r=nD(t);return function(o,s){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];var d=[o,s].concat(l);r.abort.apply(void 0,d)?s.stop():r.can.apply(void 0,d)&&r.run.apply(void 0,d)}},Px=function(t,r){return Or.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(dt(r,function(o){return o.name}),null,2)])},bD=function(t,r,o){var s=r[o];return s?hD("Event: "+o,"name",t,s).map(function(l){var f=dt(l,function(d){return d.handler});return rD(f)}):Px(o,t)},yD=function(t,r){var o=Nn(t,function(s,l){var f=s.length===1?Or.value(s[0].handler):bD(s,r,l);return f.map(function(d){var h=Js(d),p=s.length>1?De(r[l],function(y){return Qt(s,function(S){return S.name===y})}).join(" > "):s[0].name;return Sc(l,sb(h,p))})});return eD(o,{})},Hi,yl="alloy.base.behaviour",Bx=Xn([Fo("dom","dom",br(),Xn([Nt("tag"),Se("styles",{}),Se("classes",[]),Se("attributes",{}),ea("value"),ea("innerHtml")])),Nt("components"),Nt("uid"),Se("events",{}),Se("apis",{}),Fo("eventOrder","eventOrder",_h((Hi={},Hi[Fu()]=["disabling",yl,"toggling","typeaheadevents"],Hi[Xl()]=[yl,"focusing","keying"],Hi[Lm()]=[yl,"disabling","toggling","representing"],Hi[ud()]=[yl,"representing","streaming","invalidating"],Hi[Hm()]=[yl,"representing","item-events","tooltipping"],Hi[ws()]=["focusing",yl,"item-type-events"],Hi[hl()]=["focusing",yl,"item-type-events"],Hi[Gl()]=["item-type-events","tooltipping"],Hi[ts()]=["receiving","reflecting","tooltipping"],Hi)),js()),ea("domModification")]),qh=function(t){return ja("custom.definition",Bx,t)},vb=function(t){return $($({},t.dom),{uid:t.uid,domChildren:dt(t.components,function(r){return r.element})})},db=function(t){return t.domModification.fold(function(){return xs({})},xs)},wD=function(t){return t.events},dd=function(t,r){var o=Ma(t,r);return o===void 0||o===""?[]:o.split(" ")},mb=function(t,r,o){var s=dd(t,r),l=s.concat([o]);return Dr(t,r,l.join(" ")),!0},gb=function(t,r,o){var s=De(dd(t,r),function(l){return l!==o});return s.length>0?Dr(t,r,s.join(" ")):Ho(t,r),!1},Gh=function(t){return t.dom.classList!==void 0},Fx=function(t){return dd(t,"class")},hb=function(t,r){return mb(t,"class",r)},CD=function(t,r){return gb(t,"class",r)},Wo=function(t,r){Gh(t)?t.dom.classList.add(r):hb(t,r)},Km=function(t){var r=Gh(t)?t.dom.classList:Fx(t);r.length===0&&Ho(t,"class")},wo=function(t,r){if(Gh(t)){var o=t.dom.classList;o.remove(r)}else CD(t,r);Km(t)},Vi=function(t,r){return Gh(t)&&t.dom.classList.contains(r)},wl=function(t,r){Fe(r,function(o){Wo(t,o)})},Pc=function(t,r){Fe(r,function(o){wo(t,o)})},Mx=function(t,r){return ln(r,function(o){return Vi(t,o)})},rs=function(t){return t.dom.value},md=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},Rx=function(t){var r=Q.fromTag(t.tag);Vv(r,t.attributes),wl(r,t.classes),Us(r,t.styles),t.innerHtml.each(function(s){return Oc(r,s)});var o=t.domChildren;if(fl(r,o),t.value.each(function(s){md(r,s)}),!t.uid)debugger;return qm(r,t.uid),r},xD=function(t){var r=it(t,"behaviours").getOr({});return vt(Ye(r),function(o){var s=r[o];return se(s)?[s.me]:[]})},SD=function(t,r){return vD(t,r)},kD=function(t){var r=xD(t);return SD(t,r)},ED=function(t,r,o){var s=vb(t),l=db(t),f={"alloy.base.modification":l},d=r.length>0?gD(o,f,r,s):l;return jh(s,d)},pb=function(t,r,o){var s={"alloy.base.behaviour":wD(t)};return fb(o,t.eventOrder,r,s).getOrDie()},bb=function(t){var r=function(){return Ce},o=Qn(lD),s=qs(qh(t)),l=kD(t),f=dD(l),d=mD(l),h=ED(s,f,d),p=Rx(h),y=pb(s,f,d),S=Qn(s.components),E=function(mt){o.set(mt)},F=function(){o.set(Zs(r))},R=function(){var mt=k(p),bt=vt(mt,function(ye){return o.get().getByDom(ye).fold(function(){return[]},Sr)});S.set(bt)},W=function(mt){var bt=d,ye=Re(bt[mt.name()])?bt[mt.name()]:function(){throw new Error("Could not find "+mt.name()+" in "+JSON.stringify(t,null,2))};return ye()},ee=function(mt){return Re(d[mt.name()])},pe=function(){return s.apis},K=function(mt){return d[mt]().map(function(bt){return bt.state.readState()}).getOr("not enabled")},Ce={uid:t.uid,getSystem:o.get,config:W,hasConfigured:ee,spec:t,readState:K,getApis:pe,connect:E,disconnect:F,element:p,syncComponents:R,components:S.get,events:y};return Ce},as=function(t){var r=it(t,"components").getOr([]);return dt(r,di)},TD=function(t){var r=cD(t),o=r.events,s=ae(r,["events"]),l=as(s),f=$($({},s),{events:$($({},jm),o),components:l});return Or.value(bb(f))},Uf=function(t){var r=Q.fromText(t);return Kh({element:r})},Kh=function(t){var r=da("external.component",Pu([Nt("element"),ea("uid")]),t),o=Qn(Zs()),s=function(h){o.set(h)},l=function(){o.set(Zs(function(){return d}))},f=r.uid.getOrThunk(function(){return Lf("external")});qm(r.element,f);var d={uid:f,getSystem:o.get,config:C.none,hasConfigured:Ue,connect:s,disconnect:l,getApis:function(){return{}},element:r.element,spec:t,readState:I("No state"),syncComponents:ve,components:I([]),events:{}};return fo(d)},Cl=Lf,Nx=function(t){return Ut(t,"uid")},di=function(t){return Vf(t).getOrThunk(function(){var r=Nx(t)?t:$({uid:Cl("")},t);return TD(r).getOrDie()})},Nu=fo;function Xh(t,r,o,s,l){return t(o,s)?C.some(o):Re(l)&&l(o)?C.none():r(o,s,l)}var yb=function(t,r,o){for(var s=t.dom,l=Re(o)?o:Ue;s.parentNode;){s=s.parentNode;var f=Q.fromDom(s);if(r(f))return C.some(f);if(l(f))break}return C.none()},Er=function(t,r,o){var s=function(l,f){return f(l)};return Xh(s,yb,t,r,o)},Xm=function(t,r){var o=function(l){return r(Q.fromDom(l))},s=pt(t.dom.childNodes,o);return s.map(Q.fromDom)},OD=function(t,r){var o=function(s){for(var l=0;l<s.childNodes.length;l++){var f=Q.fromDom(s.childNodes[l]);if(r(f))return C.some(f);var d=o(s.childNodes[l]);if(d.isSome())return d}return C.none()};return o(t.dom)},Yh=function(t,r,o){return Er(t,r,o).isSome()},Zh=function(t,r,o){return yb(t,function(s){return eu(s,r)},o)},AD=function(t,r){return Xm(t,function(o){return eu(o,r)})},Co=function(t,r){return Hl(r,t)},ru=function(t,r,o){var s=function(l,f){return eu(l,f)};return Xh(s,Zh,t,r,o)},Ea=function(t){var r=Er(t,function(o){if(!O(o))return!1;var s=Ma(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(o){var s=Ma(o,"id"),l=cr(o);return Co(l,'[aria-owns="'+s+'"]')})},Ix=function(){var t=Bn("aria-owns"),r=function(s){Dr(s,"aria-owns",t)},o=function(s){Ho(s,"aria-owns")};return{id:t,link:r,unlink:o}},wb=function(t,r){return Ea(r).exists(function(o){return Wf(t,o)})},Wf=function(t,r){return Yh(r,function(o){return _a(o,t.element)},Ue)||wb(t,r)},$x="unknown",jf;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(jf||(jf={}));var gd=Qn({}),zx=function(t,r){var o=[],s=new Date().getTime();return{logEventCut:function(l,f,d){o.push({outcome:"cut",target:f,purpose:d})},logEventStopped:function(l,f,d){o.push({outcome:"stopped",target:f,purpose:d})},logNoParent:function(l,f,d){o.push({outcome:"no-parent",target:f,purpose:d})},logEventNoHandlers:function(l,f){o.push({outcome:"no-handlers-left",target:f})},logEventResponse:function(l,f,d){o.push({outcome:"response",purpose:d,target:f})},write:function(){var l=new Date().getTime();Zt(["mousemove","mouseover","mouseout",Lm()],t)||(l-s,r.dom,dt(o,function(f){return Zt(["cut","stopped","response"],f.outcome)?"{"+f.purpose+"} "+f.outcome+" at ("+gu(f.target)+")":f.outcome}))}}},xl=function(t,r,o){var s=it(gd.get(),t).orThunk(function(){var d=Ye(gd.get());return Le(d,function(h){return t.indexOf(h)>-1?C.some(gd.get()[h]):C.none()})}).getOr(jf.NORMAL);switch(s){case jf.NORMAL:return o(Cb());case jf.LOGGING:{var l=zx(t,r),f=o(l);return l.write(),f}case jf.STOP:return!0}},Ui=["alloy/data/Fields","alloy/debugging/Debugging"],DD=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return pt(r,function(o){return o.indexOf("alloy")>0&&!Qt(Ui,function(s){return o.indexOf(s)>-1})}).getOr($x)}else return $x},_D={logEventCut:ve,logEventStopped:ve,logNoParent:ve,logEventNoHandlers:ve,logEventResponse:ve,write:ve},qf=function(t,r,o){return xl(t,r,o)},Cb=I(_D),xb=I([Nt("menu"),Nt("selectedMenu")]),Sb=I([Nt("item"),Nt("selectedItem")]);I(Xn(Sb().concat(xb())));var PD=I(Xn(Sb())),BD=gl("initSize",[Nt("numColumns"),Nt("numRows")]),FD=function(){return vu("markers",PD())},Jh=function(){return gl("markers",[Nt("backgroundMenu")].concat(xb()).concat(Sb()))},Gf=function(t){return gl("markers",dt(t,Nt))},Qh=function(t,r,o){return DD(),Fo(r,r,o,rd(function(s){return Or.value(function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];return s.apply(void 0,l)})}))},Fr=function(t){return Qh("onHandler",t,Nr(ve))},Xa=function(t){return Qh("onKeyboardHandler",t,Nr(C.none))},Kf=function(t){return Qh("onHandler",t,br())},tf=function(t){return Qh("onKeyboardHandler",t,br())},ga=function(t,r){return nu(t,I(r))},kb=function(t){return nu(t,je)},ep=I(BD),Qo=function(t,r,o,s,l,f,d,h){return h===void 0&&(h=!1),{x:t,y:r,bubble:o,direction:s,placement:l,restriction:f,label:d+"-"+l,alwaysFit:h}},nf=es.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),tp=function(t,r,o,s,l,f,d,h,p){return t.fold(r,o,s,l,f,d,h,p)},MD=function(t,r,o,s){return t.fold(r,r,s,s,r,s,o,o)},RD=function(t,r,o,s){return t.fold(r,s,r,s,o,o,r,s)},np=nf.southeast,hd=nf.southwest,Eb=nf.northeast,Tb=nf.northwest,Ob=nf.south,Ab=nf.north,au=nf.east,rp=nf.west,Bc=function(t,r,o,s){var l=t+r;return l>s?o:l<o?s:l},ou=function(t,r,o){return Math.min(Math.max(t,r),o)},Lx=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},ei=function(t,r){return jn(["left","right","top","bottom"],function(o){return it(r,o).map(function(s){return Lx(t,s)})})},ND=function(t,r,o){var s=function(p,y){return r[p].map(function(S){var E=p==="top"||p==="bottom",F=E?o.top:o.left,R=p==="left"||p==="top"?Math.max:Math.min,W=R(S,y)+F;return E?ou(W,t.y,t.bottom):ou(W,t.x,t.right)}).getOr(y)},l=s("left",t.x),f=s("top",t.y),d=s("right",t.right),h=s("bottom",t.bottom);return Po(l,f,d-l,h-f)},rf="layout",Hx=function(t){return t.x},Vx=function(t,r){return t.x+t.width/2-r.width/2},Ux=function(t,r){return t.x+t.width-r.width},ap=function(t,r){return t.y-r.height},op=function(t){return t.y+t.height},Wx=function(t,r){return t.y+t.height/2-r.height/2},ID=function(t){return t.x+t.width},$D=function(t,r){return t.x-r.width},mi=function(t,r,o){return Qo(Hx(t),op(t),o.southeast(),np(),"southeast",ei(t,{left:1,top:3}),rf)},ti=function(t,r,o){return Qo(Ux(t,r),op(t),o.southwest(),hd(),"southwest",ei(t,{right:0,top:3}),rf)},Wi=function(t,r,o){return Qo(Hx(t),ap(t,r),o.northeast(),Eb(),"northeast",ei(t,{left:1,bottom:2}),rf)},jo=function(t,r,o){return Qo(Ux(t,r),ap(t,r),o.northwest(),Tb(),"northwest",ei(t,{right:0,bottom:2}),rf)},iu=function(t,r,o){return Qo(Vx(t,r),ap(t,r),o.north(),Ab(),"north",ei(t,{bottom:2}),rf)},ni=function(t,r,o){return Qo(Vx(t,r),op(t),o.south(),Ob(),"south",ei(t,{top:3}),rf)},ip=function(t,r,o){return Qo(ID(t),Wx(t,r),o.east(),au(),"east",ei(t,{left:0}),rf)},af=function(t,r,o){return Qo($D(t,r),Wx(t,r),o.west(),rp(),"west",ei(t,{right:1}),rf)},of=function(){return[mi,ti,Wi,jo,ni,iu,ip,af]},Db=function(){return[ti,mi,jo,Wi,ni,iu,ip,af]},jx=function(){return[Wi,jo,mi,ti,iu,ni]},_b=function(){return[jo,Wi,ti,mi,iu,ni]},uf=function(){return[mi,ti,Wi,jo,ni,iu]},sf=function(){return[ti,mi,jo,Wi,ni,iu]},qx=function(t,r){return r.universal?t:De(t,function(o){return Zt(r.channels,o)})},zD=function(t){return ya([It(ts(),function(r,o){var s=t.channels,l=Ye(s),f=o,d=qx(l,f);Fe(d,function(h){var p=s[h],y=p.schema,S=da("channel["+h+`] data
Receiver: `+gu(r.element),y,f.data);p.onReceive(r,S)})})])},up=Object.freeze({__proto__:null,events:zD}),cf=[vu("channels",fi(Or.value,Pu([Kf("onReceive"),Se("schema",js())])))],LD=function(t,r,o){return Ec(function(s){o(s,t,r)})},Pb=function(t,r,o){return ib(function(s,l){o(s,t,r)})},Gx=function(t,r,o,s,l,f){var d=Pu(t),h=Bu(r,[XA("config",t)]);return Xx(d,h,r,o,s,l,f)},HD=function(t,r,o,s,l,f){var d=t,h=Bu(r,[Gs("config",t)]);return Xx(d,h,r,o,s,l,f)},VD=function(t,r,o){var s=function(l){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var h=[l].concat(f);return l.config({name:I(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(p){var y=Array.prototype.slice.call(h,1);return r.apply(void 0,[l,p.config,p.state].concat(y))})};return fD(s,o,r)},Kx=function(t){return{key:t,value:void 0}},Xx=function(t,r,o,s,l,f,d){var h=function(E){return Pn(E,o)?E[o]():C.none()},p=Jt(l,function(E,F){return VD(o,E,F)}),y=Jt(f,function(E,F){return Wh(E,F)}),S=$($($({},y),p),{revoke:St(Kx,o),config:function(E){var F=da(o+"-config",t,E);return{key:o,value:{config:F,me:S,configAsRaw:Ve(function(){return da(o+"-config",t,E)}),initialConfig:E,state:d}}},schema:I(r),exhibit:function(E,F){return sa(h(E),it(s,"exhibit"),function(R,W){return W(F,R.config,R.state)}).getOrThunk(function(){return xs({})})},name:I(o),handlers:function(E){return h(E).map(function(F){var R=it(s,"events").getOr(function(){return{}});return R(F.config,F.state)}).getOr({})}});return S},fn=function(t){return $f(t)},UD=Pu([Nt("fields"),Nt("name"),Se("active",{}),Se("apis",{}),Se("state",Cs),Se("extra",{})]),vo=function(t){var r=da("Creating behaviour: "+t.name,UD,t);return Gx(r.fields,r.name,r.active,r.apis,r.extra,r.state)},WD=Pu([Nt("branchKey"),Nt("branches"),Nt("name"),Se("active",{}),Se("apis",{}),Se("state",Cs),Se("extra",{})]),pd=function(t){var r=da("Creating behaviour: "+t.name,WD,t);return HD(Yu(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},Bb=I(void 0),os=vo({fields:cf,name:"receiving",active:up}),sp=function(t,r){return xs({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},Fb=Object.freeze({__proto__:null,exhibit:sp}),cp=function(){return Q.fromDom(document)},Fc=function(t){return t.dom.focus()},Mb=function(t){return t.dom.blur()},Yx=function(t){var r=cr(t).dom;return t.dom===r.activeElement},Sl=function(t){return t===void 0&&(t=cp()),C.from(t.dom.activeElement).map(Q.fromDom)},Ss=function(t){return Sl(cr(t)).filter(function(r){return t.dom.contains(r.dom)})},kl=function(t,r){var o=cr(r),s=Sl(o).bind(function(f){var d=function(h){return _a(f,h)};return d(r)?C.some(r):OD(r,d)}),l=t(r);return s.each(function(f){Sl(o).filter(function(d){return _a(d,f)}).fold(function(){Fc(f)},ve)}),l},ji=function(t,r,o,s,l){var f=function(d){return d+"px"};return{position:t,left:r.map(f),top:o.map(f),right:s.map(f),bottom:l.map(f)}},jD=function(t){return $($({},t),{position:C.some(t.position)})},gt=function(t,r){yc(t,jD(r))},bd=es.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Zx=function(t,r,o,s,l,f){var d=r.rect,h=d.x-o,p=d.y-s,y=d.width,S=d.height,E=l-(h+y),F=f-(p+S),R=C.some(h),W=C.some(p),ee=C.some(E),pe=C.some(F),K=C.none();return tp(r.direction,function(){return ji(t,R,W,K,K)},function(){return ji(t,K,W,ee,K)},function(){return ji(t,R,K,K,pe)},function(){return ji(t,K,K,ee,pe)},function(){return ji(t,R,W,K,K)},function(){return ji(t,R,K,K,pe)},function(){return ji(t,R,W,K,K)},function(){return ji(t,K,W,ee,K)})},Jx=function(t,r){return t.fold(function(){var o=r.rect;return ji("absolute",C.some(o.x),C.some(o.y),C.none(),C.none())},function(o,s,l,f){return Zx("absolute",r,o,s,l,f)},function(o,s,l,f){return Zx("fixed",r,o,s,l,f)})},Ym=function(t,r){var o=St(Jv,r),s=t.fold(o,o,function(){var d=Au();return Jv(r).translate(-d.left,-d.top)}),l=wc(r),f=Tu(r);return Po(s.left,s.top,l,f)},Qs=function(t,r){return r.fold(function(){return t.fold(_u,_u,Po)},function(o){return t.fold(o,o,function(){var s=o(),l=Rb(t,s.x,s.y);return Po(l.left,l.top,s.width,s.height)})})},Rb=function(t,r,o){var s=pa(r,o),l=function(){var f=Au();return s.translate(-f.left,-f.top)};return t.fold(I(s),I(s),l)},Qx=function(t,r,o,s){return t.fold(r,o,s)};bd.none;var eS=bd.relative,Nb=bd.fixed,qD=function(t,r){return{anchorBox:t,origin:r}},tS=function(t,r){return qD(t,r)},Ib="data-alloy-placement",nS=function(t,r){Dr(t,Ib,r)},rS=function(t){return so(t,Ib)},aS=function(t){return Ho(t,Ib)},lp=es.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),GD=function(t,r){var o=r.x,s=r.y,l=r.right,f=r.bottom,d=t.x,h=t.y,p=t.right,y=t.bottom,S=t.width,E=t.height,F=d>=o&&d<=l,R=h>=s&&h<=f,W=F&&R,ee=p<=l&&p>=o,pe=y<=f&&y>=s,K=ee&&pe,Ce=Math.min(S,d>=o?l-d:p-o),mt=Math.min(E,h>=s?f-h:y-s);return{originInBounds:W,sizeInBounds:K,visibleW:Ce,visibleH:mt}},oS=function(t,r){var o=r.x,s=r.y,l=r.right,f=r.bottom,d=t.x,h=t.y,p=t.width,y=t.height,S=Math.max(o,l-p),E=Math.max(s,f-y),F=ou(d,o,S),R=ou(h,s,E),W=Math.min(F+p,l)-F,ee=Math.min(R+y,f)-R;return Po(F,R,W,ee)},fp=function(t,r,o){var s=I(r.bottom-o.y),l=I(o.bottom-r.y),f=MD(t,l,l,s),d=I(r.right-o.x),h=I(o.right-r.x),p=RD(t,h,h,d);return{maxWidth:p,maxHeight:f}},KD=function(t,r,o,s){var l=t.bubble,f=l.offset,d=ND(s,t.restriction,f),h=t.x+f.left,p=t.y+f.top,y=Po(h,p,r,o),S=GD(y,d),E=S.originInBounds,F=S.sizeInBounds,R=S.visibleW,W=S.visibleH,ee=E&&F,pe=ee?y:oS(y,d),K=pe.width>0&&pe.height>0,Ce=fp(t.direction,pe,s),mt=Ce.maxWidth,bt=Ce.maxHeight,ye={rect:pe,maxHeight:bt,maxWidth:mt,direction:t.direction,placement:t.placement,classes:{on:l.classesOn,off:l.classesOff},layout:t.label,testY:p};return ee||t.alwaysFit?lp.fit(ye):lp.nofit(ye,R,W,K)},iS=function(t,r,o,s,l,f){var d=s.width,h=s.height,p=function(S,E,F,R,W){var ee=S(o,s,l,t,f),pe=KD(ee,d,h,f);return pe.fold(I(pe),function(K,Ce,mt,bt){var ye=W===bt?mt>R||Ce>F:!W&&bt;return ye?pe:lp.nofit(E,F,R,W)})},y=Dt(r,function(S,E){var F=St(p,E);return S.fold(I(S),F)},lp.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:np(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return y.fold(je,je)},$b=function(t){var r=Qn(C.none()),o=function(){return r.get().each(t)},s=function(){o(),r.set(C.none())},l=function(){return r.get().isSome()},f=function(){return r.get()},d=function(h){o(),r.set(C.some(h))};return{clear:s,isSet:l,get:f,set:d}},vp=function(){return $b(function(t){return t.destroy()})},Xf=function(){return $b(function(t){return t.unbind()})},uS=function(){var t=vp(),r=function(o){return t.get().each(o)};return $($({},t),{run:r})},Za=function(){var t=$b(ve),r=function(o){return t.get().each(o)};return $($({},t),{on:r})},sS=Ee,mo=function(t,r,o){return _0(t,r,sS,o)},dp=function(t,r,o){return qv(t,r,sS,o)},cS=Sm,zb=["top","bottom","right","left"],Zm="data-alloy-transition-timer",XD=function(t,r){return Mx(t,r.classes)},lS=function(t,r,o){return o.exists(function(s){var l=t.mode;return l==="all"?!0:s[l]!==r[l]})},YD=function(t,r){var o=function(s){return parseFloat(s).toFixed(3)};return fe(r,function(s,l){var f=t[l].map(o),d=s.map(o);return!oa(f,d)}).isSome()},ZD=function(t){var r=function(f){var d=no(t,f),h=ue(d)?d.split(/\s*,\s*/):[];return De(h,zo)},o=function(f){if(ue(f)&&/^[\d.]+/.test(f)){var d=parseFloat(f);return Ln(f,"ms")?d:d*1e3}else return 0},s=r("transition-delay"),l=r("transition-duration");return Dt(l,function(f,d,h){var p=o(s[h])+o(d);return Math.max(f,p)},0)},fS=function(t,r){var o=Xf(),s=Xf(),l,f=function(S){var E,F=(E=S.raw.pseudoElement)!==null&&E!==void 0?E:"";return _a(S.target,t)&&yi(F)&&Zt(zb,S.raw.propertyName)},d=function(S){if(Te(S)||f(S)){o.clear(),s.clear();var E=S==null?void 0:S.raw.type;(Te(E)||E===Im())&&(clearTimeout(l),Ho(t,Zm),Pc(t,r.classes))}},h=function(){o.set(mo(t,Im(),d)),s.set(mo(t,aD(),d))};if("ontransitionstart"in t.dom)var p=mo(t,J0(),function(S){f(S)&&(p.unbind(),h())});else h();var y=ZD(t);requestAnimationFrame(function(){l=setTimeout(d,y+17),Dr(t,Zm,l)})},JD=function(t,r){wl(t,r.classes),so(t,Zm).each(function(o){clearTimeout(parseInt(o,10)),Ho(t,Zm)}),fS(t,r)},QD=function(t,r,o,s,l,f){var d=lS(s,l,f);if(d||XD(t,s)){mr(t,"position",o.position);var h=Ym(r,t),p=Jx(r,$($({},l),{rect:h})),y=jn(zb,function(S){return p[S]});YD(o,y)&&(yc(t,y),d&&JD(t,s),ol(t))}else Pc(t,s.classes)},e_=function(t){return{width:wc(t),height:Tu(t)}},t_=function(t,r,o,s){la(r,"max-height"),la(r,"max-width");var l=e_(r);return iS(r,s.preference,t,l,o,s.bounds)},n_=function(t,r){var o=r.classes;Pc(t,o.off),wl(t,o.on)},vS=function(t,r,o){var s=o.maxHeightFunction;s(t,r.maxHeight)},r_=function(t,r,o){var s=o.maxWidthFunction;s(t,r.maxWidth)},Ai=function(t,r,o){var s=Jx(o.origin,r);o.transition.each(function(l){QD(t,o.origin,s,l,r,o.lastPlacement)}),gt(t,s)},Jm=function(t,r){nS(t,r.placement)},dS=function(t,r){Oh(t,Math.floor(r))},a_=I(function(t,r){dS(t,r),Us(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Qm=I(function(t,r){dS(t,r)}),mS=function(t,r,o){return t[r]===void 0?o:t[r]},o_=function(t,r,o,s,l,f,d,h){var p=mS(d,"maxHeightFunction",a_()),y=mS(d,"maxWidthFunction",ve),S=t.anchorBox,E=t.origin,F={bounds:Qs(E,f),origin:E,preference:s,maxHeightFunction:p,maxWidthFunction:y,lastPlacement:l,transition:h};return i_(S,r,o,F)},i_=function(t,r,o,s){var l=t_(t,r,o,s);return Ai(r,l,s),Jm(r,l),n_(r,l),vS(r,l,s),r_(r,l,s),{layout:l.layout,placement:l.placement}},u_=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Yf=function(t,r,o,s){s===void 0&&(s=1);var l=t*s,f=r*s,d=function(p){return it(o,p).getOr([])},h=function(p,y,S){var E=Fn(u_,S);return{offset:pa(p,y),classesOn:vt(S,d),classesOff:vt(E,d)}};return{southeast:function(){return h(-t,r,["top","alignLeft"])},southwest:function(){return h(t,r,["top","alignRight"])},south:function(){return h(-t/2,r,["top","alignCentre"])},northeast:function(){return h(-t,-r,["bottom","alignLeft"])},northwest:function(){return h(t,-r,["bottom","alignRight"])},north:function(){return h(-t/2,-r,["bottom","alignCentre"])},east:function(){return h(t,-r/2,["valignCentre","left"])},west:function(){return h(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return h(l,f,["top","alignLeft","inset"])},insetNorthwest:function(){return h(-l,f,["top","alignRight","inset"])},insetNorth:function(){return h(-l/2,f,["top","alignCentre","inset"])},insetSoutheast:function(){return h(l,-f,["bottom","alignLeft","inset"])},insetSouthwest:function(){return h(-l,-f,["bottom","alignRight","inset"])},insetSouth:function(){return h(-l/2,-f,["bottom","alignCentre","inset"])},insetEast:function(){return h(-l,-f/2,["valignCentre","right","inset"])},insetWest:function(){return h(l,-f/2,["valignCentre","left","inset"])}}},mp=function(){return Yf(0,0,{})},gp=je,hp=function(t,r){return function(o){return s_(o)==="rtl"?r:t}},s_=function(t){return no(t,"direction")==="rtl"?"rtl":"ltr"},El;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(El||(El={}));var Lb="data-alloy-vertical-dir",c_=function(t){return Yh(t,function(r){return O(r)&&Ma(r,"data-alloy-vertical-dir")===El.BottomToTop})},lf=function(){return Bu("layouts",[Nt("onLtr"),Nt("onRtl"),ea("onBottomLtr"),ea("onBottomRtl")])},pp=function(t,r,o,s,l,f,d){var h=d.map(c_).getOr(!1),p=r.layouts.map(function(R){return R.onLtr(t)}),y=r.layouts.map(function(R){return R.onRtl(t)}),S=h?r.layouts.bind(function(R){return R.onBottomLtr.map(function(W){return W(t)})}).or(p).getOr(l):p.getOr(o),E=h?r.layouts.bind(function(R){return R.onBottomRtl.map(function(W){return W(t)})}).or(y).getOr(f):y.getOr(s),F=hp(S,E);return F(t)},gS=function(t,r,o){var s=r.hotspot,l=Ym(o,s.element),f=pp(t.element,r,uf(),sf(),jx(),_b(),C.some(r.hotspot.element));return C.some(gp({anchorBox:l,bubble:r.bubble.getOr(mp()),overrides:r.overrides,layouts:f,placer:C.none()}))},hS=[Nt("hotspot"),ea("bubble"),Se("overrides",{}),lf(),ga("placement",gS)],l_=function(t,r,o){var s=Rb(o,r.x,r.y),l=Po(s.left,s.top,r.width,r.height),f=pp(t.element,r,of(),Db(),of(),Db(),C.none());return C.some(gp({anchorBox:l,bubble:r.bubble,overrides:r.overrides,layouts:f,placer:C.none()}))},pS=[Nt("x"),Nt("y"),Se("height",0),Se("width",0),Se("bubble",mp()),Se("overrides",{}),lf(),ga("placement",l_)],bS=es.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),f_=function(t){return t.fold(je,function(r,o,s){return r.translate(-o,-s)})},yS=function(t){return t.fold(je,je)},wS=function(t){return Dt(t,function(r,o){return r.translate(o.left,o.top)},pa(0,0))},v_=function(t){var r=dt(t,f_);return wS(r)},Hb=function(t){var r=dt(t,yS);return wS(r)},d_=bS.screen,m_=bS.absolute,CS=function(t,r,o){var s=Hs(o.root).dom,l=function(f){var d=si(f),h=si(t.element);return _a(d,h)};return C.from(s.frameElement).map(Q.fromDom).filter(l).map($i)},xS=function(t,r,o){var s=si(t.element),l=Au(s),f=CS(t,r,o).getOr(l);return m_(f,l.left,l.top)},yd=function(t,r,o,s){var l=d_(pa(t,r));return C.some(F0(l,o,s))},SS=function(t,r,o,s,l){return t.map(function(f){var d=[r,f.point],h=Qx(s,function(){return Hb(d)},function(){return Hb(d)},function(){return v_(d)}),p=vl(h.left,h.top,f.width,f.height),y=o.showAbove?jx():uf(),S=o.showAbove?_b():sf(),E=pp(l,o,y,S,y,S,C.none());return gp({anchorBox:p,bubble:o.bubble.getOr(mp()),overrides:o.overrides,layouts:E,placer:C.none()})})},eg=function(t,r,o){var s=xS(t,o,r);return r.node.filter(pr).bind(function(l){var f=l.dom.getBoundingClientRect(),d=yd(f.left,f.top,f.width,f.height),h=r.node.getOr(t.element);return SS(d,s,r,o,h)})},g_=[Nt("node"),Nt("root"),ea("bubble"),lf(),Se("overrides",{}),Se("showAbove",!1),ga("placement",eg)],h_="\uFEFF",p_="\xA0",b_=function(t,r,o,s){return{start:t,soffset:r,finish:o,foffset:s}},Vb={create:b_},Ub=es.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),y_=function(t,r,o,s){return t.fold(r,o,s)},w_=function(t){return t.fold(je,je,je)},C_=Ub.before,x_=Ub.on,S_=Ub.after,k_={before:C_,on:x_,after:S_,cata:y_,getStart:w_},bp=es.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),E_=function(t){return bp.exact(t.start,t.soffset,t.finish,t.foffset)},T_=function(t){return t.match({domRange:function(r){return Q.fromDom(r.startContainer)},relative:function(r,o){return k_.getStart(r)},exact:function(r,o,s,l){return r}})},O_=bp.domRange,Wb=bp.relative,A_=bp.exact,D_=function(t){var r=T_(t);return Hs(r)},__=Vb.create,tg={domRange:O_,relative:Wb,exact:A_,exactFromRange:E_,getWin:D_,range:__},P_=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},B_=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},kS=function(t,r,o){var s=t.document.createRange();return P_(s,r),B_(s,o),s},jb=function(t,r,o,s,l){var f=t.document.createRange();return f.setStart(r.dom,o),f.setEnd(s.dom,l),f},qb=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},ES=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?C.some(o).map(qb):C.none()},TS=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?C.some(r).map(qb):C.none()},wd=es.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),OS=function(t,r,o){return r(Q.fromDom(o.startContainer),o.startOffset,Q.fromDom(o.endContainer),o.endOffset)},F_=function(t,r){return r.match({domRange:function(o){return{ltr:I(o),rtl:C.none}},relative:function(o,s){return{ltr:Ve(function(){return kS(t,o,s)}),rtl:Ve(function(){return C.some(kS(t,s,o))})}},exact:function(o,s,l,f){return{ltr:Ve(function(){return jb(t,o,s,l,f)}),rtl:Ve(function(){return C.some(jb(t,l,f,o,s))})}}})},M_=function(t,r){var o=r.ltr();if(o.collapsed){var s=r.rtl().filter(function(l){return l.collapsed===!1});return s.map(function(l){return wd.rtl(Q.fromDom(l.endContainer),l.endOffset,Q.fromDom(l.startContainer),l.startOffset)}).getOrThunk(function(){return OS(t,wd.ltr,o)})}else return OS(t,wd.ltr,o)},R_=function(t,r){var o=F_(t,r);return M_(t,o)},AS=function(t,r){var o=R_(t,r);return o.match({ltr:function(s,l,f,d){var h=t.document.createRange();return h.setStart(s.dom,l),h.setEnd(f.dom,d),h},rtl:function(s,l,f,d){var h=t.document.createRange();return h.setStart(f.dom,d),h.setEnd(s.dom,l),h}})};wd.ltr,wd.rtl;var Zf=function(t,r){var o=function(f){if(!t(f))throw new Error("Can only get "+r+" value of a "+r+" node");return s(f).getOr("")},s=function(f){return t(f)?C.from(f.dom.nodeValue):C.none()},l=function(f,d){if(!t(f))throw new Error("Can only set raw "+r+" value of a "+r+" node");f.dom.nodeValue=d};return{get:o,getOption:s,set:l}},yp=Zf(H,"text"),N_=function(t){return yp.get(t)},DS=function(t){return yp.getOption(t)},I_=function(t){return ne(t)==="img"?1:DS(t).fold(function(){return k(t).length},function(r){return r.length})},$_=function(t){return DS(t).filter(function(r){return r.trim().length!==0||r.indexOf(p_)>-1}).isSome()},_S=["img","br"],z_=function(t){var r=$_(t);return r||Zt(_S,ne(t))},L_=function(t){return PS(t,z_)},PS=function(t,r){var o=function(s){for(var l=k(s),f=l.length-1;f>=0;f--){var d=l[f];if(r(d))return C.some(d);var h=o(d);if(h.isSome())return h}return C.none()};return o(t)},qo=function(t,r){return _f(r,t)},Jf=function(t,r,o,s){var l=si(t),f=l.dom.createRange();return f.setStart(t.dom,r),f.setEnd(o.dom,s),f},Gb=function(t,r,o,s){var l=Jf(t,r,o,s),f=_a(t,o)&&r===s;return l.collapsed&&!f},H_=function(t){return C.from(t.getSelection())},BS=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return C.some(Vb.create(Q.fromDom(r.startContainer),r.startOffset,Q.fromDom(o.endContainer),o.endOffset))}else return C.none()},FS=function(t){if(t.anchorNode===null||t.focusNode===null)return BS(t);var r=Q.fromDom(t.anchorNode),o=Q.fromDom(t.focusNode);return Gb(r,t.anchorOffset,o,t.focusOffset)?C.some(Vb.create(r,t.anchorOffset,o,t.focusOffset)):BS(t)},MS=function(t){return H_(t).filter(function(r){return r.rangeCount>0}).bind(FS)},Kb=function(t,r){var o=AS(t,r);return ES(o)},V_=function(t,r){var o=AS(t,r);return TS(o)},Tl=function(t,r){return{element:t,offset:r}},Qf=function(t,r){var o=k(t);if(o.length===0)return Tl(t,r);if(r<o.length)return Tl(o[r],0);var s=o[o.length-1],l=H(s)?N_(s).length:k(s).length;return Tl(s,l)},ng=function(t,r){return H(t)?Tl(t,r):Qf(t,r)},ev=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return MS(t)}});return o().map(function(s){var l=ng(s.start,s.soffset),f=ng(s.finish,s.foffset);return tg.range(l.element,l.offset,f.element,f.offset)})},ff=function(t,r,o){var s=Hs(r.root).dom,l=xS(t,o,r),f=ev(s,r).bind(function(p){var y=V_(s,tg.exactFromRange(p)).orThunk(function(){var S=Q.fromText(h_);co(p.start,S);var E=Kb(s,tg.exact(S,0,S,1));return Ou(S),E});return y.bind(function(S){return yd(S.left,S.top,S.width,S.height)})}),d=ev(s,r).bind(function(p){return O(p.start)?C.some(p.start):rl(p.start)}),h=d.getOr(t.element);return SS(f,l,r,o,h)},Mc=[ea("getSelection"),Nt("root"),ea("bubble"),lf(),Se("overrides",{}),Se("showAbove",!1),ga("placement",ff)],Cd="link-layout",Xb=function(t){return t.x+t.width},RS=function(t,r){return t.x-r.width},Yb=function(t,r){return t.y-r.height+t.height},xd=function(t){return t.y},Sd=function(t,r,o){return Qo(Xb(t),xd(t),o.southeast(),np(),"southeast",ei(t,{left:0,top:2}),Cd)},wp=function(t,r,o){return Qo(RS(t,r),xd(t),o.southwest(),hd(),"southwest",ei(t,{right:1,top:2}),Cd)},Zb=function(t,r,o){return Qo(Xb(t),Yb(t,r),o.northeast(),Eb(),"northeast",ei(t,{left:0,bottom:3}),Cd)},kd=function(t,r,o){return Qo(RS(t,r),Yb(t,r),o.northwest(),Tb(),"northwest",ei(t,{right:1,bottom:3}),Cd)},rg=function(){return[Sd,wp,Zb,kd]},NS=function(){return[wp,Sd,kd,Zb]},Jb=function(t,r,o){var s=Ym(o,r.item.element),l=pp(t.element,r,rg(),NS(),rg(),NS(),C.none());return C.some(gp({anchorBox:s,bubble:mp(),overrides:r.overrides,layouts:l,placer:C.none()}))},Cp=[Nt("item"),lf(),Se("overrides",{}),ga("placement",Jb)],ri=Yu("type",{selection:Mc,node:g_,hotspot:hS,submenu:Cp,makeshift:pS}),U_=[zi("classes",lo),Ju("mode","all",["all","layout","placement"])],Rc=[Se("useFixed",Ue),ea("getBounds")],IS=[vu("anchor",ri),Bu("transition",U_)],Qb=function(){var t=document.documentElement;return Nb(0,0,t.clientWidth,t.clientHeight)},Ed=function(t){var r=$i(t.element),o=t.element.dom.getBoundingClientRect();return eS(r.left,r.top,o.width,o.height)},$S=function(t,r,o,s,l,f,d){var h=tS(o.anchorBox,r);return o_(h,l.element,o.bubble,o.layouts,f,s,o.overrides,d)},xp=function(t,r,o,s,l){zS(t,r,o,s,l,C.none())},zS=function(t,r,o,s,l,f){var d=f.map(Bo);return ey(t,r,o,s,l,d)},ey=function(t,r,o,s,l,f){var d=da("placement.info",Xn(IS),l),h=d.anchor,p=s.element,y=o.get(s.uid);kl(function(){mr(p,"position","fixed");var S=Vo(p,"visibility");mr(p,"visibility","hidden");var E=r.useFixed()?Qb():Ed(t),F=h.placement,R=f.map(I).or(r.getBounds);F(t,h,E).each(function(W){var ee=W.placer.getOr($S),pe=ee(t,E,W,R,s,y,d.transition);o.set(s.uid,pe)}),S.fold(function(){la(p,"visibility")},function(W){mr(p,"visibility",W)}),Vo(p,"left").isNone()&&Vo(p,"top").isNone()&&Vo(p,"right").isNone()&&Vo(p,"bottom").isNone()&&sr(Vo(p,"position"),"fixed")&&la(p,"position")},p)},LS=function(t,r,o){return r.useFixed()?"fixed":"absolute"},W_=function(t,r,o,s){var l=s.element;Fe(["position","left","right","top","bottom"],function(f){return la(l,f)}),aS(l),o.clear(s.uid)},ty=Object.freeze({__proto__:null,position:xp,positionWithin:zS,positionWithinBounds:ey,getMode:LS,reset:W_}),ec=function(){var t={},r=function(l,f){t[l]=f},o=function(l){return it(t,l)},s=function(l){se(l)?delete t[l]:t={}};return Li({readState:function(){return t},clear:s,set:r,get:o})},j_=Object.freeze({__proto__:null,init:ec}),qi=vo({fields:Rc,name:"positioning",active:Fb,apis:ty,state:j_}),ag=function(t){Ir(t,Hm());var r=t.components();Fe(r,ag)},og=function(t){var r=t.components();Fe(r,og),Ir(t,Mu())},ny=function(t,r){li(t.element,r.element)},q_=function(t){Fe(t.components(),function(r){return Ou(r.element)}),Kv(t.element),t.syncComponents()},HS=function(t,r){var o=t.components();q_(t);var s=Fn(o,r);Fe(s,function(l){ag(l),t.getSystem().removeFromWorld(l)}),Fe(r,function(l){l.getSystem().isConnected()?ny(t,l):(t.getSystem().addToWorld(l),ny(t,l),pr(t.element)&&og(l)),t.syncComponents()})},gi=function(t,r){ig(t,r,li)},ig=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),pr(t.element)&&og(r),t.syncComponents()},ry=function(t){ag(t),Ou(t.element),t.getSystem().removeFromWorld(t)},ks=function(t){var r=Eo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});ry(t),r.each(function(o){o.syncComponents()})},Es=function(t){var r=t.components();Fe(r,ry),Kv(t.element),t.syncComponents()},Ts=function(t,r){tc(t,r,li)},uu=function(t,r){tc(t,r,Gv)},tc=function(t,r,o){o(t,r.element);var s=k(r.element);Fe(s,function(l){r.getByDom(l).each(og)})},ay=function(t){var r=k(t.element);Fe(r,function(o){t.getByDom(o).each(ag)}),Ou(t.element)},nc=function(t,r,o,s){o.get().each(function(d){Es(t)});var l=r.getAttachPoint(t);gi(l,t);var f=t.getSystem().build(s);return gi(t,f),o.set(f),f},vf=function(t,r,o,s){var l=nc(t,r,o,s);return r.onOpen(t,l),l},G_=function(t,r,o,s){return o.get().map(function(){return nc(t,r,o,s)})},K_=function(t,r,o,s,l){qS(t,r),vf(t,r,o,s),l(),oy(t,r)},VS=function(t,r,o){o.get().each(function(s){Es(t),ks(t),r.onClose(t,s),o.clear()})},US=function(t,r,o){return o.isOpen()},WS=function(t,r,o,s){return US(t,r,o)&&o.get().exists(function(l){return r.isPartOf(t,l,s)})},jS=function(t,r,o){return o.get()},X_=function(t,r,o,s){Vo(t.element,r).fold(function(){Ho(t.element,o)},function(l){Dr(t.element,o,l)}),mr(t.element,r,s)},Y_=function(t,r,o){so(t.element,o).fold(function(){return la(t.element,r)},function(s){return mr(t.element,r,s)})},qS=function(t,r,o){var s=r.getAttachPoint(t);mr(t.element,"position",qi.getMode(s)),X_(t,"visibility",r.cloakVisibilityAttr,"hidden")},Z_=function(t){return Qt(["top","left","right","bottom"],function(r){return Vo(t,r).isSome()})},oy=function(t,r,o){Z_(t.element)||la(t.element,"position"),Y_(t,"visibility",r.cloakVisibilityAttr)},GS=Object.freeze({__proto__:null,cloak:qS,decloak:oy,open:vf,openWhileCloaked:K_,close:VS,isOpen:US,isPartOf:WS,getState:jS,setContent:G_}),iy=function(t,r){return ya([It(zm(),function(o,s){VS(o,t,r)})])},KS=Object.freeze({__proto__:null,events:iy}),J_=[Fr("onOpen"),Fr("onClose"),Nt("isPartOf"),Nt("getAttachPoint"),Se("cloakVisibilityAttr","data-precloak-visibility")],Q_=function(){var t=Za(),r=I("not-implemented");return Li({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},e5=Object.freeze({__proto__:null,init:Q_}),Vr=vo({fields:J_,name:"sandboxing",active:KS,apis:GS,state:e5}),tv=I("dismiss.popups"),Td=I("reposition.popups"),hu=I("mouse.released"),t5=Pu([Se("isExtraPart",Ue),Bu("fireEventInstead",[Se("event",Ys())])]),nv=function(t){var r,o=da("Dismissal",t5,t);return r={},r[tv()]={schema:Pu([Nt("target")]),onReceive:function(s,l){if(Vr.isOpen(s)){var f=Vr.isPartOf(s,l.target)||o.isExtraPart(s,l.target);f||o.fireEventInstead.fold(function(){return Vr.close(s)},function(d){return Ir(s,d.event)})}}},r},Od=Pu([Bu("fireEventInstead",[Se("event",Oi())]),Ti("doReposition")]),ug=function(t){var r,o=da("Reposition",Od,t);return r={},r[Td()]={onReceive:function(s){Vr.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(l){return Ir(s,l.event)})}},r},Ad=function(t,r,o){r.store.manager.onLoad(t,r,o)},XS=function(t,r,o){r.store.manager.onUnload(t,r,o)},YS=function(t,r,o,s){r.store.manager.setValue(t,r,o,s)},uy=function(t,r,o){return r.store.manager.getValue(t,r,o)},sy=function(t,r,o){return o},Dd=Object.freeze({__proto__:null,onLoad:Ad,onUnload:XS,setValue:YS,getValue:uy,getState:sy}),cy=function(t,r){var o=t.resetOnDom?[Ka(function(s,l){Ad(s,t,r)}),Ru(function(s,l){XS(s,t,r)})]:[Pb(t,r,Ad)];return ya(o)},n5=Object.freeze({__proto__:null,events:cy}),Nc=function(){var t=Qn(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Li({set:t.set,get:t.get,isNotSet:o,clear:s,readState:r})},ly=function(){var t=ve;return Li({readState:t})},Sp=function(){var t=Qn({}),r=Qn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},s=function(){t.set({}),r.set({})},l=function(d){return it(t.get(),d).orThunk(function(){return it(r.get(),d)})},f=function(d){var h=t.get(),p=r.get(),y={},S={};Fe(d,function(E){y[E.value]=E,it(E,"meta").each(function(F){it(F,"text").each(function(R){S[R]=E})})}),t.set($($({},h),y)),r.set($($({},p),S))};return Li({readState:o,lookup:l,update:f,clear:s})},kp=function(t){return t.store.manager.state(t)},ZS=Object.freeze({__proto__:null,memory:Nc,dataset:Sp,manual:ly,init:kp}),sg=function(t,r,o,s){var l=r.store;o.update([s]),l.setValue(t,s),r.onSetValue(t,s)},r5=function(t,r,o){var s=r.store,l=s.getDataKey(t);return o.lookup(l).getOrThunk(function(){return s.getFallbackEntry(l)})},a5=function(t,r,o){var s=r.store;s.initialValue.each(function(l){sg(t,r,o,l)})},Ic=function(t,r,o){o.clear()},Iu=[ea("initialValue"),Nt("getFallbackEntry"),Nt("getDataKey"),Nt("setValue"),ga("manager",{setValue:sg,getValue:r5,onLoad:a5,onUnload:Ic,state:Sp})],ai=function(t,r,o){return r.store.getValue(t)},o5=function(t,r,o,s){r.store.setValue(t,s),r.onSetValue(t,s)},fy=function(t,r,o){r.store.initialValue.each(function(s){r.store.setValue(t,s)})},_d=[Nt("getValue"),Se("setValue",ve),ea("initialValue"),ga("manager",{setValue:o5,getValue:ai,onLoad:fy,onUnload:ve,state:Cs.init})],JS=function(t,r,o,s){o.set(s),r.onSetValue(t,s)},QS=function(t,r,o){return o.get()},i5=function(t,r,o){r.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},u5=function(t,r,o){o.clear()},ek=[ea("initialValue"),ga("manager",{setValue:JS,getValue:QS,onLoad:i5,onUnload:u5,state:Nc})],tk=[mu("store",{mode:"memory"},Yu("mode",{memory:ek,manual:_d,dataset:Iu})),Fr("onSetValue"),Se("resetOnDom",!1)],xn=vo({fields:tk,name:"representing",active:n5,apis:Dd,extra:{setValueFrom:function(t,r){var o=xn.getValue(r);xn.setValue(t,o)}},state:ZS}),Mo=function(t,r){return W0(t,{},dt(r,function(o){return ad(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([nu("dump",je)]))},cg=function(t){return t.dump},Ro=function(t,r){return $($({},fn(r)),t.dump)},is={field:Mo,augment:Ro,get:cg},vy="placeholder",rv=es.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ep=function(t){return Ut(t,"uiType")},Pd=function(t,r,o,s){return t.exists(function(l){return l!==o.owner})?rv.single(!0,I(o)):it(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Ye(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(l){return l.replace()})},lg=function(t,r,o,s){return Ep(o)&&o.uiType===vy?Pd(t,r,o,s):rv.single(!1,I(o))},Tp=function(t,r,o,s){var l=lg(t,r,o,s);return l.fold(function(f,d){var h=Ep(o)?d(r,o.config,o.validated):d(r),p=it(h,"components").getOr([]),y=vt(p,function(S){return Tp(t,r,S,s)});return[$($({},h),{components:y})]},function(f,d){if(Ep(o)){var h=d(r,o.config,o.validated),p=o.validated.preprocess.getOr(je);return p(h)}else return d(r)})},s5=function(t,r,o,s){return vt(o,function(l){return Tp(t,r,l,s)})},c5=function(t,r){var o=!1,s=function(){return o},l=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},f=function(){return r.fold(function(d,h){return d},function(d,h){return d})};return{name:I(t),required:f,used:s,replace:l}},l5=function(t,r,o,s){var l=Jt(s,function(d,h){return c5(h,d)}),f=s5(t,r,o,l);return dn(l,function(d){if(d.used()===!1&&d.required())throw new Error("Placeholder: "+d.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),f},nk=rv.single,rk=rv.multiple,av=I(vy),df=es.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Op=Se("factory",{sketch:je}),dy=Se("schema",[]),fg=Nt("name"),vg=Fo("pname","pname",Gr(function(t){return"<alloy."+Bn(t.name)+">"}),js()),my=nu("schema",function(){return[ea("preprocess")]}),Bd=Se("defaults",I({})),ov=Se("overrides",I({})),gy=Xn([Op,dy,fg,vg,Bd,ov]),hy=Xn([Op,dy,fg,Bd,ov]),f5=Xn([Op,dy,fg,vg,Bd,ov]),v5=Xn([Op,my,fg,Nt("unit"),vg,Bd,ov]),Ap=function(t){return t.fold(C.some,C.none,C.some,C.some)},ak=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},d5=function(t){return t.fold(je,je,je,je)},Dp=function(t,r){return function(o){var s=da("Converting part type",r,o);return t(s)}},oi=Dp(df.required,gy),Os=Dp(df.external,hy),rc=Dp(df.optional,f5),dg=Dp(df.group,v5),iv=I("entirety"),Fd=Object.freeze({__proto__:null,required:oi,external:Os,optional:rc,group:dg,asNamedPart:Ap,name:ak,asCommon:d5,original:iv}),mg=function(t,r,o,s){return wt(r.defaults(t,o,s),o,{uid:t.partUids[r.name]},r.overrides(t,o,s))},m5=function(t,r,o){var s={},l={};return Fe(o,function(f){f.fold(function(d){s[d.pname]=nk(!0,function(h,p,y){return d.factory.sketch(mg(h,d,p,y))})},function(d){var h=r.parts[d.name];l[d.name]=I(d.factory.sketch(mg(r,d,h[iv()]),h))},function(d){s[d.pname]=nk(!1,function(h,p,y){return d.factory.sketch(mg(h,d,p,y))})},function(d){s[d.pname]=rk(!0,function(h,p,y){var S=h[d.name];return dt(S,function(E){return d.factory.sketch(wt(d.defaults(h,E,y),E,d.overrides(h,E)))})})})}),{internals:I(s),externals:I(l)}},py=function(t,r){var o={};return Fe(r,function(s){Ap(s).each(function(l){var f=g5(t,l.pname);o[l.name]=function(d){var h=da("Part: "+l.name+" in "+t,Xn(l.schema),d);return $($({},f),{config:d,validated:h})}})}),o},g5=function(t,r){return{uiType:av(),owner:t,name:r}},by=function(t,r,o){return{uiType:av(),owner:t,name:r,config:o,validated:{}}},ok=function(t){return vt(t,function(r){return r.fold(C.none,C.some,C.none,C.none).map(function(o){return gl(o.name,o.schema.concat([kb(iv())]))}).toArray()})},ik=function(t){return dt(t,ak)},yy=function(t,r,o){return m5(t,r,o)},wy=function(t,r,o){return l5(C.some(t),r,r.components,o)},va=function(t,r,o){var s=r.partUids[o];return t.getSystem().getByUid(s).toOptional()},$c=function(t,r,o){return va(t,r,o).getOrDie("Could not find part: "+o)},uk=function(t,r,o){var s={},l=r.partUids,f=t.getSystem();return Fe(o,function(d){s[d]=I(f.getByUid(l[d]))}),s},Cy=function(t,r){var o=t.getSystem();return Jt(r.partUids,function(s,l){return I(o.getByUid(s))})},xy=function(t){return Ye(t.partUids)},gg=function(t,r,o){var s={},l=r.partUids,f=t.getSystem();return Fe(o,function(d){s[d]=I(f.getByUid(l[d]).getOrDie())}),s},ar=function(t,r){var o=ik(r);return $f(dt(o,function(s){return{key:s,value:t+"-"+s}}))},Sy=function(t){return Fo("partUids","partUids",Ei(function(r){return ar(r.uid,t)}),js())},sk=Object.freeze({__proto__:null,generate:py,generateOne:by,schemas:ok,names:ik,substitutes:yy,components:wy,defaultUids:ar,defaultUidsSchema:Sy,getAllParts:Cy,getAllPartNames:xy,getPart:va,getPartOrDie:$c,getParts:uk,getPartsOrDie:gg}),h5=function(t,r){var o=t.length>0?[gl("parts",t)]:[];return o.concat([Nt("uid"),Se("dom",{}),Se("components",[]),kb("originalSpec"),Se("debug.sketcher",{})]).concat(r)},ck=function(t,r,o,s,l){var f=h5(s,l);return da(t+" [SpecSchema]",Pu(f.concat(r)),o)},p5=function(t,r,o,s){var l=_p(s),f=ck(t,r,l,[],[]);return o(f,l)},ky=function(t,r,o,s,l){var f=_p(l),d=ok(o),h=Sy(o),p=ck(t,r,f,d,[h]),y=yy(t,p,o),S=wy(t,p,y.internals());return s(p,S,f,y.externals())},Ey=function(t){return Ut(t,"uid")},_p=function(t){return Ey(t)?t:$($({},t),{uid:Lf("uid")})},b5=function(t){return t.uid!==void 0},lk=Pu([Nt("name"),Nt("factory"),Nt("configFields"),Se("apis",{}),Se("extraApis",{})]),y5=Pu([Nt("name"),Nt("factory"),Nt("configFields"),Nt("partFields"),Se("apis",{}),Se("extraApis",{})]),pu=function(t){var r=da("Sketcher for "+t.name,lk,t),o=function(f){return p5(r.name,r.configFields,r.factory,f)},s=Jt(r.apis,Gm),l=Jt(r.extraApis,function(f,d){return Wh(f,d)});return $($({name:r.name,configFields:r.configFields,sketch:o},s),l)},Gi=function(t){var r=da("Sketcher for "+t.name,y5,t),o=function(d){return ky(r.name,r.configFields,r.partFields,r.factory,d)},s=py(r.name,r.partFields),l=Jt(r.apis,Gm),f=Jt(r.extraApis,function(d,h){return Wh(d,h)});return $($({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:s},l),f)},Md=function(t){return ne(t)==="input"&&Ma(t,"type")!=="radio"||ne(t)==="textarea"},fk=function(t,r,o){return r.find(t)},w5=Object.freeze({__proto__:null,getCurrent:fk}),C5=[Nt("find")],$r=vo({fields:C5,name:"composing",apis:w5}),vk=["input","button","textarea","select"],hg=function(t,r,o){var s=r.disabled()?Ty:Oy;s(t,r)},Rd=function(t,r){return r.useNative===!0&&Zt(vk,ne(t.element))},Pp=function(t){return Eh(t.element,"disabled")},pg=function(t){Dr(t.element,"disabled","disabled")},x5=function(t){Ho(t.element,"disabled")},S5=function(t){return Ma(t.element,"aria-disabled")==="true"},k5=function(t){Dr(t.element,"aria-disabled","true")},dk=function(t){Dr(t.element,"aria-disabled","false")},Ty=function(t,r,o){r.disableClass.each(function(l){Wo(t.element,l)});var s=Rd(t,r)?pg:k5;s(t),r.onDisabled(t)},Oy=function(t,r,o){r.disableClass.each(function(l){wo(t.element,l)});var s=Rd(t,r)?x5:dk;s(t),r.onEnabled(t)},mk=function(t,r){return Rd(t,r)?Pp(t):S5(t)},E5=function(t,r,o,s){var l=s?Ty:Oy;l(t,r)},T5=Object.freeze({__proto__:null,enable:Oy,disable:Ty,isDisabled:mk,onLoad:hg,set:E5}),Ay=function(t,r){return xs({classes:r.disabled()?r.disableClass.toArray():[]})},O5=function(t,r){return ya([kx(Fu(),function(o,s){return mk(o,t)}),Pb(t,r,hg)])},A5=Object.freeze({__proto__:null,exhibit:Ay,events:O5}),D5=[ba("disabled",Ue),Se("useNative",!0),ea("disableClass"),Fr("onDisabled"),Fr("onEnabled")],Yn=vo({fields:D5,name:"disabling",active:A5,apis:T5}),gk=function(t,r,o,s){var l=qo(t.element,"."+r.highlightClass);Fe(l,function(f){Qt(s,function(d){return d.element===f})||(wo(f,r.highlightClass),t.getSystem().getByDom(f).each(function(d){r.onDehighlight(t,d),Ir(d,Vm())}))})},_5=function(t,r,o){return gk(t,r,o,[])},hk=function(t,r,o,s){Bp(t,r,o,s)&&(wo(s.element,r.highlightClass),r.onDehighlight(t,s),Ir(s,Vm()))},Nd=function(t,r,o,s){gk(t,r,o,[s]),Bp(t,r,o,s)||(Wo(s.element,r.highlightClass),r.onHighlight(t,s),Ir(s,xx()))},P5=function(t,r,o){wk(t,r).each(function(s){Nd(t,r,o,s)})},pk=function(t,r,o){Ck(t,r).each(function(s){Nd(t,r,o,s)})},B5=function(t,r,o,s){yk(t,r,o,s).fold(function(l){throw l},function(l){Nd(t,r,o,l)})},Dy=function(t,r,o,s){var l=Id(t,r),f=pt(l,s);f.each(function(d){Nd(t,r,o,d)})},Bp=function(t,r,o,s){return Vi(s.element,r.highlightClass)},bk=function(t,r,o){return Co(t.element,"."+r.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},yk=function(t,r,o,s){var l=qo(t.element,"."+r.itemClass);return C.from(l[s]).fold(function(){return Or.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},wk=function(t,r,o){return Co(t.element,"."+r.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},Ck=function(t,r,o){var s=qo(t.element,"."+r.itemClass),l=s.length>0?C.some(s[s.length-1]):C.none();return l.bind(function(f){return t.getSystem().getByDom(f).toOptional()})},xk=function(t,r,o,s){var l=qo(t.element,"."+r.itemClass),f=$n(l,function(d){return Vi(d,r.highlightClass)});return f.bind(function(d){var h=Bc(d,s,0,l.length-1);return t.getSystem().getByDom(l[h]).toOptional()})},F5=function(t,r,o){return xk(t,r,o,-1)},M5=function(t,r,o){return xk(t,r,o,1)},Id=function(t,r,o){var s=qo(t.element,"."+r.itemClass);return Cr(dt(s,function(l){return t.getSystem().getByDom(l).toOptional()}))},R5=Object.freeze({__proto__:null,dehighlightAll:_5,dehighlight:hk,highlight:Nd,highlightFirst:P5,highlightLast:pk,highlightAt:B5,highlightBy:Dy,isHighlighted:Bp,getHighlighted:bk,getFirst:wk,getLast:Ck,getPrevious:F5,getNext:M5,getCandidates:Id}),N5=[Nt("highlightClass"),Nt("itemClass"),Fr("onHighlight"),Fr("onDehighlight")],Qr=vo({fields:N5,name:"highlighting",apis:R5}),_y=[8],mf=[9],zc=[13],Fp=[27],Ki=[32],Mp=[37],bg=[38],Rp=[39],$d=[40],I5=function(t,r,o){var s=En(t.slice(0,r)),l=En(t.slice(r+1));return pt(s.concat(l),o)},$5=function(t,r,o){var s=En(t.slice(0,r));return pt(s,o)},Np=function(t,r,o){var s=t.slice(0,r),l=t.slice(r+1);return pt(l.concat(s),o)},z5=function(t,r,o){var s=t.slice(r+1);return pt(s,o)},Lr=function(t){return function(r){var o=r.raw;return Zt(t,o.which)}},ac=function(t){return function(r){return ln(t,function(o){return o(r)})}},zd=function(t){var r=t.raw;return r.shiftKey===!0},L5=function(t){var r=t.raw;return r.ctrlKey===!0},yg=et(zd),jr=function(t,r){return{matches:t,classification:r}},Sk=function(t,r){var o=pt(t,function(s){return s.matches(r)});return o.map(function(s){return s.classification})},kk=function(t,r,o){var s=r.exists(function(l){return o.exists(function(f){return _a(f,l)})});s||er(t,$h(),{prevFocus:r,newFocus:o})},wg=function(){var t=function(o){return Ss(o.element)},r=function(o,s){var l=t(o);o.getSystem().triggerFocus(s,o.element);var f=t(o);kk(o,l,f)};return{get:t,set:r}},Ek=function(){var t=function(o){return Qr.getHighlighted(o).map(function(s){return s.element})},r=function(o,s){var l=t(o);o.getSystem().getByDom(s).fold(ve,function(d){Qr.highlight(o,d)});var f=t(o);kk(o,l,f)};return{get:t,set:r}},Cg;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Cg||(Cg={}));var Ol=function(t,r,o,s,l){var f=function(){return t.concat([Se("focusManager",wg()),mu("focusInside","onFocus",rd(function(y){return Zt(["onFocus","onEnterOrSpace","onApi"],y)?Or.value(y):Or.error("Invalid value for focusInside")})),ga("handler",p),ga("state",r),ga("sendFocusIn",l)])},d=function(y,S,E,F,R){var W=E(y,S,F,R);return Sk(W,S.event).bind(function(ee){return ee(y,S,F,R)})},h=function(y,S){var E=y.focusInside!==Cg.OnFocusMode?C.none():l(y).map(function(W){return It(Xl(),function(ee,pe){W(ee,y,S),pe.stop()})}),F=function(W,ee){var pe=Lr(Ki.concat(zc))(ee.event);y.focusInside===Cg.OnEnterOrSpaceMode&&pe&&bx(W,ee)&&l(y).each(function(K){K(W,y,S),ee.stop()})},R=[It(Nh(),function(W,ee){d(W,ee,o,y,S).fold(function(){F(W,ee)},function(pe){ee.stop()})}),It(wx(),function(W,ee){d(W,ee,s,y,S).each(function(pe){ee.stop()})})];return ya(E.toArray().concat(R))},p={schema:f,processKey:d,toEvents:h};return p},Py=function(t){var r=[ea("onEscape"),ea("onEnter"),Se("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Se("firstTabstop",0),Se("useTabstopAt",Ee),ea("visibilitySelector")].concat([t]),o=function(ee,pe){var K=ee.visibilitySelector.bind(function(Ce){return ru(pe,Ce)}).getOr(pe);return To(K)>0},s=function(ee,pe){var K=qo(ee.element,pe.selector),Ce=De(K,function(mt){return o(pe,mt)});return C.from(Ce[pe.firstTabstop])},l=function(ee,pe){return pe.focusManager.get(ee).bind(function(K){return ru(K,pe.selector)})},f=function(ee,pe){return o(ee,pe)&&ee.useTabstopAt(pe)},d=function(ee,pe,K){s(ee,pe).each(function(Ce){pe.focusManager.set(ee,Ce)})},h=function(ee,pe,K,Ce,mt){return mt(pe,K,function(bt){return f(Ce,bt)}).fold(function(){return Ce.cyclic?C.some(!0):C.none()},function(bt){return Ce.focusManager.set(ee,bt),C.some(!0)})},p=function(ee,pe,K,Ce){var mt=qo(ee.element,K.selector);return l(ee,K).bind(function(bt){var ye=$n(mt,St(_a,bt));return ye.bind(function(tt){return h(ee,mt,tt,K,Ce)})})},y=function(ee,pe,K){var Ce=K.cyclic?I5:$5;return p(ee,pe,K,Ce)},S=function(ee,pe,K){var Ce=K.cyclic?Np:z5;return p(ee,pe,K,Ce)},E=function(ee,pe,K){return K.onEnter.bind(function(Ce){return Ce(ee,pe)})},F=function(ee,pe,K){return K.onEscape.bind(function(Ce){return Ce(ee,pe)})},R=I([jr(ac([zd,Lr(mf)]),y),jr(Lr(mf),S),jr(Lr(Fp),F),jr(ac([yg,Lr(zc)]),E)]),W=I([]);return Ol(r,Cs.init,R,W,function(){return C.some(d)})},Tk=Py(nu("cyclic",Ue)),H5=Py(nu("cyclic",Ee)),V5=function(t,r,o){return ob(t,o,Fu()),C.some(!0)},xg=function(t,r,o){var s=Md(o)&&Lr(Ki)(r.event);return s?C.none():V5(t,r,o)},Ld=function(t,r){return C.some(!0)},Ip=[Se("execute",xg),Se("useSpace",!1),Se("useEnter",!0),Se("useControlEnter",!1),Se("useDown",!1)],Ok=function(t,r,o){return o.execute(t,r,t.element)},By=function(t,r,o,s){var l=o.useSpace&&!Md(t.element)?Ki:[],f=o.useEnter?zc:[],d=o.useDown?$d:[],h=l.concat(f).concat(d);return[jr(Lr(h),Ok)].concat(o.useControlEnter?[jr(ac([L5,Lr(zc)]),Ok)]:[])},U5=function(t,r,o,s){return o.useSpace&&!Md(t.element)?[jr(Lr(Ki),Ld)]:[]},W5=Ol(Ip,Cs.init,By,U5,function(){return C.none()}),Fy=function(){var t=Za(),r=function(l,f){t.set({numRows:l,numColumns:f})},o=function(){return t.get().map(function(l){return l.numRows})},s=function(){return t.get().map(function(l){return l.numColumns})};return Li({readState:function(){return t.get().map(function(l){return{numRows:String(l.numRows),numColumns:String(l.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:s})},j5=function(t){return t.state(t)},q5=Object.freeze({__proto__:null,flatgrid:Fy,init:j5}),Ak=function(t){return function(r,o,s,l){var f=t(r.element);return Hd(f,r,o,s,l)}},My=function(t,r){var o=hp(t,r);return Ak(o)},Ry=function(t,r){var o=hp(r,t);return Ak(o)},Ny=function(t){return function(r,o,s,l){return Hd(t,r,o,s,l)}},Hd=function(t,r,o,s,l){var f=s.focusManager.get(r).bind(function(d){return t(r.element,d,s,l)});return f.map(function(d){return s.focusManager.set(r,d),!0})},$p=Ny,Dk=Ny,zp=Ny,Lp=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},_k=function(t){return!Lp(t.dom)},G5=function(t,r){return $n(t,r).map(function(o){return{index:o,candidates:t}})},Pk=function(t,r,o){var s=function(d){return _a(d,r)},l=qo(t,o),f=De(l,_k);return G5(f,s)},Bk=function(t,r){return $n(t,function(o){return _a(r,o)})},Fk=function(t,r,o,s){var l=Math.floor(r/o),f=r%o;return s(l,f).bind(function(d){var h=d.row*o+d.column;return h>=0&&h<t.length?C.some(t[h]):C.none()})},Mk=function(t,r,o,s,l){return Fk(t,r,s,function(f,d){var h=f===o-1,p=h?t.length-f*s:s,y=Bc(d,l,0,p-1);return C.some({row:f,column:y})})},Rk=function(t,r,o,s,l){return Fk(t,r,s,function(f,d){var h=Bc(f,l,0,o-1),p=h===o-1,y=p?t.length-h*s:s,S=ou(d,0,y-1);return C.some({row:h,column:S})})},Nk=function(t,r,o,s){return Mk(t,r,o,s,1)},Iy=function(t,r,o,s){return Mk(t,r,o,s,-1)},K5=function(t,r,o,s){return Rk(t,r,o,s,-1)},X5=function(t,r,o,s){return Rk(t,r,o,s,1)},Y5=[Nt("selector"),Se("execute",xg),Xa("onEscape"),Se("captureTab",!1),ep()],Z5=function(t,r,o){Co(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},uv=function(t,r){return r.focusManager.get(t).bind(function(o){return ru(o,r.selector)})},J5=function(t,r,o,s){return uv(t,o).bind(function(l){return o.execute(t,r,l)})},Hp=function(t){return function(r,o,s,l){return Pk(r,o,s.selector).bind(function(f){return t(f.candidates,f.index,l.getNumRows().getOr(s.initSize.numRows),l.getNumColumns().getOr(s.initSize.numColumns))})}},Vp=function(t,r,o){return o.captureTab?C.some(!0):C.none()},Q5=function(t,r,o){return o.onEscape(t,r)},$y=Hp(Iy),zy=Hp(Nk),Ik=Hp(K5),$k=Hp(X5),eP=I([jr(Lr(Mp),My($y,zy)),jr(Lr(Rp),Ry($y,zy)),jr(Lr(bg),$p(Ik)),jr(Lr($d),Dk($k)),jr(ac([zd,Lr(mf)]),Vp),jr(ac([yg,Lr(mf)]),Vp),jr(Lr(Fp),Q5),jr(Lr(Ki.concat(zc)),J5)]),tP=I([jr(Lr(Ki),Ld)]),nP=Ol(Y5,Fy,eP,tP,function(){return C.some(Z5)}),Vd=function(t,r,o,s){var l=function(d){return ne(d)==="button"&&Ma(d,"disabled")==="disabled"},f=function(d,h,p){var y=Bc(h,s,0,p.length-1);return y===d?C.none():l(p[y])?f(d,y,p):C.from(p[y])};return Pk(t,o,r).bind(function(d){var h=d.index,p=d.candidates;return f(h,h,p)})},rP=[Nt("selector"),Se("getInitial",C.none),Se("execute",xg),Xa("onEscape"),Se("executeOnMove",!1),Se("allowVertical",!0)],Up=function(t,r){return r.focusManager.get(t).bind(function(o){return ru(o,r.selector)})},Ly=function(t,r,o){return Up(t,o).bind(function(s){return o.execute(t,r,s)})},zk=function(t,r,o){r.getInitial(t).orThunk(function(){return Co(t.element,r.selector)}).each(function(s){r.focusManager.set(t,s)})},us=function(t,r,o){return Vd(t,o.selector,r,-1)},Lk=function(t,r,o){return Vd(t,o.selector,r,1)},Wp=function(t){return function(r,o,s,l){return t(r,o,s,l).bind(function(){return s.executeOnMove?Ly(r,o,s):C.some(!0)})}},aP=function(t,r,o){return o.onEscape(t,r)},Hk=function(t,r,o,s){var l=Mp.concat(o.allowVertical?bg:[]),f=Rp.concat(o.allowVertical?$d:[]);return[jr(Lr(l),Wp(My(us,Lk))),jr(Lr(f),Wp(Ry(us,Lk))),jr(Lr(zc),Ly),jr(Lr(Ki),Ly),jr(Lr(Fp),aP)]},oP=I([jr(Lr(Ki),Ld)]),iP=Ol(rP,Cs.init,Hk,oP,function(){return C.some(zk)}),jp=function(t,r,o){return C.from(t[r]).bind(function(s){return C.from(s[o]).map(function(l){return{rowIndex:r,columnIndex:o,cell:l}})})},Vk=function(t,r,o,s){var l=t[r],f=l.length,d=Bc(o,s,0,f-1);return jp(t,r,d)},Uk=function(t,r,o,s){var l=Bc(o,s,0,t.length-1),f=t[l].length,d=ou(r,0,f-1);return jp(t,l,d)},Wk=function(t,r,o,s){var l=t[r],f=l.length,d=ou(o+s,0,f-1);return jp(t,r,d)},Al=function(t,r,o,s){var l=ou(o+s,0,t.length-1),f=t[l].length,d=ou(r,0,f-1);return jp(t,l,d)},uP=function(t,r,o){return Vk(t,r,o,1)},sP=function(t,r,o){return Vk(t,r,o,-1)},Hy=function(t,r,o){return Uk(t,o,r,-1)},cP=function(t,r,o){return Uk(t,o,r,1)},Vy=function(t,r,o){return Wk(t,r,o,-1)},lP=function(t,r,o){return Wk(t,r,o,1)},qp=function(t,r,o){return Al(t,o,r,-1)},fP=function(t,r,o){return Al(t,o,r,1)},jk=[gl("selectors",[Nt("row"),Nt("cell")]),Se("cycles",!0),Se("previousSelector",C.none),Se("execute",xg)],vP=function(t,r,o){var s=r.previousSelector(t).orThunk(function(){var l=r.selectors;return Co(t.element,l.cell)});s.each(function(l){r.focusManager.set(t,l)})},dP=function(t,r,o){return Ss(t.element).bind(function(s){return o.execute(t,r,s)})},mP=function(t,r){return dt(t,function(o){return qo(o,r.selectors.cell)})},Gp=function(t,r){return function(o,s,l){var f=l.cycles?t:r;return ru(s,l.selectors.row).bind(function(d){var h=qo(d,l.selectors.cell);return Bk(h,s).bind(function(p){var y=qo(o,l.selectors.row);return Bk(y,d).bind(function(S){var E=mP(y,l);return f(E,S,p).map(function(F){return F.cell})})})})}},qk=Gp(sP,Vy),Gk=Gp(uP,lP),Kk=Gp(Hy,qp),Xk=Gp(cP,fP),Yk=I([jr(Lr(Mp),My(qk,Gk)),jr(Lr(Rp),Ry(qk,Gk)),jr(Lr(bg),$p(Kk)),jr(Lr($d),Dk(Xk)),jr(Lr(Ki.concat(zc)),dP)]),Ud=I([jr(Lr(Ki),Ld)]),Zk=Ol(jk,Cs.init,Yk,Ud,function(){return C.some(vP)}),Jk=[Nt("selector"),Se("execute",xg),Se("moveOnTab",!1)],Kp=function(t,r,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,r,s)})},gP=function(t,r,o){Co(t.element,r.selector).each(function(s){r.focusManager.set(t,s)})},Qk=function(t,r,o){return Vd(t,o.selector,r,-1)},e3=function(t,r,o){return Vd(t,o.selector,r,1)},hP=function(t,r,o,s){return o.moveOnTab?zp(Qk)(t,r,o,s):C.none()},t3=function(t,r,o,s){return o.moveOnTab?zp(e3)(t,r,o,s):C.none()},Uy=I([jr(Lr(bg),zp(Qk)),jr(Lr($d),zp(e3)),jr(ac([zd,Lr(mf)]),hP),jr(ac([yg,Lr(mf)]),t3),jr(Lr(zc),Kp),jr(Lr(Ki),Kp)]),Wy=I([jr(Lr(Ki),Ld)]),pP=Ol(Jk,Cs.init,Uy,Wy,function(){return C.some(gP)}),gf=[Xa("onSpace"),Xa("onEnter"),Xa("onShiftEnter"),Xa("onLeft"),Xa("onRight"),Xa("onTab"),Xa("onShiftTab"),Xa("onUp"),Xa("onDown"),Xa("onEscape"),Se("stopSpaceKeyup",!1),ea("focusIn")],n3=function(t,r,o){return[jr(Lr(Ki),o.onSpace),jr(ac([yg,Lr(zc)]),o.onEnter),jr(ac([zd,Lr(zc)]),o.onShiftEnter),jr(ac([zd,Lr(mf)]),o.onShiftTab),jr(ac([yg,Lr(mf)]),o.onTab),jr(Lr(bg),o.onUp),jr(Lr($d),o.onDown),jr(Lr(Mp),o.onLeft),jr(Lr(Rp),o.onRight),jr(Lr(Ki),o.onSpace),jr(Lr(Fp),o.onEscape)]},r3=function(t,r,o){return o.stopSpaceKeyup?[jr(Lr(Ki),Ld)]:[]},bP=Ol(gf,Cs.init,n3,r3,function(t){return t.focusIn}),yP=Tk.schema(),Wd=H5.schema(),jd=iP.schema(),a3=nP.schema(),o3=Zk.schema(),hf=W5.schema(),pf=pP.schema(),wP=bP.schema(),CP=Object.freeze({__proto__:null,acyclic:yP,cyclic:Wd,flow:jd,flatgrid:a3,matrix:o3,execution:hf,menu:pf,special:wP}),sv=function(t){return Pn(t,"setGridSize")},tr=pd({branchKey:"mode",branches:CP,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,r,o)})},setGridSize:function(t,r,o,s,l){sv(o)?o.setGridSize(s,l):console.error("Layout does not support setGridSize")}},state:q5}),xP=function(t,r,o,s){kl(function(){var l=dt(s,t.getSystem().build);HS(t,l)},t.element)},jy=function(t,r,o,s){var l=t.getSystem().build(s);ig(t,l,o)},i3=function(t,r,o,s){jy(t,r,li,s)},Dl=function(t,r,o,s){jy(t,r,Bf,s)},Xp=function(t,r,o,s){var l=Sg(t),f=pt(l,function(d){return _a(s.element,d.element)});f.each(ks)},Sg=function(t,r){return t.components()},qy=function(t,r,o,s,l){var f=Sg(t);return C.from(f[s]).map(function(d){return Xp(t,r,o,d),l.each(function(h){jy(t,r,function(p,y){ll(p,y,s)},h)}),d})},u3=function(t,r,o,s,l){var f=Sg(t);return $n(f,s).bind(function(d){return qy(t,r,o,d,l)})},Gy=Object.freeze({__proto__:null,append:i3,prepend:Dl,remove:Xp,replaceAt:qy,replaceBy:u3,set:xP,contents:Sg}),yr=vo({fields:[],name:"replacing",apis:Gy}),SP=function(t,r){var o=ya(r);return vo({fields:[Nt("enabled")],name:t,active:{events:I(o)}})},Ar=function(t,r){var o=SP(t,r);return{key:t,value:{config:{},me:o,configAsRaw:I({}),initialConfig:{},state:Cs}}},s3=function(t,r){r.ignore||(Fc(t.element),r.onFocus(t))},Yp=function(t,r){r.ignore||Mb(t.element)},Ky=function(t){return Yx(t.element)},Xy=Object.freeze({__proto__:null,focus:s3,blur:Yp,isFocused:Ky}),kP=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return xs(o)},EP=function(t){return ya([It(Xl(),function(r,o){s3(r,t),o.stop()})].concat(t.stopMousedown?[It(ws(),function(r,o){o.event.prevent()})]:[]))},c3=Object.freeze({__proto__:null,exhibit:kP,events:EP}),l3=[Fr("onFocus"),Se("stopMousedown",!1),Se("ignore",!1)],fr=vo({fields:l3,name:"focusing",active:c3,apis:Xy}),f3=function(t){var r=function(){var o=Qn(t),s=function(){return o.get()},l=function(h){return o.set(h)},f=function(){return o.set(t)},d=function(){return o.get()};return{get:s,set:l,clear:f,readState:d}};return{init:r}},v3=function(t,r,o){var s=r.aria;s.update(t,s,o.get())},Zp=function(t,r,o){r.toggleClass.each(function(s){o.get()?Wo(t.element,s):wo(t.element,s)})},d3=function(t,r,o){Yy(t,r,o,!o.get())},m3=function(t,r,o){o.set(!0),Zp(t,r,o),v3(t,r,o)},g3=function(t,r,o){o.set(!1),Zp(t,r,o),v3(t,r,o)},Yy=function(t,r,o,s){var l=s?m3:g3;l(t,r,o)},Jp=function(t,r,o){return o.get()},h3=function(t,r,o){Yy(t,r,o,r.selected)},Qp=Object.freeze({__proto__:null,onLoad:h3,toggle:d3,isOn:Jp,on:m3,off:g3,set:Yy}),p3=function(){return xs({})},b3=function(t,r){var o=LD(t,r,d3),s=Pb(t,r,h3);return ya(le([t.toggleOnExecute?[o]:[],[s]]))},TP=Object.freeze({__proto__:null,exhibit:p3,events:b3}),OP=function(t,r,o){Dr(t.element,"aria-pressed",o),r.syncWithExpanded&&y3(t,r,o)},AP=function(t,r,o){Dr(t.element,"aria-selected",o)},DP=function(t,r,o){Dr(t.element,"aria-checked",o)},y3=function(t,r,o){Dr(t.element,"aria-expanded",o)},_P=[Se("selected",!1),ea("toggleClass"),Se("toggleOnExecute",!0),mu("aria",{mode:"none"},Yu("mode",{pressed:[Se("syncWithExpanded",!1),ga("update",OP)],checked:[ga("update",DP)],expanded:[ga("update",y3)],selected:[ga("update",AP)],none:[ga("update",ve)]}))],Ur=vo({fields:_P,name:"toggling",active:TP,apis:Qp,state:f3(!1)}),w3=function(){var t=function(r,o){o.stop(),pl(r)};return[It(Nm(),t),It(cd(),t),ro(hl()),ro(ws())]},kg=function(t){var r=function(o){return Ec(function(s,l){o(s),l.stop()})};return ya(le([t.map(r).toArray(),w3()]))},Eg="alloy.item-hover",e1="alloy.item-focus",t1=function(t){(Ss(t.element).isNone()||fr.isFocused(t))&&(fr.isFocused(t)||fr.focus(t),er(t,Eg,{item:t}))},C3=function(t){er(t,e1,{item:t})},x3=I(Eg),PP=I(e1),BP=function(t){return{dom:t.dom,domModification:$($({},t.domModification),{attributes:$($($({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:is.augment(t.itemBehaviours,[t.toggling.fold(Ur.revoke,function(r){return Ur.config($({aria:{mode:"checked"}},r))}),fr.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){C3(r)}}),tr.config({mode:"execution"}),xn.config({store:{mode:"memory",initialValue:t.data}}),Ar("item-type-events",Oe(Oe([],w3(),!0),[It(Gl(),t1),It($m(),fr.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},S3=[Nt("data"),Nt("components"),Nt("dom"),Se("hasSubmenu",!1),ea("toggling"),is.field("itemBehaviours",[Ur,fr,tr,xn]),Se("ignoreFocus",!1),Se("domModification",{}),ga("builder",BP),Se("eventOrder",{})],k3=function(t){return{dom:t.dom,components:t.components,events:ya([ka($m())])}},FP=[Nt("dom"),Nt("components"),ga("builder",k3)],Zy=I("item-widget"),Jy=I([oi({name:"widget",overrides:function(t){return{behaviours:fn([xn.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:ve}})])}}})]),MP=function(t){var r=yy(Zy(),t,Jy()),o=wy(Zy(),t,r.internals()),s=function(f){return va(f,t,"widget").map(function(d){return tr.focusIn(d),d})},l=function(f,d){return Md(d.event.target)?C.none():function(){return t.autofocus&&d.setSource(f.element),C.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:ya([Ec(function(f,d){s(f).each(function(h){d.stop()})}),It(Gl(),t1),It($m(),function(f,d){t.autofocus?s(f):fr.focus(f)})]),behaviours:is.augment(t.widgetBehaviours,[xn.config({store:{mode:"memory",initialValue:t.data}}),fr.config({ignore:t.ignoreFocus,onFocus:function(f){C3(f)}}),tr.config({mode:"special",focusIn:t.autofocus?function(f){s(f)}:Bb(),onLeft:l,onRight:l,onEscape:function(f,d){return!fr.isFocused(f)&&!t.autofocus?(fr.focus(f),C.some(!0)):(t.autofocus&&d.setSource(f.element),C.none())}})])}},RP=[Nt("uid"),Nt("data"),Nt("components"),Nt("dom"),Se("autofocus",!1),Se("ignoreFocus",!1),is.field("widgetBehaviours",[xn,fr,tr]),Se("domModification",{}),Sy(Jy()),ga("builder",MP)],NP=Yu("type",{widget:RP,item:S3,separator:FP}),E3=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},IP=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},$P=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},zP=I([dg({factory:{sketch:function(t){var r=da("menu.spec item",NP,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Ut(r,"uid")?r:$($({},r),{uid:Lf("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),LP=I([Nt("value"),Nt("items"),Nt("dom"),Nt("components"),Se("eventOrder",{}),Mo("menuBehaviours",[Qr,xn,$r,tr]),mu("movement",{mode:"menu",moveOnTab:!0},Yu("mode",{grid:[ep(),ga("config",E3)],matrix:[ga("config",IP),Nt("rowSelector")],menu:[Se("moveOnTab",!0),ga("config",$P)]})),FD(),Se("fakeFocus",!1),Se("focusManager",wg()),Fr("onHighlight")]),T3=I("alloy.menu-focus"),cv=function(t,r,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ro(t.menuBehaviours,[Qr.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),xn.config({store:{mode:"memory",initialValue:t.value}}),$r.config({find:C.some}),tr.config(t.movement.config(t,t.movement))]),events:ya([It(PP(),function(l,f){var d=f.event;l.getSystem().getByDom(d.target).each(function(h){Qr.highlight(l,h),f.stop(),er(l,T3(),{menu:l,item:h})})}),It(x3(),function(l,f){var d=f.event.item;Qr.highlight(l,d)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},bf=Gi({name:"Menu",configFields:LP(),partFields:zP(),factory:cv}),Qy=function(t){return ke(t,function(r,o){return{k:r,v:o}})},O3=function(t,r,o,s){return it(o,s).bind(function(l){return it(t,l).bind(function(f){var d=O3(t,r,o,f);return C.some([f].concat(d))})}).getOr([])},e2=function(t,r){var o={};dn(t,function(d,h){Fe(d,function(p){o[p]=h})});var s=r,l=Qy(r),f=Jt(l,function(d,h){return[h].concat(O3(o,s,l,h))});return Jt(o,function(d){return it(f,d).getOr([d])})},HP=function(){var t=Qn({}),r=Qn({}),o=Qn({}),s=Za(),l=Qn({}),f=function(){t.set({}),r.set({}),o.set({}),s.clear()},d=function(){return s.get().isNone()},h=function(ye,tt){var Ot;r.set($($({},r.get()),(Ot={},Ot[ye]={type:"prepared",menu:tt},Ot)))},p=function(ye,tt,Ot,yn){s.set(ye),t.set(Ot),r.set(tt),l.set(yn);var At=e2(yn,Ot);o.set(At)},y=function(ye){return fe(t.get(),function(tt,Ot){return tt===ye})},S=function(ye,tt,Ot){return ee(ye).bind(function(yn){return y(ye).bind(function(At){return tt(At).map(function(wn){return{triggeredMenu:yn,triggeringItem:wn,triggeringPath:Ot}})})})},E=function(ye,tt){var Ot=De(K(ye).toArray(),function(yn){return ee(yn).isSome()});return it(o.get(),ye).bind(function(yn){var At=En(Ot.concat(yn)),wn=vt(At,function(zt,Et){return S(zt,tt,At.slice(0,Et+1)).fold(function(){return sr(s.get(),zt)?[]:[C.none()]},function(pn){return[C.some(pn)]})});return vr(wn)})},F=function(ye){return it(t.get(),ye).map(function(tt){var Ot=it(o.get(),ye).getOr([]);return[tt].concat(Ot)})},R=function(ye){return it(o.get(),ye).bind(function(tt){return tt.length>1?C.some(tt.slice(1)):C.none()})},W=function(ye){return it(o.get(),ye)},ee=function(ye){return pe(ye).bind(qd)},pe=function(ye){return it(r.get(),ye)},K=function(ye){return it(t.get(),ye)},Ce=function(ye){var tt=l.get();return Fn(Ye(tt),ye)},mt=function(){return s.get().bind(ee)},bt=function(){return r.get()};return{setMenuBuilt:h,setContents:p,expand:F,refresh:W,collapse:R,lookupMenu:pe,lookupItem:K,otherMenus:Ce,getPrimary:mt,getMenus:bt,clear:f,isClear:d,getTriggeringPath:E}},qd=function(t){return t.type==="prepared"?C.some(t.menu):C.none()},Tg={init:HP,extractPreparedMenu:qd},A3=function(t,r){var o=Za(),s=function(Bt,Rn,Un){return Jt(Un,function(zr,aa){var $a=function(){return bf.sketch($($({},zr),{value:aa,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?Ek():wg()}))};return aa===Rn?{type:"prepared",menu:Bt.getSystem().build($a())}:{type:"notbuilt",nbMenu:$a}})},l=Tg.init(),f=function(Bt){var Rn=s(Bt,t.data.primary,t.data.menus),Un=p();return l.setContents(t.data.primary,Rn,t.data.expansions,Un),l.getPrimary()},d=function(Bt){return xn.getValue(Bt).value},h=function(Bt,Rn,Un){return Le(Rn,function(zr){if(!zr.getSystem().isConnected())return C.none();var aa=Qr.getCandidates(zr);return pt(aa,function($a){return d($a)===Un})})},p=function(Bt){return Jt(t.data.menus,function(Rn,Un){return vt(Rn.items,function(zr){return zr.type==="separator"?[]:[zr.data.value]})})},y=function(Bt,Rn){Qr.highlight(Bt,Rn),Qr.getHighlighted(Rn).orThunk(function(){return Qr.getFirst(Rn)}).each(function(Un){ob(Bt,Un.element,$m())})},S=function(Bt,Rn){return Cr(dt(Rn,function(Un){return Bt.lookupMenu(Un).bind(function(zr){return zr.type==="prepared"?C.some(zr.menu):C.none()})}))},E=function(Bt,Rn,Un){var zr=S(Rn,Rn.otherMenus(Un));Fe(zr,function(aa){Pc(aa.element,[t.markers.backgroundMenu]),t.stayInDom||yr.remove(Bt,aa)})},F=function(Bt){return o.get().getOrThunk(function(){var Rn={},Un=qo(Bt.element,"."+t.markers.item),zr=De(Un,function(aa){return Ma(aa,"aria-haspopup")==="true"});return Fe(zr,function(aa){Bt.getSystem().getByDom(aa).each(function($a){var mc=d($a);Rn[mc]=$a})}),o.set(Rn),Rn})},R=function(Bt,Rn){var Un=F(Bt);dn(Un,function(zr,aa){var $a=Zt(Rn,aa);Dr(zr.element,"aria-expanded",$a)})},W=function(Bt,Rn,Un){return C.from(Un[0]).bind(function(zr){return Rn.lookupMenu(zr).bind(function(aa){if(aa.type==="notbuilt")return C.none();var $a=aa.menu,mc=S(Rn,Un.slice(1));return Fe(mc,function(Ns){Wo(Ns.element,t.markers.backgroundMenu)}),pr($a.element)||yr.append(Bt,Nu($a)),Pc($a.element,[t.markers.backgroundMenu]),y(Bt,$a),E(Bt,Rn,Un),C.some($a)})})},ee;(function(Bt){Bt[Bt.HighlightSubmenu=0]="HighlightSubmenu",Bt[Bt.HighlightParent=1]="HighlightParent"})(ee||(ee={}));var pe=function(Bt,Rn,Un){if(Un.type==="notbuilt"){var zr=Bt.getSystem().build(Un.nbMenu());return l.setMenuBuilt(Rn,zr),zr}else return Un.menu},K=function(Bt,Rn,Un){if(Un===void 0&&(Un=ee.HighlightSubmenu),Rn.hasConfigured(Yn)&&Yn.isDisabled(Rn))return C.some(Rn);var zr=d(Rn);return l.expand(zr).bind(function(aa){return R(Bt,aa),C.from(aa[0]).bind(function($a){return l.lookupMenu($a).bind(function(mc){var Ns=pe(Bt,$a,mc);return pr(Ns.element)||yr.append(Bt,Nu(Ns)),t.onOpenSubmenu(Bt,Rn,Ns,En(aa)),Un===ee.HighlightSubmenu?(Qr.highlightFirst(Ns),W(Bt,l,aa)):(Qr.dehighlightAll(Ns),C.some(Rn))})})})},Ce=function(Bt,Rn){var Un=d(Rn);return l.collapse(Un).bind(function(zr){return R(Bt,zr),W(Bt,l,zr).map(function(aa){return t.onCollapseMenu(Bt,Rn,aa),aa})})},mt=function(Bt,Rn){var Un=d(Rn);return l.refresh(Un).bind(function(zr){return R(Bt,zr),W(Bt,l,zr)})},bt=function(Bt,Rn){return Md(Rn.element)?C.none():K(Bt,Rn,ee.HighlightSubmenu)},ye=function(Bt,Rn){return Md(Rn.element)?C.none():Ce(Bt,Rn)},tt=function(Bt,Rn){return Ce(Bt,Rn).orThunk(function(){return t.onEscape(Bt,Rn).map(function(){return Bt})})},Ot=function(Bt){return function(Rn,Un){return ru(Un.getSource(),"."+t.markers.item).bind(function(zr){return Rn.getSystem().getByDom(zr).toOptional().bind(function(aa){return Bt(Rn,aa).map(Ee)})})}},yn=ya([It(T3(),function(Bt,Rn){var Un=Rn.event.item;l.lookupItem(d(Un)).each(function(){var zr=Rn.event.menu;Qr.highlight(Bt,zr);var aa=d(Rn.event.item);l.refresh(aa).each(function($a){return E(Bt,l,$a)})})}),Ec(function(Bt,Rn){var Un=Rn.event.target;Bt.getSystem().getByDom(Un).each(function(zr){var aa=d(zr);aa.indexOf("collapse-item")===0&&Ce(Bt,zr),K(Bt,zr,ee.HighlightSubmenu).fold(function(){t.onExecute(Bt,zr)},ve)})}),Ka(function(Bt,Rn){f(Bt).each(function(Un){yr.append(Bt,Nu(Un)),t.onOpenMenu(Bt,Un),t.highlightImmediately&&y(Bt,Un)})})].concat(t.navigateOnHover?[It(x3(),function(Bt,Rn){var Un=Rn.event.item;mt(Bt,Un),K(Bt,Un,ee.HighlightParent),t.onHover(Bt,Un)})]:[])),At=function(Bt){return Qr.getHighlighted(Bt).bind(Qr.getHighlighted)},wn=function(Bt){At(Bt).each(function(Rn){Ce(Bt,Rn)})},zt=function(Bt){l.getPrimary().each(function(Rn){y(Bt,Rn)})},Et=function(Bt){return C.from(Bt.components()[0]).filter(function(Rn){return Ma(Rn.element,"role")==="menu"})},pn=function(Bt){var Rn=l.getPrimary().bind(function(Un){return At(Bt).bind(function(zr){var aa=d(zr),$a=Ct(l.getMenus()),mc=Cr(dt($a,Tg.extractPreparedMenu));return l.getTriggeringPath(aa,function(Ns){return h(Bt,mc,Ns)})}).map(function(zr){return{primary:Un,triggeringPath:zr}})});Rn.fold(function(){Et(Bt).each(function(Un){t.onRepositionMenu(Bt,Un,[])})},function(Un){var zr=Un.primary,aa=Un.triggeringPath;t.onRepositionMenu(Bt,zr,aa)})},zn={collapseMenu:wn,highlightPrimary:zt,repositionMenus:pn};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ro(t.tmenuBehaviours,[tr.config({mode:"special",onRight:Ot(bt),onLeft:Ot(ye),onEscape:Ot(tt),focusIn:function(Bt,Rn){l.getPrimary().each(function(Un){ob(Bt,Un.element,$m())})}}),Qr.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),$r.config({find:function(Bt){return Qr.getHighlighted(Bt)}}),yr.config({})]),eventOrder:t.eventOrder,apis:zn,events:yn}},D3=I("collapse-item"),VP=function(t,r,o){return{primary:t,menus:r,expansions:o}},UP=function(t,r){return{primary:t,menus:Sc(t,r),expansions:{}}},WP=function(t){return{value:Bn(D3()),meta:{text:t}}},lv=pu({name:"TieredMenu",configFields:[tf("onExecute"),tf("onEscape"),Kf("onOpenMenu"),Kf("onOpenSubmenu"),Fr("onRepositionMenu"),Fr("onCollapseMenu"),Se("highlightImmediately",!0),gl("data",[Nt("primary"),Nt("menus"),Nt("expansions")]),Se("fakeFocus",!1),Fr("onHighlight"),Fr("onHover"),Jh(),Nt("dom"),Se("navigateOnHover",!0),Se("stayInDom",!1),Mo("tmenuBehaviours",[tr,Qr,$r,yr]),Se("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:A3,extraApis:{tieredData:VP,singleData:UP,collapseItem:WP}}),t2=function(t,r,o,s,l){var f=function(){return t.lazySink(r)},d=s.type==="horizontal"?{layouts:{onLtr:function(){return uf()},onRtl:function(){return sf()}}}:{},h=function(y){return y.length===2},p=function(y){return h(y)?d:{}};return lv.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Vr.close(r),t.onEscape.map(function(y){return y(r)}),C.some(!0)},onExecute:function(){return C.some(!0)},onOpenMenu:function(y,S){qi.positionWithinBounds(f().getOrDie(),S,o,l())},onOpenSubmenu:function(y,S,E,F){var R=f().getOrDie();qi.position(R,E,{anchor:$({type:"submenu",item:S},p(F))})},onRepositionMenu:function(y,S,E){var F=f().getOrDie();qi.positionWithinBounds(F,S,o,l()),Fe(E,function(R){var W=p(R.triggeringPath);qi.position(F,R.triggeredMenu,{anchor:$({type:"submenu",item:R.triggeringItem},W)})})}})},_3=function(t,r){var o=function(R,W){var ee=t.getRelated(R);return ee.exists(function(pe){return Wf(pe,W)})},s=function(R,W){Vr.setContent(R,W)},l=function(R,W,ee){f(R,W,ee,C.none())},f=function(R,W,ee,pe){d(R,W,ee,function(){return pe.map(function(K){return Bo(K)})})},d=function(R,W,ee,pe){var K=t.lazySink(R).getOrDie();Vr.openWhileCloaked(R,W,function(){return qi.positionWithinBounds(K,R,ee,pe())}),xn.setValue(R,C.some({mode:"position",config:ee,getBounds:pe}))},h=function(R,W,ee){p(R,W,ee,C.none)},p=function(R,W,ee,pe){var K=t2(t,R,W,ee,pe);Vr.open(R,K),xn.setValue(R,C.some({mode:"menu",menu:K}))},y=function(R){Vr.isOpen(R)&&(xn.setValue(R,C.none()),Vr.close(R))},S=function(R){return Vr.getState(R)},E=function(R){Vr.isOpen(R)&&xn.getValue(R).each(function(W){switch(W.mode){case"menu":Vr.getState(R).each(lv.repositionMenus);break;case"position":var ee=t.lazySink(R).getOrDie();qi.positionWithinBounds(ee,R,W.config,W.getBounds());break}})},F={setContent:s,showAt:l,showWithin:f,showWithinBounds:d,showMenuAt:h,showMenuWithinBounds:p,hide:y,getContent:S,reposition:E,isOpen:Vr.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Ro(t.inlineBehaviours,[Vr.config({isPartOf:function(R,W,ee){return Wf(W,ee)||o(R,ee)},getAttachPoint:function(R){return t.lazySink(R).getOrDie()},onOpen:function(R){t.onShow(R)},onClose:function(R){t.onHide(R)}}),xn.config({store:{mode:"memory",initialValue:C.none()}}),os.config({channels:$($({},nv($({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(R){return{fireEventInstead:{event:R.event}}}).getOr({})))),ug($($({},t.fireRepositionEventInstead.map(function(R){return{fireEventInstead:{event:R.event}}}).getOr({})),{doReposition:E})))})]),eventOrder:t.eventOrder,apis:F}},Na=pu({name:"InlineView",configFields:[Nt("lazySink"),Fr("onShow"),Fr("onHide"),If("onEscape"),Mo("inlineBehaviours",[Vr,xn,os]),Bu("fireDismissalEventInstead",[Se("event",Ys())]),Bu("fireRepositionEventInstead",[Se("event",Oi())]),Se("getRelated",C.none),Se("isExtraPart",Ue),Se("eventOrder",C.none)],factory:_3,apis:{showAt:function(t,r,o,s){t.showAt(r,o,s)},showWithin:function(t,r,o,s,l){t.showWithin(r,o,s,l)},showWithinBounds:function(t,r,o,s,l){t.showWithinBounds(r,o,s,l)},showMenuAt:function(t,r,o,s){t.showMenuAt(r,o,s)},showMenuWithinBounds:function(t,r,o,s,l){t.showMenuWithinBounds(r,o,s,l)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),Lc="layout-inset",n2=function(t){return t.x},r2=function(t,r){return t.x+t.width/2-r.width/2},a2=function(t,r){return t.x+t.width-r.width},o2=function(t){return t.y},i2=function(t,r){return t.y+t.height-r.height},u2=function(t,r){return t.y+t.height/2-r.height/2},Og=function(t,r,o){return Qo(a2(t,r),i2(t,r),o.insetSouthwest(),Tb(),"southwest",ei(t,{right:0,bottom:3}),Lc)},n1=function(t,r,o){return Qo(n2(t),i2(t,r),o.insetSoutheast(),Eb(),"southeast",ei(t,{left:1,bottom:3}),Lc)},Ag=function(t,r,o){return Qo(a2(t,r),o2(t),o.insetNorthwest(),hd(),"northwest",ei(t,{right:0,top:2}),Lc)},fv=function(t,r,o){return Qo(n2(t),o2(t),o.insetNortheast(),np(),"northeast",ei(t,{left:1,top:2}),Lc)},As=function(t,r,o){return Qo(r2(t,r),o2(t),o.insetNorth(),Ob(),"north",ei(t,{top:2}),Lc)},vv=function(t,r,o){return Qo(r2(t,r),i2(t,r),o.insetSouth(),Ab(),"south",ei(t,{bottom:3}),Lc)},P3=function(t,r,o){return Qo(a2(t,r),u2(t,r),o.insetEast(),rp(),"east",ei(t,{right:0}),Lc)},r1=function(t,r,o){return Qo(n2(t),u2(t,r),o.insetWest(),au(),"west",ei(t,{left:1}),Lc)},jP=function(t){switch(t){case"north":return As;case"northeast":return fv;case"northwest":return Ag;case"south":return vv;case"southeast":return n1;case"southwest":return Og;case"east":return P3;case"west":return r1}},B3=function(t,r,o,s,l){var f=rS(s).map(jP).getOr(As);return f(t,r,o,s,l)},qP=function(t){switch(t){case"north":return vv;case"northeast":return n1;case"northwest":return Og;case"south":return As;case"southeast":return fv;case"southwest":return Ag;case"east":return r1;case"west":return P3}},GP=function(t,r,o,s,l){var f=rS(s).map(qP).getOr(As);return f(t,r,o,s,l)},_l=tinymce.util.Tools.resolve("tinymce.util.Delay"),F3=function(t){var r=kg(t.action),o=t.dom.tag,s=function(f){return it(t.dom,"attributes").bind(function(d){return it(d,f)})},l=function(){if(o==="button"){var f=s("type").getOr("button"),d=s("role").map(function(p){return{role:p}}).getOr({});return $({type:f},d)}else{var h=s("role").getOr("button");return{role:h}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:is.augment(t.buttonBehaviours,[fr.config({}),tr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:l()},eventOrder:t.eventOrder}},hi=pu({name:"Button",factory:F3,configFields:[Se("uid",void 0),Nt("dom"),Se("components",[]),is.field("buttonBehaviours",[fr,tr]),ea("action"),ea("role"),Se("eventOrder",{})]}),Jr=function(t){var r=b5(t)&&Pn(t,"uid")?t.uid:Lf("memento"),o=function(f){return f.getSystem().getByUid(r).getOrDie()},s=function(f){return f.getSystem().getByUid(r).toOptional()},l=function(){return $($({},t),{uid:r})};return{get:o,getOpt:s,asSpec:l}},$u=tinymce.util.Tools.resolve("tinymce.util.I18n"),KP={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},M3="temporary-placeholder",s2=function(t){return function(){return it(t,M3).getOr("!not found!")}},c2=function(t,r){var o=t.toLowerCase();if($u.isRtl()){var s=io(o,"-rtl");return Ut(r,s)?s:o}else return o},R3=function(t,r){return it(r,c2(t,r))},N3=function(t,r){var o=r();return R3(t,o).getOrThunk(s2(o))},I3=function(t,r,o){var s=r();return R3(t,s).or(o).getOrThunk(s2(s))},XP=function(t){return $u.isRtl()?Ut(KP,t):!1},l2=function(){return Ar("add-focusable",[Ka(function(t){AD(t.element,"svg").each(function(r){return Dr(r,"focusable","false")})})])},Dg=function(t,r,o,s){var l,f,d=XP(r)?["tox-icon--flip"]:[],h=it(o,c2(r,o)).or(s).getOrThunk(s2(o));return{dom:{tag:t.tag,attributes:(l=t.attributes)!==null&&l!==void 0?l:{},classes:t.classes.concat(d),innerHtml:h},behaviours:fn(Oe(Oe([],(f=t.behaviours)!==null&&f!==void 0?f:[],!0),[l2()],!1))}},oc=function(t,r,o,s){return s===void 0&&(s=C.none()),Dg(r,t,o(),s)},YP=function(t,r,o){var s=o(),l=pt(t,function(f){return Ut(s,c2(f,s))});return Dg(r,l.getOr(M3),s,C.none())},f2={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ZP=function(t){var r=Jr({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:fn([yr.config({})])}),o=function(R){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+R+"%"}}}},s=function(R){return{dom:{tag:"div",classes:["tox-text"],innerHtml:R+"%"}}},l=Jr({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:fn([yr.config({})])}),f=function(R,W){R.getSystem().isConnected()&&l.getOpt(R).each(function(ee){yr.set(ee,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(W)]},s(W)])})},d=function(R,W){if(R.getSystem().isConnected()){var ee=r.get(R);yr.set(ee,[Uf(W)])}},h={updateProgress:f,updateText:d},p=le([t.icon.toArray(),t.level.toArray(),t.level.bind(function(R){return C.from(f2[R])}).toArray()]),y=Jr(hi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[oc("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(R){t.onAction(R)}})),S=YP(p,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),E={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:fn([yr.config({})])},F=[S,E];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(R){return["tox-notification","tox-notification--in","tox-notification--"+R]}).getOr(["tox-notification","tox-notification--in"])},behaviours:fn([fr.config({}),Ar("notification-events",[It(Kl(),function(R){y.getOpt(R).each(fr.focus)})])]),components:F.concat(t.progress?[l.asSpec()]:[]).concat(t.closeButton?[y.asSpec()]:[]),apis:h}},v2=pu({name:"Notification",factory:ZP,configFields:[ea("level"),Nt("progress"),Nt("icon"),Nt("onAction"),Nt("text"),Nt("iconProvider"),Nt("translationProvider"),qa("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function JP(t,r,o){var s=r.backstage.shared,l=function(y){switch(y){case"bc-bc":return vv;case"tc-tc":return As;case"tc-bc":return iu;case"bc-tc":default:return ni}},f=function(y){y.length>0&&Fe(y,function(S,E){E===0?S.moveRel(null,"banner"):S.moveRel(y[E-1].getEl(),"bc-tc")})},d=function(y,S){var E=!y.closeButton&&y.timeout&&(y.timeout>0||y.timeout<0),F=function(){S(),Na.hide(W)},R=di(v2.sketch({text:y.text,level:Zt(["success","error","warning","warn","info"],y.type)?y.type:void 0,progress:y.progressBar===!0,icon:C.from(y.icon),closeButton:!E,onAction:F,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),W=di(Na.sketch($({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(W),y.timeout>0&&_l.setTimeout(function(){F()},y.timeout);var ee=function(){var pe=Bo(Q.fromDom(t.getContentAreaContainer())),K=_u(),Ce=ou(K.x,pe.x,pe.right),mt=ou(K.y,pe.y,pe.bottom),bt=Math.max(pe.right,K.right),ye=Math.max(pe.bottom,K.bottom);return C.some(Po(Ce,mt,bt-Ce,ye-mt))};return{close:F,moveTo:function(pe,K){Na.showAt(W,Nu(R),{anchor:{type:"makeshift",x:pe,y:K}})},moveRel:function(pe,K){var Ce=Nu(R),mt={maxHeightFunction:Qm()};if(K!=="banner"&&se(pe)){var bt=l(K),ye={type:"node",root:ia(),node:C.some(Q.fromDom(pe)),overrides:mt,layouts:{onRtl:function(){return[bt]},onLtr:function(){return[bt]}}};Na.showWithinBounds(W,Ce,{anchor:ye},ee)}else{var tt=$($({},s.anchors.banner()),{overrides:mt});Na.showWithinBounds(W,Ce,{anchor:tt},ee)}},text:function(pe){v2.updateText(R,pe)},settings:y,getEl:function(){return R.element.dom},progressBar:{value:function(pe){v2.updateProgress(R,pe)}}}},h=function(y){y.close()},p=function(y){return y.settings};return{open:d,close:h,reposition:f,getArgs:p}}var QP=function(t,r){var o=null,s=function(){ct(o)||(clearTimeout(o),o=null)},l=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];ct(o)&&(o=setTimeout(function(){o=null,t.apply(null,f)},r))};return{cancel:s,throttle:l}},d2=function(t,r){var o=null,s=function(){ct(o)||(clearTimeout(o),o=null)},l=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];s(),o=setTimeout(function(){o=null,t.apply(null,f)},r)};return{cancel:s,throttle:l}},eB=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),tB=function(t,r){return t.isBlock(r)||Zt(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},$3=function(t,r,o,s,l){var f=eB(t,function(d){return tB(t,d)});return C.from(f.backwards(r,o,s,l))},nB="[data-mce-autocompleter]",rB=function(t,r){return a1(Q.fromDom(t.selection.getNode())).getOrThunk(function(){var o=Q.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return li(o,Q.fromDom(r.extractContents())),r.insertNode(o.dom),Eo(o).each(function(s){return s.dom.normalize()}),L_(o).map(function(s){t.selection.setCursorLocation(s.dom,I_(s))}),o})},a1=function(t){return ru(t,nB)},aB=function(t){return t.collapsed&&t.startContainer.nodeType===3},o1=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},z3=function(t){return t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1},m2=function(t,r){return t.substring(r.length)},oB=function(t,r,o){var s;for(s=r-1;s>=0;s--){var l=t.charAt(s);if(z3(l))return C.none();if(l===o)break}return C.some(s)},L3=function(t,r,o,s){if(s===void 0&&(s=0),!aB(r))return C.none();var l=function(d,h,p){return oB(p,h,o).getOr(h)},f=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return $3(t,r.startContainer,r.startOffset,l,f).bind(function(d){var h=r.cloneRange();if(h.setStart(d.container,d.offset),h.setEnd(r.endContainer,r.endOffset),h.collapsed)return C.none();var p=o1(h),y=p.lastIndexOf(o);return y!==0||m2(p,o).length<s?C.none():C.some({text:m2(p,o),range:h,triggerChar:o})})},g2=function(t,r,o,s){return s===void 0&&(s=0),a1(Q.fromDom(r.startContainer)).fold(function(){return L3(t,r,o,s)},function(l){var f=t.createRng();f.selectNode(l.dom);var d=o1(f);return C.some({range:f,text:m2(d,o),triggerChar:o})})},iB=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(s,l){er(s,Nh(),{raw:l})};r.on("keydown",function(s){var l=function(){return t.getView().bind(Qr.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(l().each(pl),s.preventDefault()):s.which===40?(l().fold(function(){t.getView().each(Qr.highlightFirst)},function(f){o(f,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&l().each(function(f){o(f,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&a1(Q.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},uB={setup:iB},_g=tinymce.util.Tools.resolve("tinymce.util.Promise"),h2=function(t,r){return{container:t,offset:r}},p2=function(t){return t.nodeType===j},sB=function(t){return t.nodeType===On},H3=function(t){if(p2(t))return h2(t,t.data.length);var r=t.childNodes;return r.length>0?H3(r[r.length-1]):h2(t,r.length)},V3=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?V3(o[r],0):o.length>0&&sB(t)&&o.length===r?H3(o[o.length-1]):h2(t,r)},cB=function(t,r){return $3(t,r.container,r.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!z3(s)}).isSome()},lB=function(t){return function(r){var o=V3(r.startContainer,r.startOffset);return!cB(t,o)}},fB=function(t,r,o){return Le(o.triggerChars,function(s){return g2(t,r,s)})},vB=function(t,r){var o=r(),s=t.selection.getRng();return fB(t.dom,s,o).bind(function(l){return U3(t,r,l)})},U3=function(t,r,o,s){s===void 0&&(s={});var l=r(),f=t.selection.getRng(),d=f.startContainer.nodeValue,h=De(l.lookupByChar(o.triggerChar),function(y){return o.text.length>=y.minChars&&y.matches.getOrThunk(function(){return lB(t.dom)})(o.range,d,o.text)});if(h.length===0)return C.none();var p=_g.all(dt(h,function(y){var S=y.fetch(o.text,y.maxResults,s);return S.then(function(E){return{matchText:o.text,items:E,columns:y.columns,onAction:y.onAction,highlightOn:y.highlightOn}})}));return C.some({lookupData:p,context:o})},W3=Xn([dr("type"),xa("text")]),dB=function(t){return ja("separatormenuitem",W3,t)},mB=Xn([Se("type","autocompleteitem"),Se("active",!1),Se("disabled",!1),Se("meta",{}),dr("value"),xa("text"),xa("icon")]),b2=Xn([dr("type"),dr("ch"),xc("minChars",1),Se("columns",1),xc("maxResults",10),If("matches"),Ti("fetch"),Ti("onAction"),Mm("highlightOn",[],lo)]),gB=function(t){return ja("Autocompleter.Separator",W3,t)},hB=function(t){return ja("Autocompleter.Item",mB,t)},pB=function(t){return ja("Autocompleter",b2,t)},dv=[qa("disabled",!1),xa("tooltip"),xa("icon"),xa("text"),ba("onSetup",function(){return ve})],bB=Xn([dr("type"),Ti("onAction")].concat(dv)),i1=function(t){return ja("toolbarbutton",bB,t)},y2=[qa("active",!1)].concat(dv),yB=Xn(y2.concat([dr("type"),Ti("onAction")])),j3=function(t){return ja("ToggleButton",yB,t)},q3=[ba("predicate",Ue),Ju("scope","node",["node","editor"]),Ju("position","selection",["node","selection","line"])],wB=dv.concat([Se("type","contextformbutton"),Se("primary",!1),Ti("onAction"),nu("original",je)]),G3=y2.concat([Se("type","contextformbutton"),Se("primary",!1),Ti("onAction"),nu("original",je)]),CB=dv.concat([Se("type","contextformbutton")]),w2=y2.concat([Se("type","contextformtogglebutton")]),C2=Yu("type",{contextformbutton:wB,contextformtogglebutton:G3}),K3=Xn([Se("type","contextform"),ba("initValue",I("")),xa("label"),zi("commands",C2),Gs("launch",Yu("type",{contextformbutton:CB,contextformtogglebutton:w2}))].concat(q3)),x2=function(t){return ja("ContextForm",K3,t)},S2=Xn([Se("type","contexttoolbar"),dr("items")].concat(q3)),X3=function(t){return ja("ContextToolbar",S2,t)},Hc=function(t){var r={};return Fe(t,function(o){r[o]={}}),Ye(r)},k2=function(t){var r=t.ui.registry.getAll().popups,o=Jt(r,function(d){return pB(d).fold(function(h){throw new Error(Nf(h))},je)}),s=Hc(Nn(o,function(d){return d.ch})),l=Ct(o),f=function(d){return De(l,function(h){return h.ch===d})};return{dataset:o,triggerChars:s,lookupByChar:f}},E2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(E2||(E2={}));var ic=E2,T2="tox-menu-nav__js",O2="tox-collection__item",yf="tox-swatch",Y3={normal:T2,color:yf},Z3="tox-collection__item--enabled",xB="tox-collection__group-heading",A2="tox-collection__item-icon",u1="tox-collection__item-label",D2="tox-collection__item-accessory",J3="tox-collection__item-caret",_2="tox-collection__item-checkmark",mv="tox-collection__item--active",Q3="tox-collection__item-container",e4="tox-collection__item-container--column",P2="tox-collection__item-container--row",SB="tox-collection__item-container--align-right",kB="tox-collection__item-container--align-left",EB="tox-collection__item-container--valign-top",TB="tox-collection__item-container--valign-middle",OB="tox-collection__item-container--valign-bottom",t4=function(t){return it(Y3,t).getOr(T2)},AB=function(t){return t==="color"?"tox-swatches":"tox-menu"},B2=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:AB(t),tieredMenu:"tox-tiered-menu"}},Pl=function(t){var r=B2(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:t4(t)}},n4=function(t,r,o){var s=B2(o);return{tag:"div",classes:le([[s.menu,"tox-menu-"+r+"-column"],t?[s.hasIcons]:[]])}},r4=[bf.parts.items({})],s1=function(t,r,o){var s=B2(o),l={tag:"div",classes:le([[s.tieredMenu]])};return{dom:l,markers:Pl(o)}},F2=function(t,r){return function(o){var s=Wn(o,r);return dt(s,function(l){return{dom:t,components:l}})}},M2=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[bf.parts.items({preprocess:t!=="auto"?F2({tag:"div",classes:["tox-swatches__row"]},t):je})]}]}},R2=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[bf.parts.items({preprocess:F2({tag:"div",classes:["tox-collection__group"]},t)})]}},N2=function(t,r){var o=[],s=[];return Fe(t,function(l,f){r(l,f)?(s.length>0&&o.push(s),s=[],Ut(l.dom,"innerHtml")&&s.push(l)):s.push(l)}),s.length>0&&o.push(s),dt(o,function(l){return{dom:{tag:"div",classes:["tox-collection__group"]},components:l}})},c1=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[bf.parts.items({preprocess:function(s){return t!=="auto"&&t>1?F2({tag:"div",classes:["tox-collection__group"]},t)(s):N2(s,function(l,f){return r[f].type==="separator"})}})]}},a4=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[bf.parts.items({preprocess:function(o){return N2(o,function(s,l){return t[l].type==="separator"})}})]}},l1=function(t){return Qt(t,function(r){return"icon"in r&&r.icon!==void 0})},uc=function(t){return console.error(Nf(t)),C.none()},DB=function(t,r,o,s,l){var f=a4(o);return{value:t,dom:f.dom,components:f.components,items:o}},f1=function(t,r,o,s,l){if(l==="color"){var f=M2(s);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="normal"&&s==="auto"){var f=c1(s,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="normal"&&s===1){var f=c1(1,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="normal"){var f=c1(s,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(l==="listpreview"&&s!=="auto"){var f=R2(s);return{value:t,dom:f.dom,components:f.components,items:o}}return{value:t,dom:n4(r,s,l),components:r4,items:o}},o4=[dr("type"),dr("src"),xa("alt"),Mm("classes",[],lo)],Pg=Xn(o4),_B=[dr("type"),dr("text"),xa("name"),Mm("classes",["tox-collection__item-label"],lo)],I2=Xn(_B),gv=fx(function(){return Bh("type",{cardimage:Pg,cardtext:I2,cardcontainer:PB})}),PB=Xn([dr("type"),od("direction","horizontal"),od("align","left"),od("valign","middle"),zi("items",gv)]),hv=[qa("disabled",!1),xa("text"),xa("shortcut"),Fo("value","value",Gr(function(){return Bn("menuitem-value")}),js()),Se("meta",{})],i4=Xn([dr("type"),xa("label"),zi("items",gv),ba("onSetup",function(){return ve}),ba("onAction",ve)].concat(hv)),u4=function(t){return ja("cardmenuitem",i4,t)},$2=Xn([dr("type"),qa("active",!1),xa("icon")].concat(hv)),s4=function(t){return ja("choicemenuitem",$2,t)},c4=[dr("type"),dr("fancytype"),ba("onAction",ve)],BB=[Se("initData",{})].concat(c4),v1=[W0("initData",{},[qa("allowCustomColors",!0),du("colors",js())])].concat(c4),FB=Yu("fancytype",{inserttable:BB,colorswatch:v1}),l4=function(t){return ja("fancymenuitem",FB,t)},Gd=Xn([dr("type"),ba("onSetup",function(){return ve}),ba("onAction",ve),xa("icon")].concat(hv)),MB=function(t){return ja("menuitem",Gd,t)},RB=Xn([dr("type"),Ti("getSubmenuItems"),ba("onSetup",function(){return ve}),xa("icon")].concat(hv)),NB=function(t){return ja("nestedmenuitem",RB,t)},f4=Xn([dr("type"),xa("icon"),qa("active",!1),ba("onSetup",function(){return ve}),Ti("onAction")].concat(hv)),v4=function(t){return ja("togglemenuitem",f4,t)},z2=function(t,r,o){var s=qo(t.element,"."+o);if(s.length>0){var l=$n(s,function(f){var d=f.dom.getBoundingClientRect().top,h=s[0].dom.getBoundingClientRect().top;return Math.abs(d-h)>r}).getOr(s.length);return C.some({numColumns:l,numRows:Math.ceil(s.length/l)})}else return C.none()},d4=function(t,r){return fn([Ar(t,r)])},IB=function(t){return d4(Bn("unnamed-events"),t)},d1={namedEvents:d4,unnamedEvents:IB},m4=Bn("tooltip.exclusive"),wf=Bn("tooltip.show"),Bg=Bn("tooltip.hide"),g4=function(t,r,o){t.getSystem().broadcastOn([m4],{})},L2=function(t,r,o,s){o.getTooltip().each(function(l){l.getSystem().isConnected()&&yr.set(l,s)})},h4=Object.freeze({__proto__:null,hideAllExclusive:g4,setComponents:L2}),$B=function(t,r){var o=function(l){r.getTooltip().each(function(f){ks(f),t.onHide(l,f),r.clearTooltip()}),r.clearTimer()},s=function(l){if(!r.isShowing()){g4(l);var f=t.lazySink(l).getOrDie(),d=l.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ya(t.mode==="normal"?[It(Gl(),function(h){Ir(l,wf)}),It(Y0(),function(h){Ir(l,Bg)})]:[]),behaviours:fn([yr.config({})])});r.setTooltip(d),gi(f,d),t.onShow(l,d),qi.position(f,d,{anchor:t.anchor(l)})}};return ya(le([[It(wf,function(l){r.resetTimer(function(){s(l)},t.delay)}),It(Bg,function(l){r.resetTimer(function(){o(l)},t.delay)}),It(ts(),function(l,f){var d=f;d.universal||Zt(d.channels,m4)&&o(l)}),Ru(function(l){o(l)})],t.mode==="normal"?[It(Kl(),function(l){Ir(l,wf)}),It(Q0(),function(l){Ir(l,Bg)}),It(Gl(),function(l){Ir(l,wf)}),It(Y0(),function(l){Ir(l,Bg)})]:[It(xx(),function(l,f){Ir(l,wf)}),It(Vm(),function(l){Ir(l,Bg)})]]))},p4=Object.freeze({__proto__:null,events:$B}),b4=[Nt("lazySink"),Nt("tooltipDom"),Se("exclusive",!0),Se("tooltipComponents",[]),Se("delay",300),Ju("mode","normal",["normal","follow-highlight"]),Se("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:I([ni,iu,mi,Wi,ti,jo]),onRtl:I([ni,iu,mi,Wi,ti,jo])}}}),Fr("onHide"),Fr("onShow")],y4=function(){var t=Za(),r=Za(),o=function(){t.on(clearTimeout)},s=function(f,d){o(),t.set(setTimeout(f,d))},l=I("not-implemented");return Li({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:s,readState:l})},w4=Object.freeze({__proto__:null,init:y4}),C4=vo({fields:b4,name:"tooltipping",active:p4,state:w4,apis:h4}),zB=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},Fg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),LB=tinymce.util.Tools.resolve("tinymce.EditorManager"),H2=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var s=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=LB.baseURL+"/skins/ui/"+s}return o},V2=function(t){return t.getParam("readonly",!1,"boolean")},x4=function(t){return t.getParam("skin")===!1},S4=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},U2=function(t){return t.getParam("width",Fg.DOM.getStyle(t.getElement(),"width"))},k4=function(t){return C.from(t.getParam("min_width")).filter(Be)},E4=function(t){return C.from(t.getParam("min_height")).filter(Be)},W2=function(t){return C.from(t.getParam("max_width")).filter(Be)},j2=function(t){return C.from(t.getParam("max_height")).filter(Be)},T4=function(t){return C.from(t.getParam("style_formats")).filter(at)},O4=function(t){return t.getParam("style_formats_merge",!1,"boolean")},HB=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},VB=function(t){return t.getParam("content_langs",void 0,"array")},UB=function(t){return t.getParam("removed_menuitems","")},q2=function(t){return t.getParam("menubar",!0,"boolean")!==!1},G2=function(t){var r=t.getParam("toolbar",!0),o=r===!0,s=ue(r),l=at(r)&&r.length>0;return!m1(t)&&(l||s||o)},A4=function(t){var r=z(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=De(r,function(s){return typeof s=="string"});return o.length>0?C.some(o):C.none()},m1=function(t){return A4(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Ee)},zu;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(zu||(zu={}));var Mg=function(t){return t.getParam("toolbar_mode","","string")},pv;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(pv||(pv={}));var WB=function(t){return t.getParam("toolbar_groups",{},"object")},K2=function(t){return t.getParam("toolbar_location",pv.auto,"string")},D4=function(t){return K2(t)===pv.bottom},jB=function(t){return t.getParam("fixed_toolbar_container","","string")},qB=function(t){return t.getParam("fixed_toolbar_container_target")},GB=function(t){return t.getParam("toolbar_persist",!1,"boolean")},_4=function(t){if(!t.inline)return C.none();var r=jB(t);if(r.length>0)return Co(ia(),r);var o=qB(t);return se(o)?C.some(Q.fromDom(o)):C.none()},g1=function(t){return t.inline&&_4(t).isSome()},Rg=function(t){var r=_4(t);return r.getOrThunk(function(){return Cn(cr(Q.fromDom(t.getElement())))})},X2=function(t){return t.inline&&!q2(t)&&!G2(t)&&!m1(t)},h1=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!g1(t)&&!X2(t)},KB=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},XB=function(t){return t.getParam("draggable_modal",!1,"boolean")},YB=function(t){var r=t.getParam("menu");return r?Jt(r,function(o){return $($({},o),{items:o.items})}):{}},ZB=function(t){return t.getParam("menubar")},Y2=function(t){return t.getParam("toolbar",!0)},P4=function(t){return t.getParam("file_picker_callback")},B4=function(t){return t.getParam("file_picker_types")},JB=function(t){return t.getParam("file_browser_callback_types")},F4=function(t){return t.getParam("typeahead_urls")===!1},QB=function(t){return t.getParam("anchor_top","#top")},e6=function(t){return t.getParam("anchor_bottom","#bottom")},t6=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},Z2="silver.readonly",n6=Xn([KA("readonly")]),Kd=function(t,r){var o=t.outerContainer,s=o.element;r&&(t.mothership.broadcastOn([tv()],{target:s}),t.uiMothership.broadcastOn([tv()],{target:s})),t.mothership.broadcastOn([Z2],{readonly:r}),t.uiMothership.broadcastOn([Z2],{readonly:r})},M4=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&Kd(r,!0)}),t.on("SwitchMode",function(){return Kd(r,t.mode.isReadOnly())}),V2(t)&&t.setMode("readonly")},xo=function(){var t;return os.config({channels:(t={},t[Z2]={schema:n6,onReceive:function(r,o){Yn.set(r,o.readonly)}},t)})},r6=function(t){return Yn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},a6=function(t){return Yn.config({disabled:t})},J2=function(t){return Yn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},Q2=function(t){return Yn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Lu={item:r6,button:a6,splitButton:J2,toolbarButton:Q2},Ng=function(t,r){var o=t.getApi(r);return function(s){s(o)}},Ig=function(t,r){return Ka(function(o){var s=Ng(t,o);s(function(l){var f=t.onSetup(l);Re(f)&&r.set(f)})})},$g=function(t,r){return Ru(function(o){return Ng(t,o)(r.get())})},Xd,ew=function(t,r){return Ec(function(o,s){Ng(t,o)(t.onAction),!t.triggersSubmenu&&r===ic.CLOSE_ON_EXECUTE&&(Ir(o,zm()),s.stop())})},p1=(Xd={},Xd[Fu()]=["disabling","alloy.base.behaviour","toggling","item-events"],Xd),bv=Cr,Yd=function(t,r,o,s){var l=Qn(ve);return{type:"item",dom:r.dom,components:bv(r.optComponents),data:t.data,eventOrder:p1,hasSubmenu:t.triggersSubmenu,itemBehaviours:fn([Ar("item-events",[ew(t,o),Ig(t,l),$g(t,l)]),Lu.item(function(){return t.disabled||s.isDisabled()}),xo(),yr.config({})].concat(t.itemBehaviours))}},Zd=function(t){return{value:t.value,meta:$({text:t.text.getOr("")},t.meta)}},tw=tinymce.util.Tools.resolve("tinymce.Env"),o6=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=tw.mac?r:o,l=t.split("+"),f=dt(l,function(d){var h=d.toLowerCase().trim();return Ut(s,h)?s[h]:d});return tw.mac?f.join(""):f.join("+")},nw=function(t,r,o){return o===void 0&&(o=[A2]),oc(t,{tag:"div",classes:o},r)},R4=function(t){return{dom:{tag:"div",classes:[u1]},components:[Uf($u.translate(t))]}},N4=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},i6=function(t,r){return{dom:{tag:"div",classes:[u1]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Uf($u.translate(r))]}]}},u6=function(t){return{dom:{tag:"div",classes:[D2],innerHtml:o6(t)}}},I4=function(t){return nw("checkmark",t,[_2])},s6=function(t){return nw("chevron-right",t,[J3])},c6=function(t){return nw("chevron-down",t,[J3])},l6=function(t,r){var o=t.direction==="vertical"?e4:P2,s=t.align==="left"?kB:SB,l=function(){switch(t.valign){case"top":return EB;case"middle":return TB;case"bottom":return OB}};return{dom:{tag:"div",classes:[Q3,o,s,l()]},components:r}},$4=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},f6=function(t,r,o){var s="custom",l="remove",f=t.ariaLabel,d=t.value,h=t.iconContent.map(function(y){return I3(y,r.icons,o)}),p=function(){var y=yf,S=h.getOr(""),E=f.map(function(R){return{title:r.translate(R)}}).getOr({}),F={tag:"div",attributes:E,classes:[y]};return d===s?$($({},F),{tag:"button",classes:Oe(Oe([],F.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:S}):d===l?$($({},F),{classes:Oe(Oe([],F.classes,!0),["tox-swatch--remove"],!1),innerHtml:S}):$($({},F),{attributes:$($({},F.attributes),{"data-mce-color":d}),styles:{"background-color":d}})};return{dom:p(),optComponents:[]}},z4=function(t){var r=t.map(function(o){return{attributes:{title:$u.translate(o)}}}).getOr({});return $({tag:"div",classes:[T2,O2]},r)},Bl=function(t,r,o,s){var l={tag:"div",classes:[A2]},f=function(F){return oc(F,l,r.icons,s)},d=function(){return C.some({dom:l})},h=o?t.iconContent.map(f).orThunk(d):C.none(),p=t.checkMark,y=C.from(t.meta).fold(function(){return R4},function(F){return Ut(F,"style")?St(i6,F.style):R4}),S=t.htmlContent.fold(function(){return t.textContent.map(y)},function(F){return C.some(N4(F,[u1]))}),E={dom:z4(t.ariaLabel),optComponents:[h,S,t.shortcutContent.map(u6),p,t.caret]};return E},zg=function(t,r,o,s){return s===void 0&&(s=C.none()),t.presets==="color"?f6(t,r,s):Bl(t,r,o,s)},L4=function(t,r){return it(t,"tooltipWorker").map(function(o){return[C4.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Qm}}},mode:"follow-highlight",onShow:function(s,l){o(function(f){C4.setComponents(s,[Kh({element:Q.fromDom(f)})])})}})]}).getOr([])},rw=function(t){return Fg.DOM.encode(t)},Ao=function(t,r){var o=$u.translate(t),s=rw(o);if(r.length>0){var l=new RegExp(zB(r),"gi");return s.replace(l,function(f){return'<span class="tox-autocompleter-highlight">'+f+"</span>"})}else return s},v6=function(t,r,o,s,l,f,d,h){h===void 0&&(h=!0);var p=zg({presets:s,textContent:C.none(),htmlContent:o?t.text.map(function(y){return Ao(y,r)}):C.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:C.none(),checkMark:C.none(),caret:C.none(),value:t.value},d.providers,h,t.icon);return Yd({data:Zd(t),disabled:t.disabled,getApi:I({}),onAction:function(y){return l(t.value,t.meta)},onSetup:I(ve),triggersSubmenu:!1,itemBehaviours:L4(t.meta,d)},p,f,d.providers)},H4=function(t,r){return dt(t,function(o){switch(o.type){case"cardcontainer":return l6(o,H4(o.items,r));case"cardimage":return $4(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(f){return Zt(r.cardText.highlightOn,f)}),l=s?C.from(r.cardText.matchText).getOr(""):"";return N4(Ao(o.text,l),o.classes)}})},d6=function(t,r,o,s){var l=function(d){return{isDisabled:function(){return Yn.isDisabled(d)},setDisabled:function(h){Yn.set(d,h),Fe(qo(d.element,"*"),function(p){d.getSystem().getByDom(p).each(function(y){y.hasConfigured(Yn)&&Yn.set(y,h)})})}}},f={dom:z4(t.label),optComponents:[C.some({dom:{tag:"div",classes:[Q3,P2]},components:H4(t.items,s)})]};return Yd({data:Zd($({text:C.none()},t)),disabled:t.disabled,getApi:l,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:C.from(s.itemBehaviours).getOr([])},f,r,o.providers)},m6=function(t,r,o,s,l,f,d,h){h===void 0&&(h=!0);var p=function(S){return{setActive:function(E){Ur.set(S,E)},isActive:function(){return Ur.isOn(S)},isDisabled:function(){return Yn.isDisabled(S)},setDisabled:function(E){return Yn.set(S,E)}}},y=zg({presets:o,textContent:r?t.text:C.none(),htmlContent:C.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:C.none(),checkMark:r?C.some(I4(d.icons)):C.none(),caret:C.none(),value:t.value},d,h);return wt(Yd({data:Zd(t),disabled:t.disabled,getApi:p,onAction:function(S){return s(t.value)},onSetup:function(S){return S.setActive(l),ve},triggersSubmenu:!1,itemBehaviours:[]},y,f,d),{toggling:{toggleClass:Z3,toggleOnExecute:!1,selected:t.active}})},V4=py(Zy(),Jy()),U4=function(t){return{value:t}},W4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,j4=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,q4=function(t){return W4.test(t)||j4.test(t)},g6=function(t){return Fa(t,"#").toUpperCase()},h6=function(t){return q4(t)?C.some({value:g6(t)}):C.none()},p6=function(t){var r=t.value.replace(W4,function(o,s,l,f){return s+s+l+l+f+f});return{value:r}},b6=function(t){var r=p6(t),o=j4.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},aw=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},Lg=function(t){var r=aw(t.red)+aw(t.green)+aw(t.blue);return U4(r)},G4=Math.min,K4=Math.max,b1=Math.round,y6=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,w6=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Cf=function(t,r,o,s){return{red:t,green:r,blue:o,alpha:s}},ow=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},X4=function(t){var r,o,s,l=(t.hue||0)%360,f=t.saturation/100,d=t.value/100;if(f=K4(0,G4(f,1)),d=K4(0,G4(d,1)),f===0)return r=o=s=b1(255*d),Cf(r,o,s,1);var h=l/60,p=d*f,y=p*(1-Math.abs(h%2-1)),S=d-p;switch(Math.floor(h)){case 0:r=p,o=y,s=0;break;case 1:r=y,o=p,s=0;break;case 2:r=0,o=p,s=y;break;case 3:r=0,o=y,s=p;break;case 4:r=y,o=0,s=p;break;case 5:r=p,o=0,s=y;break;default:r=o=s=0}return r=b1(255*(r+S)),o=b1(255*(o+S)),s=b1(255*(s+S)),Cf(r,o,s,1)},Hg=function(t){var r=b6(t),o=parseInt(r[1],16),s=parseInt(r[2],16),l=parseInt(r[3],16);return Cf(o,s,l,1)},Y4=function(t,r,o,s){var l=parseInt(t,10),f=parseInt(r,10),d=parseInt(o,10),h=parseFloat(s);return Cf(l,f,d,h)},Z4=function(t){if(t==="transparent")return C.some(Cf(0,0,0,0));var r=y6.exec(t);if(r!==null)return C.some(Y4(r[1],r[2],r[3],"1"));var o=w6.exec(t);return o!==null?C.some(Y4(o[1],o[2],o[3],o[4])):C.none()},iw=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},J4=Cf(255,0,0,1),C6=function(t){return t.fire("SkinLoaded")},x6=function(t,r){return t.fire("SkinLoadError",r)},Q4=function(t){return t.fire("ResizeEditor")},uw=function(t,r){return t.fire("ResizeContent",r)},S6=function(t,r){return t.fire("ScrollContent",r)},k6=function(t,r){return t.fire("TextColorChange",r)},Vg=function(t,r,o){return{hue:t,saturation:r,value:o}},y1=function(t){var r=0,o=0,s=0,l=t.red/255,f=t.green/255,d=t.blue/255,h=Math.min(l,Math.min(f,d)),p=Math.max(l,Math.max(f,d));if(h===p)return s=h,Vg(0,0,s*100);var y=l===h?f-d:d===h?l-f:d-l;return r=l===h?3:d===h?1:5,r=60*(r-y/(p-h)),o=(p-h)/p,s=p,Vg(Math.round(r),Math.round(o*100),Math.round(s*100))},E6=function(t){return y1(Hg(t))},sw=function(t){return Lg(X4(t))},eE=function(t){return h6(t).orThunk(function(){return Z4(t).map(Lg)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,l=s[0],f=s[1],d=s[2],h=s[3];return Lg(Cf(l,f,d,h))})},w1=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),cw="tinymce-custom-colors";function T6(t){t===void 0&&(t=10);var r=w1.getItem(cw),o=ue(r)?JSON.parse(r):[],s=function(p){var y=t-p.length;return y<0?p.slice(0,t):p},l=s(o),f=function(p){Yt(l,p).each(d),l.unshift(p),l.length>t&&l.pop(),w1.setItem(cw,JSON.stringify(l))},d=function(p){l.splice(p,1)},h=function(){return l.slice(0)};return{add:f,state:h}}var Do="choiceitem",O6=[{type:Do,text:"Light Green",value:"#BFEDD2"},{type:Do,text:"Light Yellow",value:"#FBEEB8"},{type:Do,text:"Light Red",value:"#F8CAC6"},{type:Do,text:"Light Purple",value:"#ECCAFA"},{type:Do,text:"Light Blue",value:"#C2E0F4"},{type:Do,text:"Green",value:"#2DC26B"},{type:Do,text:"Yellow",value:"#F1C40F"},{type:Do,text:"Red",value:"#E03E2D"},{type:Do,text:"Purple",value:"#B96AD9"},{type:Do,text:"Blue",value:"#3598DB"},{type:Do,text:"Dark Turquoise",value:"#169179"},{type:Do,text:"Orange",value:"#E67E23"},{type:Do,text:"Dark Red",value:"#BA372A"},{type:Do,text:"Dark Purple",value:"#843FA1"},{type:Do,text:"Dark Blue",value:"#236FA1"},{type:Do,text:"Light Gray",value:"#ECF0F1"},{type:Do,text:"Medium Gray",value:"#CED4D9"},{type:Do,text:"Gray",value:"#95A5A6"},{type:Do,text:"Dark Gray",value:"#7E8C8D"},{type:Do,text:"Navy Blue",value:"#34495E"},{type:Do,text:"Black",value:"#000000"},{type:Do,text:"White",value:"#ffffff"}],tE=T6(10),A6=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+eE(t[o]).value,type:"choiceitem"});return r},D6=function(t,r){return t.getParam("color_cols",r,"number")},C1=function(t){return t.getParam("custom_colors")!==!1},nE=function(t){return t.getParam("color_map")},lw=function(t){var r=nE(t);return r!==void 0?A6(r):O6},rE=function(){return dt(tE.state(),function(t){return{type:Do,text:t,value:t}})},aE=function(t){tE.add(t)},fw="#000000",vw=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(s){var l;(l=s.style[r==="forecolor"?"color":"background-color"])&&(o=o||l)}),C.from(o)},_6=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},P6=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},B6=function(t){t.addCommand("mceApplyTextcolor",function(r,o){_6(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){P6(t,r)})},oE=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},iE=function(t){var r=lw(t),o=oE(r.length);return D6(t,o)},dw=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},mw=function(t,r,o,s){if(o==="custom"){var l=fE(t);l(function(f){f.each(function(d){aE(d),t.execCommand("mceApplyTextcolor",r,d),s(d)})},fw)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",r)):(s(o),t.execCommand("mceApplyTextcolor",r,o))},Jd=function(t,r){return t.concat(rE().concat(dw(r)))},uE=function(t,r){return function(o){o(Jd(t,r))}},sE=function(t,r,o){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},cE=function(t,r,o,s,l){t.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(f){var d=vw(t,o);return d.bind(function(h){return Z4(h).map(function(p){var y=Lg(p).value;return Br(f.toLowerCase(),y)})}).getOr(!1)},columns:iE(t),fetch:uE(lw(t),C1(t)),onAction:function(f){mw(t,o,l.get(),ve)},onItemAction:function(f,d){mw(t,o,d,function(h){l.set(h),k6(t,{name:r,color:h})})},onSetup:function(f){sE(f,r,l.get());var d=function(h){h.name===r&&sE(f,h.name,h.color)};return t.on("TextColorChange",d),function(){t.off("TextColorChange",d)}}})},lE=function(t,r,o,s){t.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(l){mw(t,o,l.value,ve)}}]}})},fE=function(t){return function(r,o){var s=!1,l=function(h){var p=h.getData(),y=p.colorpicker;s?(r(C.from(y)),h.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",y]))},f=function(h,p){p.name==="hex-valid"&&(s=p.value)},d={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:f,onSubmit:l,onClose:ve,onCancel:function(){r(C.none())}})}},F6=function(t){B6(t);var r=Qn(fw),o=Qn(fw);cE(t,"forecolor","forecolor","Text color",r),cE(t,"backcolor","hilitecolor","Background color",o),lE(t,"forecolor","forecolor","Text color"),lE(t,"backcolor","hilitecolor","Background color")},x1=function(t,r,o,s,l,f,d,h){var p=l1(r),y=l!=="color"?"normal":"color",S=vE(r,o,s,y,f,d,h);return f1(t,p,S,s,l)},vE=function(t,r,o,s,l,f,d){return Cr(dt(t,function(h){return h.type==="choiceitem"?s4(h).fold(uc,function(p){return C.some(m6(p,o===1,s,r,f(h.value),l,d,l1(t)))}):C.none()}))},Ug=function(t,r){var o=Pl(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},M6=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+yf:"."+O2}}},gw=function(t,r){var o=R6(t,r),s=r.colorinput.getColorCols(),l="color",f=x1(Bn("menu-value"),o,function(h){t.onAction({value:h})},s,l,ic.CLOSE_ON_EXECUTE,Ue,r.shared.providers),d=$($({},f),{markers:Pl(l),movement:Ug(s,l)});return{type:"widget",data:{value:Bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[V4.widget(bf.sketch(d))]}},R6=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return Jd(r.colorinput.getColors(),o)},function(s){return s.concat(dw(o))})},dE=Bn("cell-over"),mE=Bn("cell-execute"),N6=function(t,r,o){var s,l=function(h){return er(h,dE,{row:t,col:r})},f=function(h){return er(h,mE,{row:t,col:r})},d=function(h,p){p.stop(),f(h)};return di({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:fn([Ar("insert-table-picker-cell",[It(Gl(),fr.focus),It(Fu(),f),It(Nm(),d),It(cd(),d)]),Ur.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),fr.config({onFocus:l})])})},I6=function(t,r,o){for(var s=[],l=0;l<r;l++){for(var f=[],d=0;d<o;d++)f.push(N6(l,d,t));s.push(f)}return s},$6=function(t,r,o,s,l){for(var f=0;f<s;f++)for(var d=0;d<l;d++)Ur.set(t[f][d],f<=r&&d<=o)},z6=function(t){return vt(t,function(r){return dt(r,Nu)})},gE=function(t,r){return Uf(r+"x"+t)},L6=function(t){var r=10,o=10,s=Bn("size-label"),l=I6(s,r,o),f=gE(0,0),d=Jr({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[f],behaviours:fn([yr.config({})])});return{type:"widget",data:{value:Bn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[V4.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:z6(l).concat(d.asSpec()),behaviours:fn([Ar("insert-table-picker",[Ka(function(h){yr.set(d.get(h),[f])}),Yl(dE,function(h,p,y){var S=y.event,E=S.row,F=S.col;$6(l,E,F,r,o),yr.set(d.get(h),[gE(E+1,F+1)])}),Yl(mE,function(h,p,y){var S=y.event,E=S.row,F=S.col;t.onAction({numRows:E+1,numColumns:F+1}),Ir(h,zm())})]),tr.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},H6={inserttable:L6,colorswatch:gw},V6=function(t,r){return it(H6,t.fancytype).map(function(o){return o(t,r)})},U6=function(t,r,o,s,l){s===void 0&&(s=!0),l===void 0&&(l=!1);var f=l?c6(o.icons):s6(o.icons),d=function(p){return{isDisabled:function(){return Yn.isDisabled(p)},setDisabled:function(y){return Yn.set(p,y)}}},h=zg({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:C.none(),ariaLabel:t.text,caret:C.some(f),checkMark:C.none(),shortcutContent:t.shortcut},o,s);return Yd({data:Zd(t),getApi:d,disabled:t.disabled,onAction:ve,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},h,r,o)},hE=function(t,r,o,s){s===void 0&&(s=!0);var l=function(d){return{isDisabled:function(){return Yn.isDisabled(d)},setDisabled:function(h){return Yn.set(d,h)}}},f=zg({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:C.none(),ariaLabel:t.text,caret:C.none(),checkMark:C.none(),shortcutContent:t.shortcut},o,s);return Yd({data:Zd(t),getApi:l,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,r,o)},W6=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:$({tag:"div",classes:[O2,xB]},r),components:[]}},j6=function(t,r,o,s){s===void 0&&(s=!0);var l=function(d){return{setActive:function(h){Ur.set(d,h)},isActive:function(){return Ur.isOn(d)},isDisabled:function(){return Yn.isDisabled(d)},setDisabled:function(h){return Yn.set(d,h)}}},f=zg({iconContent:t.icon,textContent:t.text,htmlContent:C.none(),ariaLabel:t.text,checkMark:C.some(I4(o.icons)),caret:C.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return wt(Yd({data:Zd(t),disabled:t.disabled,getApi:l,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,r,o),{toggling:{toggleClass:Z3,toggleOnExecute:!1,selected:t.active}})},hw=v6,Wg=W6,q6=hE,S1=U6,G6=j6,K6=V6,X6=d6,jg;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(jg||(jg={}));var Y6=function(t,r,o,s,l){var f=o.shared.providers,d=function(h){return l?$($({},h),{shortcut:C.none(),icon:h.text.isSome()?C.none():h.icon}):h};switch(t.type){case"menuitem":return MB(t).fold(uc,function(h){return C.some(q6(d(h),r,f,s))});case"nestedmenuitem":return NB(t).fold(uc,function(h){return C.some(S1(d(h),r,f,s,l))});case"togglemenuitem":return v4(t).fold(uc,function(h){return C.some(G6(d(h),r,f,s))});case"separator":return dB(t).fold(uc,function(h){return C.some(Wg(h))});case"fancymenuitem":return l4(t).fold(uc,function(h){return K6(d(h),o)});default:return console.error("Unknown item in general menu",t),C.none()}},Z6=function(t,r,o,s,l,f,d){var h=s===1,p=!h||l1(t);return Cr(dt(t,function(y){switch(y.type){case"separator":return gB(y).fold(uc,function(S){return C.some(Wg(S))});case"cardmenuitem":return u4(y).fold(uc,function(S){return C.some(X6($($({},S),{onAction:function(E){S.onAction(E),o(S.value,S.meta)}}),l,f,{itemBehaviours:L4(S.meta,f),cardText:{matchText:r,highlightOn:d}}))});case"autocompleteitem":default:return hB(y).fold(uc,function(S){return C.some(hw(S,r,h,"normal",o,l,f,p))})}}))},pw=function(t,r,o,s,l){var f=l1(r),d=Cr(dt(r,function(p){var y=function(E){return l?!Ut(E,"text"):f},S=function(E){return Y6(E,o,s,y(E),l)};return p.type==="nestedmenuitem"&&p.getSubmenuItems().length<=0?S($($({},p),{disabled:!0})):S(p)})),h=l?DB:f1;return h(t,f,d,1,"normal")},pE=function(t){return lv.singleData(t.value,t)},J6=function(t,r,o,s){var l=o===jg.ContentFocus?Ek():wg(),f=Ug(r,s),d=Pl(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:d.selectedItem,item:d.item},movement:f,fakeFocus:o===jg.ContentFocus,focusManager:l,menuBehaviours:d1.unnamedEvents(r!=="auto"?[]:[Ka(function(h,p){z2(h,4,d.item).each(function(y){var S=y.numColumns,E=y.numRows;tr.setGridSize(h,E,S)})})])}},Q6=function(t,r){var o=Za(),s=Qn(!1),l=di(Na.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:fn([Ar("dismissAutocompleter",[It(Ys(),function(){return p()})])]),lazySink:r.getSink})),f=function(){return Na.isOpen(l)},d=function(){return o.get().isSome()},h=function(){d()&&Na.hide(l)},p=function(){if(d()){var K=o.get().map(function(Ce){return Ce.element});a1(K.getOr(Q.fromDom(t.selection.getNode()))).each(Em),h(),o.clear(),s.set(!1)}},y=Ve(function(){return k2(t)}),S=function(K,Ce){var mt=Le(Ce,function(bt){return C.from(bt.columns)}).getOr(1);return vt(Ce,function(bt){var ye=bt.items;return Z6(ye,bt.matchText,function(tt,Ot){var yn=t.selection.getRng();g2(t.dom,yn,K).fold(function(){return console.error("Lost context. Cursor probably moved")},function(At){var wn=At.range,zt={hide:function(){p()},reload:function(Et){h(),W(Et)}};s.set(!0),bt.onAction(zt,wn,tt,Ot),s.set(!1)})},mt,ic.BUBBLE_TO_SANDBOX,r,bt.highlightOn)})},E=function(K){if(!d()){var Ce=rB(t,K.range);o.set({triggerChar:K.triggerChar,element:Ce,matchLength:K.text.length}),s.set(!1)}},F=function(K,Ce,mt,bt){K.matchLength=Ce.text.length;var ye=Le(mt,function(tt){return C.from(tt.columns)}).getOr(1);Na.showAt(l,bf.sketch(J6(f1("autocompleter-value",!0,bt,ye,"normal"),ye,jg.ContentFocus,"normal")),{anchor:{type:"node",root:Q.fromDom(t.getBody()),node:C.from(K.element)}}),Na.getContent(l).each(Qr.highlightFirst)},R=function(K){return o.get().map(function(Ce){return g2(t.dom,t.selection.getRng(),Ce.triggerChar).bind(function(mt){return U3(t,y,mt,K)})}).getOrThunk(function(){return vB(t,y)})},W=function(K){R(K).fold(p,function(Ce){E(Ce.context),Ce.lookupData.then(function(mt){o.get().map(function(bt){var ye=Ce.context;if(bt.triggerChar===ye.triggerChar){var tt=S(ye.triggerChar,mt);tt.length>0?F(bt,ye,mt,tt):ye.text.length-bt.matchLength>=10?p():h()}})})})},ee=d2(function(K){K.which!==27&&W()},50),pe={onKeypress:ee,cancelIfNecessary:p,isMenuOpen:f,isActive:d,isProcessingAction:s.get,getView:function(){return Na.getContent(l)}};t.hasPlugin("rtc")===!1&&uB.setup(pe,t)},eF={register:Q6},qg=function(t,r,o){return ru(t,r,o).isSome()},bE=function(t,r){var o=null,s=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];o=setTimeout(function(){t.apply(null,f),o=null},r)},l=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:l,schedule:s}},yE=5,bw=400,wE=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?C.none():C.some(r.touches[0])},CE=function(t,r){var o=Math.abs(t.clientX-r.x),s=Math.abs(t.clientY-r.y);return o>yE||s>yE},tF=function(t){var r=Za(),o=Qn(!1),s=bE(function(y){t.triggerEvent(tb(),y),o.set(!0)},bw),l=function(y){return wE(y).each(function(S){s.cancel();var E={x:S.clientX,y:S.clientY,target:y.target};s.schedule(y),o.set(!1),r.set(E)}),C.none()},f=function(y){return s.cancel(),wE(y).each(function(S){r.on(function(E){CE(S,E)&&r.clear()})}),C.none()},d=function(y){s.cancel();var S=function(E){return _a(E.target,y.target)};return r.get().filter(S).map(function(E){return o.get()?(y.prevent(),!1):t.triggerEvent(cd(),y)})},h=$f([{key:hl(),value:l},{key:Ks(),value:f},{key:Rm(),value:d}]),p=function(y,S){return it(h,S).bind(function(E){return E(y)})};return{fireIfReady:p}},nF=function(t){var r=t.raw;return r.which===_y[0]&&!Zt(["input","textarea"],ne(t.target))&&!qg(t.target,'[contenteditable="true"]')},yw=function(){return Jn().browser.isFirefox()},Gg=function(t,r){return yw()?dp(t,"focus",r):mo(t,"focusin",r)},rF=function(t,r){return yw()?dp(t,"blur",r):mo(t,"focusout",r)},aF=function(t,r){var o=$({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],l=tF(o),f=dt(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(R){return mo(t,R,function(W){l.fireIfReady(W,R).each(function(pe){pe&&W.kill()});var ee=o.triggerEvent(R,W);ee&&W.kill()})}),d=Za(),h=mo(t,"paste",function(R){l.fireIfReady(R,"paste").each(function(ee){ee&&R.kill()});var W=o.triggerEvent("paste",R);W&&R.kill(),d.set(setTimeout(function(){o.triggerEvent(eb(),R)},0))}),p=mo(t,"keydown",function(R){var W=o.triggerEvent("keydown",R);W?R.kill():o.stopBackspace&&nF(R)&&R.prevent()}),y=Gg(t,function(R){var W=o.triggerEvent("focusin",R);W&&R.kill()}),S=Za(),E=rF(t,function(R){var W=o.triggerEvent("focusout",R);W&&R.kill(),S.set(setTimeout(function(){o.triggerEvent(Q0(),R)},0))}),F=function(){Fe(f,function(R){R.unbind()}),p.unbind(),y.unbind(),E.unbind(),h.unbind(),d.on(clearTimeout),S.on(clearTimeout)};return{unbind:F}},xE=function(t,r){var o=it(t,"target").getOr(r);return Qn(o)},k1=function(t,r){var o=Qn(!1),s=Qn(!1),l=function(){o.set(!0)},f=function(){s.set(!0)};return{stop:l,cut:f,isStopped:o.get,isCut:s.get,event:t,setSource:r.set,getSource:r.get}},oF=function(t){var r=Qn(!1),o=function(){r.set(!0)};return{stop:o,cut:ve,isStopped:r.get,isCut:Ue,event:t,setSource:Ae("Cannot set source of a broadcasted event"),getSource:Ae("Cannot get source of a broadcasted event")}},Kg=es.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),ww=function(t,r,o,s,l,f){var d=t(r,s),h=k1(o,l);return d.fold(function(){return f.logEventNoHandlers(r,s),Kg.complete()},function(p){var y=p.descHandler,S=lb(y);return S(h),h.isStopped()?(f.logEventStopped(r,p.element,y.purpose),Kg.stopped()):h.isCut()?(f.logEventCut(r,p.element,y.purpose),Kg.complete()):Eo(p.element).fold(function(){return f.logNoParent(r,p.element,y.purpose),Kg.complete()},function(E){return f.logEventResponse(r,p.element,y.purpose),Kg.resume(E)})})},SE=function(t,r,o,s,l,f){return ww(t,r,o,s,l,f).fold(Ee,function(d){return SE(t,r,o,d,l,f)},Ue)},iF=function(t,r,o,s,l){var f=xE(o,s);return ww(t,r,o,s,f,l)},uF=function(t,r,o){var s=oF(r);return Fe(t,function(l){var f=l.descHandler,d=lb(f);d(s)}),s.isStopped()},sF=function(t,r,o,s){return kE(t,r,o,o.target,s)},kE=function(t,r,o,s,l){var f=xE(o,s);return SE(t,r,o,s,f,l)},cF=function(t,r){return{element:t,descHandler:r}},lF=function(t,r){return{id:t,descHandler:r}},fF=function(){var t={},r=function(d,h,p){dn(p,function(y,S){var E=t[S]!==void 0?t[S]:{};E[h]=cb(y,d),t[S]=E})},o=function(d,h){return Jl(h).bind(function(p){return it(d,p)}).map(function(p){return cF(h,p)})},s=function(d){return it(t,d).map(function(h){return Nn(h,function(p,y){return lF(y,p)})}).getOr([])},l=function(d,h,p){return it(t,h).bind(function(y){return K0(p,function(S){return o(y,S)},d)})},f=function(d){dn(t,function(h,p){Ut(h,d)&&delete h[d]})};return{registerId:r,unregisterId:f,filterByType:s,find:l}},vF=function(){var t=fF(),r={},o=function(y){var S=y.element;return Jl(S).getOrThunk(function(){return Ax("uid-",y.element)})},s=function(y,S){var E=r[S];if(E===y)f(y);else throw new Error('The tagId "'+S+'" is already used by: '+gu(E.element)+`
Cannot use it for: `+gu(y.element)+`
The conflicting element is`+(pr(E.element)?" ":" not ")+"already in the DOM")},l=function(y){var S=o(y);Pn(r,S)&&s(y,S);var E=[y];t.registerId(E,S,y.events),r[S]=y},f=function(y){Jl(y.element).each(function(S){delete r[S],t.unregisterId(S)})},d=function(y){return t.filterByType(y)},h=function(y,S,E){return t.find(y,S,E)},p=function(y){return it(r,y)};return{find:h,filter:d,register:l,unregister:f,getById:p}},yv=function(t){var r=t.dom,o=r.attributes,s=ae(r,["attributes"]);return{uid:t.uid,dom:$({tag:"div",attributes:$({role:"presentation"},o)},s),components:t.components,behaviours:cg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},pi=pu({name:"Container",factory:yv,configFields:[Se("components",[]),Mo("containerBehaviours",[]),Se("events",{}),Se("domModification",{}),Se("eventOrder",{})]}),EE=function(t){var r=function(K){return Eo(t.element).fold(Ee,function(Ce){return _a(K,Ce)})},o=vF(),s=function(K,Ce){return o.find(r,K,Ce)},l=aF(t.element,{triggerEvent:function(K,Ce){return qf(K,Ce.target,function(mt){return sF(s,K,Ce,mt)})}}),f={debugInfo:I("real"),triggerEvent:function(K,Ce,mt){qf(K,Ce,function(bt){return kE(s,K,mt,Ce,bt)})},triggerFocus:function(K,Ce){Jl(K).fold(function(){Fc(K)},function(mt){qf(Xl(),K,function(bt){return iF(s,Xl(),{originator:Ce,kill:ve,prevent:ve,target:K},K,bt),!1})})},triggerEscape:function(K,Ce){f.triggerEvent("keydown",K.element,Ce.event)},getByUid:function(K){return ee(K)},getByDom:function(K){return pe(K)},build:di,addToGui:function(K){p(K)},removeFromGui:function(K){y(K)},addToWorld:function(K){d(K)},removeFromWorld:function(K){h(K)},broadcast:function(K){F(K)},broadcastOn:function(K,Ce){R(K,Ce)},broadcastEvent:function(K,Ce){W(K,Ce)},isConnected:Ee},d=function(K){K.connect(f),H(K.element)||(o.register(K),Fe(K.components(),d),f.triggerEvent(Lm(),K.element,{target:K.element}))},h=function(K){H(K.element)||(Fe(K.components(),h),o.unregister(K)),K.disconnect()},p=function(K){gi(t,K)},y=function(K){ks(K)},S=function(){l.unbind(),Ou(t.element)},E=function(K){var Ce=o.filter(ts());Fe(Ce,function(mt){var bt=mt.descHandler,ye=lb(bt);ye(K)})},F=function(K){E({universal:!0,data:K})},R=function(K,Ce){E({universal:!1,channels:K,data:Ce})},W=function(K,Ce){var mt=o.filter(K);return uF(mt,Ce)},ee=function(K){return o.getById(K).fold(function(){return Or.error(new Error('Could not find component with uid: "'+K+'" in system.'))},Or.value)},pe=function(K){var Ce=Jl(K).getOr("not found");return ee(Ce)};return d(t),{root:t,element:t.element,destroy:S,add:p,remove:y,getByUid:ee,getByDom:pe,addToWorld:d,removeFromWorld:h,broadcast:F,broadcastOn:R,broadcastEvent:W}},dF=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:dt(t.items,r.interpreter)}},mF=I([Se("prefix","form-field"),Mo("fieldBehaviours",[$r,xn])]),E1=I([rc({schema:[Nt("dom")],name:"label"}),rc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Nt("text")],name:"aria-descriptor"}),oi({factory:{sketch:function(t){var r=q0(t,["factory"]);return t.factory.sketch(r)}},schema:[Nt("factory")],name:"field"})]),TE=function(t,r,o,s){var l=Ro(t.fieldBehaviours,[$r.config({find:function(h){return va(h,t,"field")}}),xn.config({store:{mode:"manual",getValue:function(h){return $r.getCurrent(h).bind(xn.getValue)},setValue:function(h,p){$r.getCurrent(h).each(function(y){xn.setValue(y,p)})}}})]),f=ya([Ka(function(h,p){var y=uk(h,t,["label","field","aria-descriptor"]);y.field().each(function(S){var E=Bn(t.prefix);y.label().each(function(F){Dr(F.element,"for",E),Dr(S.element,"id",E)}),y["aria-descriptor"]().each(function(F){var R=Bn(t.prefix);Dr(F.element,"id",R),Dr(S.element,"aria-describedby",R)})})})]),d={getField:function(h){return va(h,t,"field")},getLabel:function(h){return va(h,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:l,events:f,apis:d}},Kr=Gi({name:"FormField",configFields:mF(),partFields:E1(),factory:TE,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),gF=function(t,r){return xs({attributes:$f([{key:r.tabAttr,value:"true"}])})},hF=Object.freeze({__proto__:null,exhibit:gF}),pF=[Se("tabAttr","data-alloy-tabstop")],Ja=vo({fields:pF,name:"tabstopping",active:hF}),bF=tinymce.util.Tools.resolve("tinymce.html.Entities"),Xg=function(t,r,o,s){var l=OE(t,r,o,s);return Kr.sketch(l)},yF=function(t,r){return Xg(t,r,[],[])},OE=function(t,r,o,s){return{dom:AE(o),components:t.toArray().concat([r]),fieldBehaviours:fn(s)}},wF=function(){return AE([])},AE=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},xf=function(t,r){return Kr.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},bu=Bn("form-component-change"),yu=Bn("form-close"),Hu=Bn("form-cancel"),Vc=Bn("form-action"),Qd=Bn("form-submit"),T1=Bn("form-block"),em=Bn("form-unblock"),DE=Bn("form-tabchange"),O1=Bn("form-resize"),Cw=function(t,r){var o,s=t.label.map(function(E){return xf(E,r)}),l=function(E){return function(F,R){ru(R.event.target,"[data-collection-item-value]").each(function(W){E(F,R,W,Ma(W,"data-collection-item-value"))})}},f=function(E,F){var R=dt(F,function(pe){var K=$u.translate(pe.text),Ce=t.columns===1?'<div class="tox-collection__item-label">'+K+"</div>":"",mt='<div class="tox-collection__item-icon">'+pe.icon+"</div>",bt={_:" "," - ":" ","-":" "},ye=K.replace(/\_| \- |\-/g,function(Ot){return bt[Ot]}),tt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+tt+'" tabindex="-1" data-collection-item-value="'+bF.encodeAllRaw(pe.value)+'" title="'+ye+'" aria-label="'+ye+'">'+mt+Ce+"</div>"}),W=t.columns!=="auto"&&t.columns>1?Wn(R,t.columns):[R],ee=dt(W,function(pe){return'<div class="tox-collection__group">'+pe.join("")+"</div>"});Oc(E.element,ee.join(""))},d=l(function(E,F,R,W){F.stop(),r.isDisabled()||er(E,Vc,{name:t.name,value:W})}),h=[It(Gl(),l(function(E,F,R){Fc(R)})),It(Nm(),d),It(cd(),d),It(Kl(),l(function(E,F,R){Co(E.element,"."+mv).each(function(W){wo(W,mv)}),Wo(R,mv)})),It(Zo(),l(function(E){Co(E.element,"."+mv).each(function(F){wo(F,mv)})})),Ec(l(function(E,F,R,W){er(E,Vc,{name:t.name,value:W})}))],p=function(E,F){return dt(qo(E.element,".tox-collection__item"),F)},y=Kr.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:je},behaviours:fn([Yn.config({disabled:r.isDisabled,onDisabled:function(E){p(E,function(F){Wo(F,"tox-collection__item--state-disabled"),Dr(F,"aria-disabled",!0)})},onEnabled:function(E){p(E,function(F){wo(F,"tox-collection__item--state-disabled"),Ho(F,"aria-disabled")})}}),xo(),yr.config({}),xn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(E,F){f(E,F),t.columns==="auto"&&z2(E,5,"tox-collection__item").each(function(R){var W=R.numRows,ee=R.numColumns;tr.setGridSize(E,W,ee)}),Ir(E,O1)}}),Ja.config({}),tr.config(M6(t.columns,"normal")),Ar("collection-events",h)]),eventOrder:(o={},o[Fu()]=["disabling","alloy.base.behaviour","collection-events"],o)}),S=["tox-form__group--collection"];return Xg(s,y,S,[])},A1=I([ea("data"),Se("inputAttributes",{}),Se("inputStyles",{}),Se("tag","input"),Se("inputClasses",[]),Fr("onSetValue"),Se("styles",{}),Se("eventOrder",{}),Mo("inputBehaviours",[xn,fr]),Se("selectOnFocus",!0)]),_E=function(t){return fn([fr.config({onFocus:t.selectOnFocus?function(r){var o=r.element,s=rs(o);o.dom.setSelectionRange(0,s.length)}:ve})])},CF=function(t){return $($({},_E(t)),Ro(t.inputBehaviours,[xn.config({store:$($({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return rs(r.element)},setValue:function(r,o){var s=rs(r.element);s!==o&&md(r.element,o)}}),onSetValue:t.onSetValue})]))},PE=function(t){return{tag:t.tag,attributes:$({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},D1=function(t,r){return{uid:t.uid,dom:PE(t),components:[],behaviours:CF(t),eventOrder:t.eventOrder}},Yg=pu({name:"Input",configFields:A1(),factory:D1}),BE={},FE={exports:BE};(function(t,r,o,s){(function(l,f){typeof r=="object"&&typeof o!="undefined"?o.exports=f():typeof t=="function"&&t.amd?t(f):(l=typeof globalThis!="undefined"?globalThis:l||self,l.EphoxContactWrapper=f())})(this,function(){var l=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof FA!="undefined"?FA:typeof self!="undefined"?self:{},f={exports:{}};(function(y){(function(S){var E=setTimeout;function F(){}function R(ye,tt){return function(){ye.apply(tt,arguments)}}function W(ye){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ye!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],bt(ye,this)}function ee(ye,tt){for(;ye._state===3;)ye=ye._value;if(ye._state===0){ye._deferreds.push(tt);return}ye._handled=!0,W._immediateFn(function(){var Ot=ye._state===1?tt.onFulfilled:tt.onRejected;if(Ot===null){(ye._state===1?pe:K)(tt.promise,ye._value);return}var yn;try{yn=Ot(ye._value)}catch(At){K(tt.promise,At);return}pe(tt.promise,yn)})}function pe(ye,tt){try{if(tt===ye)throw new TypeError("A promise cannot be resolved with itself.");if(tt&&(typeof tt=="object"||typeof tt=="function")){var Ot=tt.then;if(tt instanceof W){ye._state=3,ye._value=tt,Ce(ye);return}else if(typeof Ot=="function"){bt(R(Ot,tt),ye);return}}ye._state=1,ye._value=tt,Ce(ye)}catch(yn){K(ye,yn)}}function K(ye,tt){ye._state=2,ye._value=tt,Ce(ye)}function Ce(ye){ye._state===2&&ye._deferreds.length===0&&W._immediateFn(function(){ye._handled||W._unhandledRejectionFn(ye._value)});for(var tt=0,Ot=ye._deferreds.length;tt<Ot;tt++)ee(ye,ye._deferreds[tt]);ye._deferreds=null}function mt(ye,tt,Ot){this.onFulfilled=typeof ye=="function"?ye:null,this.onRejected=typeof tt=="function"?tt:null,this.promise=Ot}function bt(ye,tt){var Ot=!1;try{ye(function(yn){Ot||(Ot=!0,pe(tt,yn))},function(yn){Ot||(Ot=!0,K(tt,yn))})}catch(yn){if(Ot)return;Ot=!0,K(tt,yn)}}W.prototype.catch=function(ye){return this.then(null,ye)},W.prototype.then=function(ye,tt){var Ot=new this.constructor(F);return ee(this,new mt(ye,tt,Ot)),Ot},W.all=function(ye){var tt=Array.prototype.slice.call(ye);return new W(function(Ot,yn){if(tt.length===0)return Ot([]);var At=tt.length;function wn(Et,pn){try{if(pn&&(typeof pn=="object"||typeof pn=="function")){var zn=pn.then;if(typeof zn=="function"){zn.call(pn,function(Bt){wn(Et,Bt)},yn);return}}tt[Et]=pn,--At===0&&Ot(tt)}catch(Bt){yn(Bt)}}for(var zt=0;zt<tt.length;zt++)wn(zt,tt[zt])})},W.resolve=function(ye){return ye&&typeof ye=="object"&&ye.constructor===W?ye:new W(function(tt){tt(ye)})},W.reject=function(ye){return new W(function(tt,Ot){Ot(ye)})},W.race=function(ye){return new W(function(tt,Ot){for(var yn=0,At=ye.length;yn<At;yn++)ye[yn].then(tt,Ot)})},W._immediateFn=typeof setImmediate=="function"?function(ye){setImmediate(ye)}:function(ye){E(ye,0)},W._unhandledRejectionFn=function(tt){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",tt)},W._setImmediateFn=function(tt){W._immediateFn=tt},W._setUnhandledRejectionFn=function(tt){W._unhandledRejectionFn=tt},y.exports?y.exports=W:S.Promise||(S.Promise=W)})(l)})(f);var d=f.exports,h=function(){return typeof window!="undefined"?window:Function("return this;")()}(),p={boltExport:h.Promise||d};return p})})(void 0,BE,FE);var Uc=FE.exports.boltExport,xw=function(t){var r=C.none(),o=[],s=function(y){return xw(function(S){l(function(E){S(y(E))})})},l=function(y){d()?p(y):o.push(y)},f=function(y){d()||(r=C.some(y),h(o),o=[])},d=function(){return r.isSome()},h=function(y){Fe(y,p)},p=function(y){r.each(function(S){setTimeout(function(){y(S)},0)})};return t(f),{get:l,map:s,isReady:d}},ME=function(t){return xw(function(r){r(t)})},xF={nu:xw,pure:ME},SF=function(t){setTimeout(function(){throw t},0)},wv=function(t){var r=function(p){t().then(p,SF)},o=function(p){return wv(function(){return t().then(p)})},s=function(p){return wv(function(){return t().then(function(y){return p(y).toPromise()})})},l=function(p){return wv(function(){return t().then(function(){return p.toPromise()})})},f=function(){return xF.nu(r)},d=function(){var p=null;return wv(function(){return p===null&&(p=t()),p})},h=t;return{map:o,bind:s,anonBind:l,toLazy:f,toCached:d,toPromise:h,get:r}},kF=function(t){return wv(function(){return new Uc(t)})},EF=function(t){return wv(function(){return Uc.resolve(t)})},Go={nu:kF,pure:EF},RE=["input","textarea"],NE=function(t){var r=ne(t);return Zt(RE,r)},IE=function(t,r){var o=r.getRoot(t).getOr(t.element);wo(o,r.invalidClass),r.notify.each(function(s){NE(t.element)&&Dr(t.element,"aria-invalid",!1),s.getContainer(t).each(function(l){Oc(l,s.validHtml)}),s.onValid(t)})},$E=function(t,r,o,s){var l=r.getRoot(t).getOr(t.element);Wo(l,r.invalidClass),r.notify.each(function(f){NE(t.element)&&Dr(t.element,"aria-invalid",!0),f.getContainer(t).each(function(d){Oc(d,s)}),f.onInvalid(t,s)})},zE=function(t,r,o){return r.validator.fold(function(){return Go.pure(Or.value(!0))},function(s){return s.validate(t)})},Sw=function(t,r,o){return r.notify.each(function(s){s.onValidate(t)}),zE(t,r).map(function(s){return t.getSystem().isConnected()?s.fold(function(l){return $E(t,r,o,l),Or.error(l)},function(l){return IE(t,r),Or.value(l)}):Or.error("No longer in system")})},_1=function(t,r){var o=r.getRoot(t).getOr(t.element);return Vi(o,r.invalidClass)},Xi=Object.freeze({__proto__:null,markValid:IE,markInvalid:$E,query:zE,run:Sw,isInvalid:_1}),LE=function(t,r){return t.validator.map(function(o){return ya([It(o.onEvent,function(s){Sw(s,t,r).get(je)})].concat(o.validateOnLoad?[Ka(function(s){Sw(s,t,r).get(ve)})]:[]))}).getOr({})},TF=Object.freeze({__proto__:null,events:LE}),OF=[Nt("invalidClass"),Se("getRoot",C.none),Bu("notify",[Se("aria","alert"),Se("getContainer",C.none),Se("validHtml",""),Fr("onValid"),Fr("onInvalid"),Fr("onValidate")]),Bu("validator",[Nt("validate"),Se("onEvent","input"),Se("validateOnLoad",!0)])],Wc=vo({fields:OF,name:"invalidating",active:TF,apis:Xi,extra:{validation:function(t){return function(r){var o=xn.getValue(r);return Go.pure(t(o))}}}}),AF=function(t,r,o,s){return o.getOrCreate(t,r,s)},HE=Object.freeze({__proto__:null,getCoupled:AF}),VE=[vu("others",fi(Or.value,js()))],DF=function(){var t={},r=function(s,l,f){var d=Ye(l.others);if(d)return it(t,f).getOrThunk(function(){var h=it(l.others,f).getOrDie("No information found for coupled component: "+f),p=h(s),y=s.getSystem().build(p);return t[f]=y,y});throw new Error("Cannot find coupled component: "+f+". Known coupled components: "+JSON.stringify(d,null,2))},o=I({});return Li({readState:o,getOrCreate:r})},_F=Object.freeze({__proto__:null,init:DF}),Qa=vo({fields:VE,name:"coupling",apis:HE,state:_F}),UE=I("sink"),kw=I(rc({name:UE(),overrides:I({dom:{tag:"div"},behaviours:fn([qi.config({useFixed:Ee})]),events:ya([ro(Nh()),ro(ws()),ro(Nm())])})})),Ds;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(Ds||(Ds={}));var Ew=function(t,r){var o=t.getHotspot(r).getOr(r),s="hotspot",l=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:l}},function(f){return{type:s,hotspot:o,overrides:l,layouts:f}})},PF=function(t,r,o){var s=t.fetch;return s(o).map(r)},BF=function(t,r,o,s,l,f,d){var h=PF(t,r,s),p=Sf(s,t);return h.map(function(y){return y.bind(function(S){return C.from(lv.sketch($($({},f.menu()),{uid:Lf(""),data:S,highlightImmediately:d===Ds.HighlightFirst,onOpenMenu:function(E,F){var R=p().getOrDie();qi.position(R,F,{anchor:o}),Vr.decloak(l)},onOpenSubmenu:function(E,F,R){var W=p().getOrDie();qi.position(W,R,{anchor:{type:"submenu",item:F}}),Vr.decloak(l)},onRepositionMenu:function(E,F,R){var W=p().getOrDie();qi.position(W,F,{anchor:o}),Fe(R,function(ee){qi.position(W,ee.triggeredMenu,{anchor:{type:"submenu",item:ee.triggeringItem}})})},onEscape:function(){return fr.focus(s),Vr.close(l),C.some(!0)}})))})})},Tw=function(t,r,o,s,l,f,d){var h=Ew(t,o),p=BF(t,r,h,o,s,l,d);return p.map(function(y){return y.fold(function(){Vr.isOpen(s)&&Vr.close(s)},function(S){Vr.cloak(s),Vr.open(s,S),f(s)}),s})},FF=function(t,r,o,s,l,f,d){return Vr.close(s),Go.pure(s)},tm=function(t,r,o,s,l,f){var d=Qa.getCoupled(o,"sandbox"),h=Vr.isOpen(d),p=h?FF:Tw;return p(t,r,o,d,s,l,f)},MF=function(t,r,o){var s=$r.getCurrent(r).getOr(r),l=Si(t.element);o?mr(s.element,"min-width",l+"px"):Ah(s.element,l)},Sf=function(t,r){return t.getSystem().getByUid(r.uid+"-"+UE()).map(function(o){return function(){return Or.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return Or.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},WE=function(t){Vr.getState(t).each(function(r){lv.repositionMenus(r)})},Ow=function(t,r,o){var s=Ix(),l=function(h,p){var y=Ew(t,r);s.link(r.element),t.matchWidth&&MF(y.hotspot,p,t.useMinWidth),t.onOpen(y,h,p),o!==void 0&&o.onOpen!==void 0&&o.onOpen(h,p)},f=function(h,p){s.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(h,p)},d=Sf(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:is.augment(t.sandboxBehaviours,[xn.config({store:{mode:"memory",initialValue:r}}),Vr.config({onOpen:l,onClose:f,isPartOf:function(h,p,y){return Wf(p,y)||Wf(r,y)},getAttachPoint:function(){return d().getOrDie()}}),$r.config({find:function(h){return Vr.getState(h).bind(function(p){return $r.getCurrent(p)})}}),os.config({channels:$($({},nv({isExtraPart:Ue})),ug({doReposition:WE}))})])}},Fl=function(t){var r=Qa.getCoupled(t,"sandbox");WE(r)},Aw=function(){return[Se("sandboxClasses",[]),is.field("sandboxBehaviours",[$r,os,Vr,xn])]},RF=I([Nt("dom"),Nt("fetch"),Fr("onOpen"),Xa("onExecute"),Se("getHotspot",C.some),Se("getAnchorOverrides",I({})),lf(),Mo("dropdownBehaviours",[Ur,Qa,tr,fr]),Nt("toggleClass"),Se("eventOrder",{}),ea("lazySink"),Se("matchWidth",!1),Se("useMinWidth",!1),ea("role")].concat(Aw())),ss=I([Os({schema:[Jh()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),kw()]),jE=function(t,r,o,s){var l,f=function(S){return it(t.dom,"attributes").bind(function(E){return it(E,S)})},d=function(S){Vr.getState(S).each(function(E){lv.highlightPrimary(E)})},h=function(S){var E=d;tm(t,je,S,s,E,Ds.HighlightFirst).get(ve)},p={expand:function(S){Ur.isOn(S)||tm(t,je,S,s,ve,Ds.HighlightNone).get(ve)},open:function(S){Ur.isOn(S)||tm(t,je,S,s,ve,Ds.HighlightFirst).get(ve)},isOpen:Ur.isOn,close:function(S){Ur.isOn(S)&&tm(t,je,S,s,ve,Ds.HighlightFirst).get(ve)},repositionMenus:function(S){Ur.isOn(S)&&Fl(S)}},y=function(S,E){return pl(S),C.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Ro(t.dropdownBehaviours,[Ur.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Qa.config({others:{sandbox:function(S){return Ow(t,S,{onOpen:function(){return Ur.on(S)},onClose:function(){return Ur.off(S)}})}}}),tr.config({mode:"special",onSpace:y,onEnter:y,onDown:function(S,E){if(cs.isOpen(S)){var F=Qa.getCoupled(S,"sandbox");d(F)}else cs.open(S);return C.some(!0)},onEscape:function(S,E){return cs.isOpen(S)?(cs.close(S),C.some(!0)):C.none()}}),fr.config({})]),events:kg(C.some(h)),eventOrder:$($({},t.eventOrder),(l={},l[Fu()]=["disabling","toggling","alloy.base.behaviour"],l)),apis:p,domModification:{attributes:$($({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(S){return{role:S}})),t.dom.tag==="button"?{type:f("type").getOr("button")}:{})}}},cs=Gi({name:"Dropdown",configFields:RF(),partFields:ss(),factory:jE,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),NF=function(){return xs({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},IF=function(){return ya([kx(oD(),Ee)])},P1=Object.freeze({__proto__:null,events:IF,exhibit:NF}),Zg=vo({fields:[],name:"unselecting",active:P1}),qE=function(t,r){return cs.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:fn([Lu.button(r.providers.isDisabled),xo(),Zg.config({}),Ja.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Go.nu(function(s){return t.fetch(s)}).map(function(s){return C.from(pE(wt(x1(Bn("menu-value"),s,function(l){t.onItemAction(o,l)},t.columns,t.presets,ic.CLOSE_ON_EXECUTE,Ue,r.providers),{movement:Ug(t.columns,t.presets)})))})},parts:{menu:s1(!1,1,t.presets)}})},GE=Bn("color-input-change"),KE=Bn("color-swatch-change"),XE=Bn("color-picker-cancel"),Dw=function(t,r,o){var s=Kr.parts.field({factory:Yg,inputClasses:["tox-textfield"],onSetValue:function(p){return Wc.run(p).get(ve)},inputBehaviours:fn([Yn.config({disabled:r.providers.isDisabled}),xo(),Ja.config({}),Wc.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(p){return Eo(p.element)},notify:{onValid:function(p){var y=xn.getValue(p);er(p,GE,{color:y})}},validator:{validateOnLoad:!1,validate:function(p){var y=xn.getValue(p);if(y.length===0)return Go.pure(Or.value(!0));var S=Q.fromTag("span");mr(S,"background-color",y);var E=Vo(S,"background-color").fold(function(){return Or.error("blah")},function(F){return Or.value(y)});return Go.pure(E)}}})]),selectOnFocus:!1}),l=t.label.map(function(p){return xf(p,r.providers)}),f=function(p,y){er(p,KE,{value:y})},d=function(p,y){h.getOpt(p).each(function(S){y==="custom"?o.colorPicker(function(E){E.fold(function(){return Ir(S,XE)},function(F){f(S,F),aE(F)})},"#ffffff"):y==="remove"?f(S,""):f(S,y)})},h=Jr(qE({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[ti,mi,ni]},onLtr:function(){return[mi,ti,ni]}},components:[],fetch:uE(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:d},r));return Kr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:l.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,h.asSpec()]}]),fieldBehaviours:fn([Ar("form-field-events",[It(GE,function(p,y){h.getOpt(p).each(function(S){mr(S.element,"background-color",y.event.color)}),er(p,bu,{name:t.name})}),It(KE,function(p,y){Kr.getField(p).each(function(S){xn.setValue(S,y.event.value),$r.getCurrent(p).each(fr.focus)})}),It(XE,function(p,y){Kr.getField(p).each(function(S){$r.getCurrent(p).each(fr.focus)})})])])})},$F=rc({schema:[Nt("dom")],name:"label"}),kf=function(t){return rc({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:ya([Wm(hl(),function(l,f,d){return s(l,d)},[r]),Wm(ws(),function(l,f,d){return s(l,d)},[r]),Wm(zf(),function(l,f,d){d.mouseIsDown.get()&&s(l,d)},[r])])}})}})},zF=kf("top-left"),LF=kf("top"),HF=kf("top-right"),VF=kf("right"),UF=kf("bottom-right"),YE=kf("bottom"),ZE=kf("bottom-left"),WF=kf("left"),jF=oi({name:"thumb",defaults:I({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ya([fd(hl(),t,"spectrum"),fd(Ks(),t,"spectrum"),fd(Rm(),t,"spectrum"),fd(ws(),t,"spectrum"),fd(zf(),t,"spectrum"),fd(Z0(),t,"spectrum")])}}}),qF=oi({schema:[nu("mouseIsDown",function(){return Qn(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,s=function(l,f){return o.getValueFromEvent(f).map(function(d){return o.setValueFrom(l,t,d)})};return{behaviours:fn([tr.config({mode:"special",onLeft:function(l){return o.onLeft(l,t)},onRight:function(l){return o.onRight(l,t)},onUp:function(l){return o.onUp(l,t)},onDown:function(l){return o.onDown(l,t)}}),fr.config({})]),events:ya([It(hl(),s),It(Ks(),s),It(ws(),s),It(zf(),function(l,f){t.mouseIsDown.get()&&s(l,f)})])}}}),GF=[$F,WF,VF,LF,YE,zF,HF,ZE,UF,jF,qF],KF="slider.change.value",nm=I(KF),JE=function(t){return t.type.indexOf("touch")!==-1},B1=function(t){var r=t.event.raw;if(JE(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?C.some(o.touches[0]).map(function(l){return pa(l.clientX,l.clientY)}):C.none()}else{var s=r;return s.clientX!==void 0?C.some(s).map(function(l){return pa(l.clientX,l.clientY)}):C.none()}},F1="top",XF="right",QE="bottom",YF="left",Cv=function(t){return t.model.minX},xv=function(t){return t.model.minY},M1=function(t){return t.model.minX-1},Sv=function(t){return t.model.minY-1},kv=function(t){return t.model.maxX},Ev=function(t){return t.model.maxY},_s=function(t){return t.model.maxX+1},R1=function(t){return t.model.maxY+1},Tv=function(t,r,o){return r(t)-o(t)},N1=function(t){return Tv(t,kv,Cv)},Jg=function(t){return Tv(t,Ev,xv)},eT=function(t){return N1(t)/2},tT=function(t){return Jg(t)/2},rm=function(t){return t.stepSize},_w=function(t){return t.snapToGrid},nT=function(t){return t.snapStart},Qg=function(t){return t.rounded},I1=function(t,r){return t[r+"-edge"]!==void 0},wu=function(t){return I1(t,YF)},rT=function(t){return I1(t,XF)},aT=function(t){return I1(t,F1)},Pw=function(t){return I1(t,QE)},jc=function(t){return t.model.value.get()},oT=function(t){return{x:t}},iT=function(t){return{y:t}},Ef=function(t,r){return{x:t,y:r}},Ps=function(t,r){er(t,nm(),{value:r})},ZF=function(t,r){Ps(t,Ef(M1(r),Sv(r)))},JF=function(t,r){Ps(t,iT(Sv(r)))},QF=function(t,r){Ps(t,Ef(eT(r),Sv(r)))},uT=function(t,r){Ps(t,Ef(_s(r),Sv(r)))},eM=function(t,r){Ps(t,oT(_s(r)))},tM=function(t,r){Ps(t,Ef(_s(r),tT(r)))},nM=function(t,r){Ps(t,Ef(_s(r),R1(r)))},sT=function(t,r){Ps(t,iT(R1(r)))},$1=function(t,r){Ps(t,Ef(eT(r),R1(r)))},rM=function(t,r){Ps(t,Ef(M1(r),R1(r)))},z1=function(t,r){Ps(t,oT(M1(r)))},am=function(t,r){Ps(t,Ef(M1(r),tT(r)))},L1=function(t,r,o,s){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-s)},H1=function(t,r,o,s){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+s)},Bw=function(t,r,o){return Math.max(r,Math.min(o,t))},aM=function(t,r,o,s,l){return l.fold(function(){var f=t-r,d=Math.round(f/s)*s;return Bw(r+d,r-1,o+1)},function(f){var d=(t-f)%s,h=Math.round(d/s),p=Math.floor((t-f)/s),y=Math.floor((o-f)/s),S=Math.min(y,p+h),E=f+S*s;return Math.max(f,E)})},oM=function(t,r,o){return Math.min(o,Math.max(t,r))-r},eh=function(t){var r=t.min,o=t.max,s=t.range,l=t.value,f=t.step,d=t.snap,h=t.snapStart,p=t.rounded,y=t.hasMinEdge,S=t.hasMaxEdge,E=t.minBound,F=t.maxBound,R=t.screenRange,W=y?r-1:r,ee=S?o+1:o;if(l<E)return W;if(l>F)return ee;var pe=oM(l,E,F),K=Bw(pe/R*s+r,W,ee);return d&&K>=r&&K<=o?aM(K,r,o,f,h):p?Math.round(K):K},cT=function(t){var r=t.min,o=t.max,s=t.range,l=t.value,f=t.hasMinEdge,d=t.hasMaxEdge,h=t.maxBound,p=t.maxOffset,y=t.centerMinEdge,S=t.centerMaxEdge;return l<r?f?0:y:l>o?d?h:S:(l-r)/s*p},Fw="top",Mw="right",Rw="bottom",th="left",lT="width",Yi="height",sc=function(t){return t.element.dom.getBoundingClientRect()},Bs=function(t,r){return t[r]},V1=function(t){var r=sc(t);return Bs(r,th)},Nw=function(t){var r=sc(t);return Bs(r,Mw)},U1=function(t){var r=sc(t);return Bs(r,Fw)},fT=function(t){var r=sc(t);return Bs(r,Rw)},vT=function(t){var r=sc(t);return Bs(r,lT)},Iw=function(t){var r=sc(t);return Bs(r,Yi)},cc=function(t,r,o){return(t+r)/2-o},W1=function(t,r){var o=sc(t),s=sc(r),l=Bs(o,th),f=Bs(o,Mw),d=Bs(s,th);return cc(l,f,d)},$w=function(t,r){var o=sc(t),s=sc(r),l=Bs(o,Fw),f=Bs(o,Rw),d=Bs(s,Fw);return cc(l,f,d)},Ov=function(t,r){er(t,nm(),{value:r})},om=function(t){return{x:t}},zw=function(t,r,o){var s={min:Cv(r),max:kv(r),range:N1(r),value:o,step:rm(r),snap:_w(r),snapStart:nT(r),rounded:Qg(r),hasMinEdge:wu(r),hasMaxEdge:rT(r),minBound:V1(t),maxBound:Nw(t),screenRange:vT(t)};return eh(s)},iM=function(t,r,o){var s=zw(t,r,o),l=om(s);return Ov(t,l),s},uM=function(t,r){var o=Cv(r);Ov(t,om(o))},sM=function(t,r){var o=kv(r);Ov(t,om(o))},cM=function(t,r,o){var s=t>0?H1:L1,l=s(jc(o).x,Cv(o),kv(o),rm(o));return Ov(r,om(l)),C.some(l)},j1=function(t){return function(r,o){return cM(t,r,o).map(Ee)}},lM=function(t){var r=B1(t);return r.map(function(o){return o.left})},dT=function(t,r,o,s,l){var f=0,d=vT(t),h=s.bind(function(S){return C.some(W1(S,t))}).getOr(f),p=l.bind(function(S){return C.some(W1(S,t))}).getOr(d),y={min:Cv(r),max:kv(r),range:N1(r),value:o,hasMinEdge:wu(r),hasMaxEdge:rT(r),minBound:V1(t),minOffset:f,maxBound:Nw(t),maxOffset:d,centerMinEdge:h,centerMaxEdge:p};return cT(y)},Lw=function(t,r,o,s,l,f){var d=dT(r,f,o,s,l);return V1(r)-V1(t)+d},qc=function(t,r,o,s){var l=jc(o),f=Lw(t,s.getSpectrum(t),l.x,s.getLeftEdge(t),s.getRightEdge(t),o),d=Si(r.element)/2;mr(r.element,"left",f-d+"px")},q1=j1(-1),fM=j1(1),vM=C.none,mT=C.none,gT={"top-left":C.none(),top:C.none(),"top-right":C.none(),right:C.some(eM),"bottom-right":C.none(),bottom:C.none(),"bottom-left":C.none(),left:C.some(z1)},Hw=Object.freeze({__proto__:null,setValueFrom:iM,setToMin:uM,setToMax:sM,findValueOfOffset:zw,getValueFromEvent:lM,findPositionOfValue:Lw,setPositionFromValue:qc,onLeft:q1,onRight:fM,onUp:vM,onDown:mT,edgeActions:gT}),nh=function(t,r){er(t,nm(),{value:r})},Tf=function(t){return{y:t}},Av=function(t,r,o){var s={min:xv(r),max:Ev(r),range:Jg(r),value:o,step:rm(r),snap:_w(r),snapStart:nT(r),rounded:Qg(r),hasMinEdge:aT(r),hasMaxEdge:Pw(r),minBound:U1(t),maxBound:fT(t),screenRange:Iw(t)};return eh(s)},dM=function(t,r,o){var s=Av(t,r,o),l=Tf(s);return nh(t,l),s},mM=function(t,r){var o=xv(r);nh(t,Tf(o))},gM=function(t,r){var o=Ev(r);nh(t,Tf(o))},hM=function(t,r,o){var s=t>0?H1:L1,l=s(jc(o).y,xv(o),Ev(o),rm(o));return nh(r,Tf(l)),C.some(l)},hT=function(t){return function(r,o){return hM(t,r,o).map(Ee)}},pM=function(t){var r=B1(t);return r.map(function(o){return o.top})},bM=function(t,r,o,s,l){var f=0,d=Iw(t),h=s.bind(function(S){return C.some($w(S,t))}).getOr(f),p=l.bind(function(S){return C.some($w(S,t))}).getOr(d),y={min:xv(r),max:Ev(r),range:Jg(r),value:o,hasMinEdge:aT(r),hasMaxEdge:Pw(r),minBound:U1(t),minOffset:f,maxBound:fT(t),maxOffset:d,centerMinEdge:h,centerMaxEdge:p};return cT(y)},rh=function(t,r,o,s,l,f){var d=bM(r,f,o,s,l);return U1(r)-U1(t)+d},Dv=function(t,r,o,s){var l=jc(o),f=rh(t,s.getSpectrum(t),l.y,s.getTopEdge(t),s.getBottomEdge(t),o),d=To(r.element)/2;mr(r.element,"top",f-d+"px")},yM=C.none,pT=C.none,wM=hT(-1),CM=hT(1),xM={"top-left":C.none(),top:C.some(JF),"top-right":C.none(),right:C.none(),"bottom-right":C.none(),bottom:C.some(sT),"bottom-left":C.none(),left:C.none()},SM=Object.freeze({__proto__:null,setValueFrom:dM,setToMin:mM,setToMax:gM,findValueOfOffset:Av,getValueFromEvent:pM,findPositionOfValue:rh,setPositionFromValue:Dv,onLeft:yM,onRight:pT,onUp:wM,onDown:CM,edgeActions:xM}),G1=function(t,r){er(t,nm(),{value:r})},ah=function(t,r){return{x:t,y:r}},Vw=function(t,r,o){var s=zw(t,r,o.left),l=Av(t,r,o.top),f=ah(s,l);return G1(t,f),f},kM=function(t,r,o,s){var l=t>0?H1:L1,f=r?jc(s).x:l(jc(s).x,Cv(s),kv(s),rm(s)),d=r?l(jc(s).y,xv(s),Ev(s),rm(s)):jc(s).y;return G1(o,ah(f,d)),C.some(f)},oh=function(t,r){return function(o,s){return kM(t,r,o,s).map(Ee)}},Uw=function(t,r){var o=Cv(r),s=xv(r);G1(t,ah(o,s))},Ww=function(t,r){var o=kv(r),s=Ev(r);G1(t,ah(o,s))},bT=function(t){return B1(t)},EM=function(t,r,o,s){var l=jc(o),f=Lw(t,s.getSpectrum(t),l.x,s.getLeftEdge(t),s.getRightEdge(t),o),d=rh(t,s.getSpectrum(t),l.y,s.getTopEdge(t),s.getBottomEdge(t),o),h=Si(r.element)/2,p=To(r.element)/2;mr(r.element,"left",f-h+"px"),mr(r.element,"top",d-p+"px")},TM=oh(-1,!1),K1=oh(1,!1),yT=oh(-1,!0),OM=oh(1,!0),AM={"top-left":C.some(ZF),top:C.some(QF),"top-right":C.some(uT),right:C.some(tM),"bottom-right":C.some(nM),bottom:C.some($1),"bottom-left":C.some(rM),left:C.some(am)},DM=Object.freeze({__proto__:null,setValueFrom:Vw,setToMin:Uw,setToMax:Ww,getValueFromEvent:bT,setPositionFromValue:EM,onLeft:TM,onRight:K1,onUp:yT,onDown:OM,edgeActions:AM}),_M=[Se("stepSize",1),Se("onChange",ve),Se("onChoose",ve),Se("onInit",ve),Se("onDragStart",ve),Se("onDragEnd",ve),Se("snapToGrid",!1),Se("rounded",!0),ea("snapStart"),vu("model",Yu("mode",{x:[Se("minX",0),Se("maxX",100),nu("value",function(t){return Qn(t.mode.minX)}),Nt("getInitialValue"),ga("manager",Hw)],y:[Se("minY",0),Se("maxY",100),nu("value",function(t){return Qn(t.mode.minY)}),Nt("getInitialValue"),ga("manager",SM)],xy:[Se("minX",0),Se("maxX",100),Se("minY",0),Se("maxY",100),nu("value",function(t){return Qn({x:t.mode.minX,y:t.mode.minY})}),Nt("getInitialValue"),ga("manager",DM)]})),Mo("sliderBehaviours",[tr,xn]),nu("mouseIsDown",function(){return Qn(!1)})],Ml=function(t,r,o,s){var l,f=function(ye){return $c(ye,t,"thumb")},d=function(ye){return $c(ye,t,"spectrum")},h=function(ye){return va(ye,t,"left-edge")},p=function(ye){return va(ye,t,"right-edge")},y=function(ye){return va(ye,t,"top-edge")},S=function(ye){return va(ye,t,"bottom-edge")},E=t.model,F=E.manager,R=function(ye,tt){F.setPositionFromValue(ye,tt,t,{getLeftEdge:h,getRightEdge:p,getTopEdge:y,getBottomEdge:S,getSpectrum:d})},W=function(ye,tt){E.value.set(tt);var Ot=f(ye);R(ye,Ot)},ee=function(ye,tt){W(ye,tt);var Ot=f(ye);return t.onChange(ye,Ot,tt),C.some(!0)},pe=function(ye){F.setToMin(ye,t)},K=function(ye){F.setToMax(ye,t)},Ce=function(ye){var tt=function(){va(ye,t,"thumb").each(function(yn){var At=E.value.get();t.onChoose(ye,yn,At)})},Ot=t.mouseIsDown.get();t.mouseIsDown.set(!1),Ot&&tt()},mt=function(ye,tt){tt.stop(),t.mouseIsDown.set(!0),t.onDragStart(ye,f(ye))},bt=function(ye,tt){tt.stop(),t.onDragEnd(ye,f(ye)),Ce(ye)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Ro(t.sliderBehaviours,[tr.config({mode:"special",focusIn:function(ye){return va(ye,t,"spectrum").map(tr.focusIn).map(Ee)}}),xn.config({store:{mode:"manual",getValue:function(ye){return E.value.get()}}}),os.config({channels:(l={},l[hu()]={onReceive:Ce},l)})]),events:ya([It(nm(),function(ye,tt){ee(ye,tt.event.value)}),Ka(function(ye,tt){var Ot=E.getInitialValue();E.value.set(Ot);var yn=f(ye);R(ye,yn);var At=d(ye);t.onInit(ye,yn,At,E.value.get())}),It(hl(),mt),It(Rm(),bt),It(ws(),mt),It(Z0(),bt)]),apis:{resetToMin:pe,resetToMax:K,setValue:W,refresh:R},domModification:{styles:{position:"relative"}}}},Vu=Gi({name:"Slider",configFields:_M,partFields:GF,factory:Ml,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),X1=Bn("rgb-hex-update"),jw=Bn("slider-update"),Y1=Bn("palette-update"),wT=function(t,r){var o=Vu.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=Vu.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return Vu.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:I({y:0})},components:[o,s],sliderBehaviours:fn([fr.config({})]),onChange:function(l,f,d){er(l,jw,{value:d})}})},ih="form",CT=[Mo("formBehaviours",[xn])],qw=function(t){return"<alloy.field."+t+">"},PM=function(t){var r=function(){var f=[],d=function(h,p){return f.push(h),by(ih,qw(h),p)};return{field:d,record:I(f)}}(),o=t(r),s=r.record(),l=dt(s,function(f){return oi({name:f,pname:qw(f)})});return ky(ih,CT,l,FM,o)},BM=function(t,r){return t.fold(function(){return Or.error(r)},Or.value)},FM=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:Ro(t.formBehaviours,[xn.config({store:{mode:"manual",getValue:function(o){var s=Cy(o,t);return Jt(s,function(l,f){return l().bind(function(d){var h=$r.getCurrent(d);return BM(h,new Error("Cannot find a current component to extract the value from for form part '"+f+"': "+gu(d.element)))}).map(xn.getValue)})},setValue:function(o,s){dn(s,function(l,f){va(o,t,f).each(function(d){$r.getCurrent(d).each(function(h){xn.setValue(h,l)})})})}}})]),apis:{getField:function(o,s){return va(o,t,s).bind($r.getCurrent)}}}},im={getField:Gm(function(t,r,o){return t.getField(r,o)}),sketch:PM},Gw=Bn("valid-input"),Kw=Bn("invalid-input"),xT=Bn("validating-input"),Xw="colorcustom.rgb.",MM=function(t,r,o,s){var l=function(F,R){return Wc.config({invalidClass:r("invalid"),notify:{onValidate:function(W){er(W,xT,{type:F})},onValid:function(W){er(W,Gw,{type:F,value:xn.getValue(W)})},onInvalid:function(W){er(W,Kw,{type:F,value:xn.getValue(W)})}},validator:{validate:function(W){var ee=xn.getValue(W),pe=R(ee)?Or.value(!0):Or.error(t("aria.input.invalid"));return Go.pure(pe)},validateOnLoad:!1}})},f=function(F,R,W,ee,pe){var K=t(Xw+"range"),Ce=Kr.parts.label({dom:{tag:"label",innerHtml:W,attributes:{"aria-label":ee}}}),mt=Kr.parts.field({data:pe,factory:Yg,inputAttributes:$({type:"text"},R==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:fn([l(R,F),Ja.config({})]),onSetValue:function(Ot){if(Wc.isInvalid(Ot)){var yn=Wc.run(Ot);yn.get(ve)}}}),bt=[Ce,mt],ye=R!=="hex"?[Kr.parts["aria-descriptor"]({text:K})]:[],tt=bt.concat(ye);return{dom:{tag:"div",attributes:{role:"presentation"}},components:tt}},d=function(F,R){var W=Lg(R);return im.getField(F,"hex").each(function(ee){fr.isFocused(ee)||xn.setValue(F,{hex:W.value})}),W},h=function(F,R){var W=R.red,ee=R.green,pe=R.blue;xn.setValue(F,{red:W,green:ee,blue:pe})},p=Jr({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),y=function(F,R){p.getOpt(F).each(function(W){mr(W.element,"background-color","#"+R.value)})},S=function(){var F={red:Qn(C.some(255)),green:Qn(C.some(255)),blue:Qn(C.some(255)),hex:Qn(C.some("ffffff"))},R=function(Et,pn){var zn=Hg(pn);h(Et,zn),K(zn)},W=function(Et){return F[Et].get()},ee=function(Et,pn){F[Et].set(pn)},pe=function(){return W("red").bind(function(Et){return W("green").bind(function(pn){return W("blue").map(function(zn){return Cf(Et,pn,zn,1)})})})},K=function(Et){var pn=Et.red,zn=Et.green,Bt=Et.blue;ee("red",C.some(pn)),ee("green",C.some(zn)),ee("blue",C.some(Bt))},Ce=function(Et,pn){var zn=pn.event;zn.type!=="hex"?ee(zn.type,C.none()):s(Et)},mt=function(Et,pn){o(Et);var zn=U4(pn);ee("hex",C.some(pn));var Bt=Hg(zn);h(Et,Bt),K(Bt),er(Et,X1,{hex:zn}),y(Et,zn)},bt=function(Et,pn,zn){var Bt=parseInt(zn,10);ee(pn,C.some(Bt)),pe().each(function(Rn){var Un=d(Et,Rn);er(Et,X1,{hex:Un}),y(Et,Un)})},ye=function(Et){return Et.type==="hex"},tt=function(Et,pn){var zn=pn.event;ye(zn)?mt(Et,zn.value):bt(Et,zn.type,zn.value)},Ot=function(Et){return{label:t(Xw+Et+".label"),description:t(Xw+Et+".description")}},yn=Ot("red"),At=Ot("green"),wn=Ot("blue"),zt=Ot("hex");return wt(im.sketch(function(Et){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Et.field("red",Kr.sketch(f(ow,"red",yn.label,yn.description,255))),Et.field("green",Kr.sketch(f(ow,"green",At.label,At.description,255))),Et.field("blue",Kr.sketch(f(ow,"blue",wn.label,wn.description,255))),Et.field("hex",Kr.sketch(f(q4,"hex",zt.label,zt.description,"ffffff"))),p.asSpec()],formBehaviours:fn([Wc.config({invalidClass:r("form-invalid")}),Ar("rgb-form-events",[It(Gw,tt),It(Kw,Ce),It(xT,Ce)])])}}),{apis:{updateHex:function(Et,pn){xn.setValue(Et,{hex:pn.value}),R(Et,pn),y(Et,pn)}}})},E=pu({factory:S,name:"RgbForm",configFields:[],apis:{updateHex:function(F,R,W){F.updateHex(R,W)}},extraApis:{}});return E},Z1=function(t,r){var o=Vu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=Vu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),l=function(y,S){var E=y.width,F=y.height,R=y.getContext("2d");if(R!==null){R.fillStyle=S,R.fillRect(0,0,E,F);var W=R.createLinearGradient(0,0,E,0);W.addColorStop(0,"rgba(255,255,255,1)"),W.addColorStop(1,"rgba(255,255,255,0)"),R.fillStyle=W,R.fillRect(0,0,E,F);var ee=R.createLinearGradient(0,0,0,F);ee.addColorStop(0,"rgba(0,0,0,0)"),ee.addColorStop(1,"rgba(0,0,0,1)"),R.fillStyle=ee,R.fillRect(0,0,E,F)}},f=function(y,S){var E=y.components()[0].element.dom,F=Vg(S,100,100),R=X4(F);l(E,iw(R))},d=function(y,S){var E=y1(Hg(S));Vu.setValue(y,{x:E.saturation,y:100-E.value})},h=function(y){var S=I({x:0,y:0}),E=function(W,ee,pe){er(W,Y1,{value:pe})},F=function(W,ee,pe,K){l(pe.element.dom,iw(J4))},R=fn([$r.config({find:C.some}),fr.config({})]);return Vu.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:S},rounded:!1,components:[o,s],onChange:E,onInit:F,sliderBehaviours:R})},p=pu({factory:h,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(y,S,E){f(S,E)},setThumb:function(y,S,E){d(S,E)}},extraApis:{}});return p},RM=function(t,r){var o=function(l){var f=MM(t,r,l.onValidHex,l.onInvalidHex),d=Z1(t,r),h=function(tt){return(100-tt)/100*360},p=function(tt){return 100-tt/360*100},y={paletteRgba:Qn(J4),paletteHue:Qn(0)},S=Jr(wT(t,r)),E=Jr(d.sketch({})),F=Jr(f.sketch({})),R=function(tt,Ot,yn){E.getOpt(tt).each(function(At){d.setHue(At,yn)})},W=function(tt,Ot){F.getOpt(tt).each(function(yn){f.updateHex(yn,Ot)})},ee=function(tt,Ot,yn){S.getOpt(tt).each(function(At){Vu.setValue(At,{y:p(yn)})})},pe=function(tt,Ot){E.getOpt(tt).each(function(yn){d.setThumb(yn,Ot)})},K=function(tt,Ot){var yn=Hg(tt);y.paletteRgba.set(yn),y.paletteHue.set(Ot)},Ce=function(tt,Ot,yn,At){K(Ot,yn),Fe(At,function(wn){wn(tt,Ot,yn)})},mt=function(){var tt=[W];return function(Ot,yn){var At=yn.event.value,wn=y.paletteHue.get(),zt=Vg(wn,At.x,100-At.y),Et=sw(zt);Ce(Ot,Et,wn,tt)}},bt=function(){var tt=[R,W];return function(Ot,yn){var At=h(yn.event.value.y),wn=y.paletteRgba.get(),zt=y1(wn),Et=Vg(At,zt.saturation,zt.value),pn=sw(Et);Ce(Ot,pn,At,tt)}},ye=function(){var tt=[R,ee,pe];return function(Ot,yn){var At=yn.event.hex,wn=E6(At);Ce(Ot,At,wn.hue,tt)}};return{uid:l.uid,dom:l.dom,components:[E.asSpec(),S.asSpec(),F.asSpec()],behaviours:fn([Ar("colour-picker-events",[It(X1,ye()),It(Y1,mt()),It(jw,bt())]),$r.config({find:function(tt){return F.getOpt(tt)}}),tr.config({mode:"acyclic"})])}},s=pu({name:"ColourPicker",configFields:[Nt("dom"),Se("onValidHex",ve),Se("onInvalidHex",ve)],factory:o});return s},NM=function(){return $r.config({find:C.some})},ST=function(t){return $r.config({find:t.getOpt})},kT=function(t){return $r.config({find:function(r){return b(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},lc={self:NM,memento:ST,childAt:kT},IM={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},J1=function(t){return IM[t]},$M=function(t){return J1(t)},zM=function(t){var r=function(d){return"tox-"+d},o=RM($M,r),s=function(d){er(d,Vc,{name:"hex-valid",value:!0})},l=function(d){er(d,Vc,{name:"hex-valid",value:!1})},f=Jr(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:l}));return{dom:{tag:"div"},components:[f.asSpec()],behaviours:fn([xn.config({store:{mode:"manual",getValue:function(d){var h=f.get(d),p=$r.getCurrent(h),y=p.bind(function(S){var E=xn.getValue(S);return E.hex});return y.map(function(S){return"#"+S}).getOr("")},setValue:function(d,h){var p=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,y=p.exec(h),S=f.get(d),E=$r.getCurrent(S);E.fold(function(){},function(F){xn.setValue(F,{hex:C.from(y[1]).getOr("")}),im.getField(F,"hex").each(function(R){Ir(R,ud())})})}}}),lc.self()])}},LM=tinymce.util.Tools.resolve("tinymce.Resource"),HM=function(t){return Ut(t,"init")},Q1=function(t){var r=Za(),o=Jr({dom:{tag:t.tag}}),s=Za();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:fn([Ar("custom-editor-events",[Ka(function(l){o.getOpt(l).each(function(f){(HM(t)?t.init(f.element.dom):LM.load(t.scriptId,t.scriptUrl).then(function(d){return d(f.element.dom,t.settings)})).then(function(d){s.on(function(h){d.setValue(h)}),s.clear(),r.set(d)})})})]),xn.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(l){return l.getValue()})},setValue:function(l,f){r.get().fold(function(){s.set(f)},function(d){return d.setValue(f)})}}}),lc.self()]),components:[o.asSpec()]}},Gc=tinymce.util.Tools.resolve("tinymce.util.Tools"),VM=Xn([Se("preprocess",je),Se("postprocess",je)]),UM=function(t,r){var o=da("RepresentingConfigs.memento processors",VM,r);return xn.config({store:{mode:"manual",getValue:function(s){var l=t.get(s),f=xn.getValue(l);return o.postprocess(f)},setValue:function(s,l){var f=o.preprocess(l),d=t.get(s);xn.setValue(d,f)}}})},uh=function(t,r,o){return xn.config(wt({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},Yw=function(t,r,o){return uh(t,function(s){return r(s.element)},function(s,l){return o(s.element,l)})},Zw=function(t){return Yw(t,rs,md)},ET=function(t){return Yw(t,Tc,Oc)},WM=function(t){return xn.config({store:{mode:"memory",initialValue:t}})},_v={memento:UM,withElement:Yw,withComp:uh,domValue:Zw,domHtml:ET,memory:WM},TT="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",OT=function(t,r){var o=Gc.explode(r.getSetting("images_file_types",TT,"string")),s=function(l){return Qt(o,function(f){return Ln(l.name.toLowerCase(),"."+f.toLowerCase())})};return De(Mt(t),s)},jM=function(t,r){var o=function(E,F){F.stop()},s=function(E){return function(F,R){Fe(E,function(W){W(F,R)})}},l=function(E,F){if(!Yn.isDisabled(E)){var R=F.event.raw;d(E,R.dataTransfer.files)}},f=function(E,F){var R=F.event.raw.target;d(E,R.files)},d=function(E,F){xn.setValue(E,OT(F,r)),er(E,bu,{name:t.name})},h=Jr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:fn([Ar("input-file-events",[ro(Nm()),ro(cd())])])}),p=function(E){return{uid:E.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:fn([_v.memory([]),lc.self(),Yn.config({}),Ur.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ar("dropzone-events",[It("dragenter",s([o,Ur.toggle])),It("dragleave",s([o,Ur.toggle])),It("dragover",o),It("drop",s([o,l])),It(sd(),f)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},hi.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[h.asSpec()],action:function(F){var R=h.get(F);R.element.dom.click()},buttonBehaviours:fn([Ja.config({}),Lu.button(r.isDisabled),xo()])})]}]}},y=t.label.map(function(E){return xf(E,r)}),S=Kr.parts.field({factory:{sketch:p}});return Xg(y,S,["tox-form__group--stretched"],[])},AT=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:dt(t.items,r.interpreter)}},e0=Bn("alloy-fake-before-tabstop"),t0=Bn("alloy-fake-after-tabstop"),Jw=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:fn([fr.config({ignore:!0}),Ja.config({})])}},DT=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[Jw([e0]),t,Jw([t0])],behaviours:fn([lc.childAt(1)])}},_T=function(t,r){er(t,Nh(),{raw:{which:9,shiftKey:r}})},qM=function(t,r){var o=r.element;Vi(o,e0)?_T(t,!0):Vi(o,t0)&&_T(t,!1)},um=function(t){return qg(t,["."+e0,"."+t0].join(","),Ue)},GM=!(Jn().browser.isIE()||Jn().browser.isEdge()),PT=function(t){var r=Qn("");return{getValue:function(o){return r.get()},setValue:function(o,s){if(t)Dr(o.element,"srcdoc",s);else{Dr(o.element,"src","javascript:''");var l=o.element.dom.contentWindow.document;l.open(),l.write(s),l.close()}r.set(s)}}},KM=function(t,r){var o=GM&&t.sandboxed,s=$($({},t.label.map(function(p){return{title:p}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),l=PT(o),f=t.label.map(function(p){return xf(p,r)}),d=function(p){return DT({uid:p.uid,dom:{tag:"iframe",attributes:s},behaviours:fn([Ja.config({}),fr.config({}),_v.withComp(C.none(),l.getValue,l.setValue)])})},h=Kr.parts.field({factory:{sketch:d}});return Xg(f,h,["tox-form__group--stretched"],[])},sm=function(t,r){return XM(document.createElement("canvas"),t,r)},Qw=function(t){var r=sm(t.width,t.height),o=Rl(r);return o.drawImage(t,0,0),r},Rl=function(t){return t.getContext("2d")},XM=function(t,r,o){return t.width=r,t.height=o,t},eC=function(t){return t.naturalWidth||t.width},tC=function(t){return t.naturalHeight||t.height},YM=function(t){return new Uc(function(r,o){var s=URL.createObjectURL(t),l=new Image,f=function(){l.removeEventListener("load",d),l.removeEventListener("error",h)},d=function(){f(),r(l)},h=function(){f(),o("Unable to load data of type "+t.type+": "+s)};l.addEventListener("load",d),l.addEventListener("error",h),l.src=s,l.complete&&setTimeout(d,0)})},ZM=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return C.none();for(var s=o[1],l=r[1],f=1024,d=atob(l),h=d.length,p=Math.ceil(h/f),y=new Array(p),S=0;S<p;++S){for(var E=S*f,F=Math.min(E+f,h),R=new Array(F-E),W=E,ee=0;W<F;++ee,++W)R[ee]=d[W].charCodeAt(0);y[S]=new Uint8Array(R)}return C.some(new Blob(y,{type:s}))},JM=function(t){return new Uc(function(r,o){ZM(t).fold(function(){o("uri is not base64: "+t)},r)})},nC=function(t,r,o){return r=r||"image/png",Re(HTMLCanvasElement.prototype.toBlob)?new Uc(function(s,l){t.toBlob(function(f){f?s(f):l()},r,o)}):JM(t.toDataURL(r,o))},QM=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},e8=function(t){return YM(t).then(function(r){t8(r);var o=sm(eC(r),tC(r)),s=Rl(o);return s.drawImage(r,0,0),o})},BT=function(t){return new Uc(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},t8=function(t){URL.revokeObjectURL(t.src)},FT=function(t,r,o){var s=r.type,l=I(s),f=function(){return Uc.resolve(r)},d=I(o),h=function(){return o.split(",")[1]},p=function(F,R){return t.then(function(W){return nC(W,F,R)})},y=function(F,R){return t.then(function(W){return QM(W,F,R)})},S=function(F,R){return y(F,R).then(function(W){return W.split(",")[1]})},E=function(){return t.then(Qw)};return{getType:l,toBlob:f,toDataURL:d,toBase64:h,toAdjustedBlob:p,toAdjustedDataURL:y,toAdjustedBase64:S,toCanvas:E}},n8=function(t){return BT(t).then(function(r){return FT(e8(t),t,r)})},Of=function(t,r){return nC(t,r).then(function(o){return FT(Uc.resolve(t),o,t.toDataURL())})},r8=function(t){return n8(t)},sh=function(t,r,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<r&&(s=r),s},rC=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},n0=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],r0=function(t,r){for(var o=[],s=new Array(25),l,f=0;f<5;f++){for(var d=0;d<5;d++)o[d]=r[d+f*5];for(var d=0;d<5;d++){l=0;for(var h=0;h<5;h++)l+=t[d+h*5]*o[h];s[d+f*5]=l}}return s},a8=function(t,r){var o;return r=sh(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=n0[r]:o=n0[Math.floor(r)]*(1-o)+n0[Math.floor(r)+1]*o,o=o*127+127),r0(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},MT=function(t,r){return r=sh(255*r,-255,255),r0(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},RT=function(t,r,o,s){return r=sh(r,0,2),o=sh(o,0,2),s=sh(s,0,2),r0(t,[r,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},aC=function(t,r){return t.toCanvas().then(function(o){return o8(o,t.getType(),r)})},o8=function(t,r,o){var s=Rl(t),l=function(d,h){for(var p,y,S,E,F=d.data,R=h[0],W=h[1],ee=h[2],pe=h[3],K=h[4],Ce=h[5],mt=h[6],bt=h[7],ye=h[8],tt=h[9],Ot=h[10],yn=h[11],At=h[12],wn=h[13],zt=h[14],Et=h[15],pn=h[16],zn=h[17],Bt=h[18],Rn=h[19],Un=0;Un<F.length;Un+=4)p=F[Un],y=F[Un+1],S=F[Un+2],E=F[Un+3],F[Un]=p*R+y*W+S*ee+E*pe+K,F[Un+1]=p*Ce+y*mt+S*bt+E*ye+tt,F[Un+2]=p*Ot+y*yn+S*At+E*wn+zt,F[Un+3]=p*Et+y*pn+S*zn+E*Bt+Rn;return d},f=l(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(f,0,0),Of(t,r)},i8=function(t,r){return t.toCanvas().then(function(o){return u8(o,t.getType(),r)})},u8=function(t,r,o){var s=Rl(t),l=function(h,p,y){for(var S=function(pn,zn,Bt){return pn>Bt?pn=Bt:pn<zn&&(pn=zn),pn},E=Math.round(Math.sqrt(y.length)),F=Math.floor(E/2),R=h.data,W=p.data,ee=h.width,pe=h.height,K=0;K<pe;K++)for(var Ce=0;Ce<ee;Ce++){for(var mt=0,bt=0,ye=0,tt=0;tt<E;tt++)for(var Ot=0;Ot<E;Ot++){var yn=S(Ce+Ot-F,0,ee-1),At=S(K+tt-F,0,pe-1),wn=(At*ee+yn)*4,zt=y[tt*E+Ot];mt+=R[wn]*zt,bt+=R[wn+1]*zt,ye+=R[wn+2]*zt}var Et=(K*ee+Ce)*4;W[Et]=S(mt,0,255),W[Et+1]=S(bt,0,255),W[Et+2]=S(ye,0,255)}return p},f=s.getImageData(0,0,t.width,t.height),d=s.getImageData(0,0,t.width,t.height);return d=l(f,d,o),s.putImageData(d,0,0),Of(t,r)},s8=function(t){var r=function(o,s,l){for(var f=Rl(o),d=new Array(256),h=function(S,E){for(var F=S.data,R=0;R<F.length;R+=4)F[R]=E[F[R]],F[R+1]=E[F[R+1]],F[R+2]=E[F[R+2]];return S},p=0;p<d.length;p++)d[p]=t(p,l);var y=h(f.getImageData(0,0,o.width,o.height),d);return f.putImageData(y,0,0),Of(o,s)};return function(o,s){return o.toCanvas().then(function(l){return r(l,o.getType(),s)})}},NT=function(t){return function(r,o){return aC(r,t(rC(),o))}},IT=function(t){return function(r){return aC(r,t)}},c8=function(t){return function(r){return i8(r,t)}},l8=IT([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),f8=NT(MT),Wr=NT(a8),cm=function(t,r,o,s){return aC(t,RT(rC(),r,o,s))},$T=c8([0,-1,0,-1,5,-1,0,-1,0]),zT=s8(function(t,r){return Math.pow(t/255,1-r)*255}),oC=function(t,r,o){var s=eC(t),l=tC(t),f=r/s,d=o/l,h=!1;(f<.5||f>2)&&(f=f<.5?.5:2,h=!0),(d<.5||d>2)&&(d=d<.5?.5:2,h=!0);var p=v8(t,f,d);return h?p.then(function(y){return oC(y,r,o)}):p},v8=function(t,r,o){return new Uc(function(s){var l=eC(t),f=tC(t),d=Math.floor(l*r),h=Math.floor(f*o),p=sm(d,h),y=Rl(p);y.drawImage(t,0,0,l,f,0,0,d,h),s(p)})},LT=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),s=Math.round(t*o);return Math.ceil(s/o)},d8=function(t,r){return t.toCanvas().then(function(o){return HT(o,t.getType(),r)})},HT=function(t,r,o){var s=o<0?360+o:o,l=s*Math.PI/180,f=t.width,d=t.height,h=Math.sin(l),p=Math.cos(l),y=LT(Math.abs(f*p)+Math.abs(d*h)),S=LT(Math.abs(f*h)+Math.abs(d*p)),E=sm(y,S),F=Rl(E);return F.translate(y/2,S/2),F.rotate(l),F.drawImage(t,-f/2,-d/2),Of(E,r)},m8=function(t,r){return t.toCanvas().then(function(o){return g8(o,t.getType(),r)})},g8=function(t,r,o){var s=sm(t.width,t.height),l=Rl(s);return o==="v"?(l.scale(1,-1),l.drawImage(t,0,-s.height)):(l.scale(-1,1),l.drawImage(t,-s.width,0)),Of(s,r)},h8=function(t,r,o,s,l){return t.toCanvas().then(function(f){return p8(f,t.getType(),r,o,s,l)})},p8=function(t,r,o,s,l,f){var d=sm(l,f),h=Rl(d);return h.drawImage(t,-o,-s),Of(d,r)},b8=function(t,r,o){return t.toCanvas().then(function(s){return oC(s,r,o).then(function(l){return Of(l,t.getType())})})},y8=function(t){return l8(t)},w8=function(t){return $T(t)},C8=function(t,r){return zT(t,r)},x8=function(t,r,o,s){return cm(t,r,o,s)},S8=function(t,r){return f8(t,r)},k8=function(t,r){return Wr(t,r)},iC=function(t,r){return m8(t,r)},E8=function(t,r,o,s,l){return h8(t,r,o,s,l)},T8=function(t,r,o){return b8(t,r,o)},VT=function(t,r){return d8(t,r)},UT=function(t,r,o){return oc(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},a0=function(t,r){return UT(t,r,[])},WT=function(t,r){return UT(t,r,[yr.config({})])},o0=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:fn([yr.config({})])}},uC,sC=Bn("toolbar.button.execute"),O8=function(t){return Ec(function(r,o){Ng(t,r)(function(s){er(r,sC,{buttonApi:s}),t.onAction(s)})})},cC=(uC={},uC[Fu()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],uC),Pv=Bn("update-menu-text"),lC=Bn("update-menu-icon"),fC=function(t,r,o){var s=Qn(ve),l=t.text.map(function(E){return Jr(o0(E,r,o.providers))}),f=t.icon.map(function(E){return Jr(WT(E,o.providers.icons))}),d=function(E,F){var R=xn.getValue(E);return fr.focus(R),er(R,"keydown",{raw:F.event.raw}),cs.close(R),C.some(!0)},h=t.role.fold(function(){return{}},function(E){return{role:E}}),p=t.tooltip.fold(function(){return{}},function(E){var F=o.providers.translate(E);return{title:F,"aria-label":F}}),y=oc("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),S=Jr(cs.sketch($($($({},t.uid?{uid:t.uid}:{}),h),{dom:{tag:"button",classes:[r,r+"--select"].concat(dt(t.classes,function(E){return r+"--"+E})),attributes:$({},p)},components:bv([f.map(function(E){return E.asSpec()}),l.map(function(E){return E.asSpec()}),C.some(y)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:fn(Oe(Oe([],t.dropdownBehaviours,!0),[Lu.button(function(){return t.disabled||o.providers.isDisabled()}),xo(),Zg.config({}),yr.config({}),Ar("dropdown-events",[Ig(t,s),$g(t,s)]),Ar("menubutton-update-display-text",[It(Pv,function(E,F){l.bind(function(R){return R.getOpt(E)}).each(function(R){yr.set(R,[Uf(o.providers.translate(F.event.text))])})}),It(lC,function(E,F){f.bind(function(R){return R.getOpt(E)}).each(function(R){yr.set(R,[WT(F.event.icon,o.providers.icons)])})})])],!1)),eventOrder:wt(cC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:fn([tr.config({mode:"special",onLeft:d,onRight:d})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:s1(!1,t.columns,t.presets)},fetch:function(E){return Go.nu(St(t.fetch,E))}})));return S.asSpec()},A8=function(t){return ue(t)},vC=function(t){return t.type==="separator"},D8=function(t){return Ut(t,"getSubmenuItems")},_8={type:"separator"},P8=function(t,r){var o=Dt(t,function(s,l){return A8(l)?l===""?s:l==="|"?s.length>0&&!vC(s[s.length-1])?s.concat([_8]):s:Ut(r,l.toLowerCase())?s.concat([r[l.toLowerCase()]]):s:s.concat([l])},[]);return o.length>0&&vC(o[o.length-1])&&o.pop(),o},ch=function(t,r){var o=t.getSubmenuItems(),s=jT(o,r),l=wt(s.menus,Sc(t.value,s.items)),f=wt(s.expansions,Sc(t.value,t.value));return{item:t,menus:l,expansions:f}},B8=function(t,r){return D8(t)?ch(t,r):{item:t,menus:{},expansions:{}}},dC=function(t){if(vC(t))return t;var r=it(t,"value").getOrThunk(function(){return Bn("generated-menu-item")});return wt({value:r},t)},jT=function(t,r){var o=P8(ue(t)?t.split(" "):t,r);return nt(o,function(s,l){var f=dC(l),d=B8(f,r);return{menus:wt(s.menus,d.menus),items:[d.item].concat(s.items),expansions:wt(s.expansions,d.expansions)}},{menus:{},expansions:{},items:[]})},lm=function(t,r,o,s){var l=Bn("primary-menu"),f=jT(t,o.shared.providers.menuItems());if(f.items.length===0)return C.none();var d=pw(l,f.items,r,o,s),h=Jt(f.menus,function(y,S){return pw(S,y,r,o,!1)}),p=wt(h,Sc(l,d));return C.from(lv.tieredData(l,p,f.expansions))},F8=function(t){return{isDisabled:function(){return Yn.isDisabled(t)},setDisabled:function(r){return Yn.set(t,r)},setActive:function(r){var o=t.element;r?(Wo(o,"tox-tbtn--enabled"),Dr(o,"aria-pressed",!0)):(wo(o,"tox-tbtn--enabled"),Ho(o,"aria-pressed"))},isActive:function(){return Vi(t.element,"tox-tbtn--enabled")}}},mC=function(t,r,o,s){return fC({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(l,f){t.fetch(function(d){f(lm(d,ic.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:F8,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ja.config({})]},r,o.shared)},qT=function(t,r,o){var s=function(f){return function(d){var h=!d.isActive();d.setActive(h),f.storage.set(h),o.shared.getSink().each(function(p){r().getOpt(p).each(function(y){Fc(y.element),er(y,Vc,{name:f.name,value:f.storage.get()})})})}},l=function(f){return function(d){d.setActive(f.storage.get())}};return function(f){f(dt(t,function(d){var h=d.text.fold(function(){return{}},function(p){return{text:p}});return $($({type:d.type,active:!1},h),{onAction:s(d),onSetup:l(d)})}))}},gC=function(t,r,o,s,l,f){o===void 0&&(o=[]);var d=r.fold(function(){return{}},function(y){return{action:y}}),h=$({buttonBehaviours:fn([Lu.button(function(){return t.disabled||f.isDisabled()}),xo(),Ja.config({}),Ar("button press",[Tx("click"),Tx("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},d),p=wt(h,{dom:s});return wt(p,{components:l})},GT=function(t,r,o,s){s===void 0&&(s=[]);var l=t.tooltip.map(function(p){return{"aria-label":o.translate(p),title:o.translate(p)}}).getOr({}),f={tag:"button",classes:["tox-tbtn"],attributes:l},d=t.icon.map(function(p){return a0(p,o.icons)}),h=bv([d]);return gC(t,r,s,f,h,o)},lh=function(t,r,o,s){s===void 0&&(s=[]);var l=GT(t,C.some(r),o,s);return hi.sketch(l)},fh=function(t,r,o,s,l){s===void 0&&(s=[]),l===void 0&&(l=[]);var f=o.translate(t.text),d=t.icon?t.icon.map(function(E){return a0(E,o.icons)}):C.none(),h=d.isSome()?bv([d]):[],p=d.isSome()?{}:{innerHtml:f},y=Oe(Oe(Oe(Oe([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),d.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),l,!0),S=$($({tag:"button",classes:y},p),{attributes:{title:f}});return gC(t,r,s,S,h,o)},hC=function(t,r,o,s,l){s===void 0&&(s=[]),l===void 0&&(l=[]);var f=fh(t,C.some(r),o,s,l);return hi.sketch(f)},KT=function(t,r){return function(o){r==="custom"?er(o,Vc,{name:t,value:{}}):r==="submit"?Ir(o,Qd):r==="cancel"?Ir(o,Hu):console.error("Unknown button type: ",r)}},M8=function(t,r){return r==="menu"},R8=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},fm=function(t,r,o){if(M8(t,r)){var s=function(){return d},l=t,f=$($({},t),{onSetup:function(y){return y.setDisabled(t.disabled),ve},fetch:qT(l.items,s,o)}),d=Jr(mC(f,"tox-tbtn",o,C.none()));return d.asSpec()}else if(R8(t,r)){var h=KT(t.name,r),p=$($({},t),{borderless:!1});return hC(p,h,o.shared.providers,[])}else console.error("Unknown footer button type: ",r)},pC=function(t,r){var o=KT(t.name,"custom");return yF(C.none(),Kr.parts.field($({factory:hi},fh(t,C.some(o),r,[_v.memory(""),lc.self()]))))},XT=I([Se("field1Name","field1"),Se("field2Name","field2"),Kf("onLockedChange"),Gf(["lockClass"]),Se("locked",!1),is.field("coupledFieldBehaviours",[$r,xn])]),N8=function(t,r,o){return va(t,r,o).bind($r.getCurrent)},i0=function(t,r){return oi({factory:Kr,name:t,overrides:function(o){return{fieldBehaviours:fn([Ar("coupled-input-behaviour",[It(ud(),function(s){N8(s,o,r).each(function(l){va(s,o,"lock").each(function(f){Ur.isOn(f)&&o.onLockedChange(s,l,f)})})})])])}}})},I8=I([i0("field1","field2"),i0("field2","field1"),oi({factory:hi,schema:[Nt("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:fn([Ur.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),$8=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:is.augment(t.coupledFieldBehaviours,[$r.config({find:C.some}),xn.config({store:{mode:"manual",getValue:function(l){var f,d=gg(l,t,["field1","field2"]);return f={},f[t.field1Name]=xn.getValue(d.field1()),f[t.field2Name]=xn.getValue(d.field2()),f},setValue:function(l,f){var d=gg(l,t,["field1","field2"]);Pn(f,t.field1Name)&&xn.setValue(d.field1(),f[t.field1Name]),Pn(f,t.field2Name)&&xn.setValue(d.field2(),f[t.field2Name])}}})]),apis:{getField1:function(l){return va(l,t,"field1")},getField2:function(l){return va(l,t,"field2")},getLock:function(l){return va(l,t,"lock")}}}},Cu=Gi({name:"FormCoupledInputs",configFields:XT(),partFields:I8(),factory:$8,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),z8=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(l){return l in r?r[l]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},Bv=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var s=parseFloat(o[1]),l=o[2];return Or.value({value:s,unit:l})}else return Or.error(t)},YT=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(l){return Ut(o,l)};return t.unit===r?C.some(t.value):s(t.unit)&&s(r)?o[t.unit]===o[r]?C.some(t.value):C.some(t.value/o[t.unit]*o[r]):C.none()},bC=function(t){return C.none()},L8=function(t,r){return function(o){return YT(o,r).map(function(s){return{value:s*t,unit:r}})}},H8=function(t,r){var o=Bv(t).toOptional(),s=Bv(r).toOptional();return sa(o,s,function(l,f){return YT(l,f.unit).map(function(d){return f.value/d}).map(function(d){return L8(d,f.unit)}).getOr(bC)}).getOr(bC)},yC=function(t,r){var o=bC,s=Bn("ratio-event"),l=function(E){return oc(E,{tag:"span",classes:["tox-icon","tox-lock-icon__"+E]},r.icons)},f=Cu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[l("lock"),l("unlock")],buttonBehaviours:fn([Yn.config({disabled:function(){return t.disabled||r.isDisabled()}}),xo(),Ja.config({})])}),d=function(E){return{dom:{tag:"div",classes:["tox-form__group"]},components:E}},h=function(E){return Kr.parts.field({factory:Yg,inputClasses:["tox-textfield"],inputBehaviours:fn([Yn.config({disabled:function(){return t.disabled||r.isDisabled()}}),xo(),Ja.config({}),Ar("size-input-events",[It(Kl(),function(F,R){er(F,s,{isField1:E})}),It(sd(),function(F,R){er(F,bu,{name:t.name})})])]),selectOnFocus:!1})},p=function(E){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(E)}}},y=Cu.parts.field1(d([Kr.parts.label(p("Width")),h(!0)])),S=Cu.parts.field2(d([Kr.parts.label(p("Height")),h(!1)]));return Cu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[y,S,d([p("&nbsp;"),f])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(E,F,R){Bv(xn.getValue(E)).each(function(W){o(W).each(function(ee){xn.setValue(F,z8(ee))})})},coupledFieldBehaviours:fn([Yn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(E){Cu.getField1(E).bind(Kr.getField).each(Yn.disable),Cu.getField2(E).bind(Kr.getField).each(Yn.disable),Cu.getLock(E).each(Yn.disable)},onEnabled:function(E){Cu.getField1(E).bind(Kr.getField).each(Yn.enable),Cu.getField2(E).bind(Kr.getField).each(Yn.enable),Cu.getLock(E).each(Yn.enable)}}),xo(),Ar("size-input-events2",[It(s,function(E,F){var R=F.event.isField1,W=R?Cu.getField1(E):Cu.getField2(E),ee=R?Cu.getField2(E):Cu.getField1(E),pe=W.map(xn.getValue).getOr(""),K=ee.map(xn.getValue).getOr("");o=H8(pe,K)})])])})},V8=I(Bn("undo")),U8=I(Bn("redo")),W8=I(Bn("zoom")),j8=I(Bn("back")),q8=I(Bn("apply")),ZT=I(Bn("swap")),G8=I(Bn("transform")),K8=I(Bn("temp-transform")),X8=I(Bn("transform-apply")),ii={undo:V8,redo:U8,zoom:W8,back:j8,apply:q8,swap:ZT,transform:G8,tempTransform:K8,transformApply:X8},JT=I("save-state"),Y8=I("disable"),Z8=I("enable"),Wa={formActionEvent:Vc,saveState:JT,disable:Y8,enable:Z8},J8=function(t,r){var o=function(An,_r,ua,eo){return Jr(hC({name:An,text:An,disabled:ua,primary:eo,icon:C.none(),borderless:!1},_r,r))},s=function(An,_r,ua,eo){return Jr(lh({name:An,icon:C.some(An),tooltip:C.some(_r),disabled:eo,primary:!1,borderless:!1},ua,r))},l=function(An,_r){An.map(function(ua){var eo=ua.get(_r);eo.hasConfigured(Yn)&&Yn.disable(eo)})},f=function(An,_r){An.map(function(ua){var eo=ua.get(_r);eo.hasConfigured(Yn)&&Yn.enable(eo)})},d={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},h=ve,p=function(An,_r,ua){er(An,_r,ua)},y=function(An){return Ir(An,Wa.disable())},S=function(An){return Ir(An,Wa.enable())},E=function(An,_r){y(An),p(An,ii.transform(),{transform:_r}),S(An)},F=function(An,_r){y(An),p(An,ii.tempTransform(),{transform:_r}),S(An)},R=function(An){return function(){A0.getOpt(An).each(function(_r){yr.set(_r,[O0])})}},W=function(An,_r){y(An),p(An,ii.transformApply(),{transform:_r,swap:R(An)}),S(An)},ee=function(){return o("Back",function(An){return p(An,ii.back(),{swap:R(An)})},!1,!1)},pe=function(){return Jr({dom:{tag:"div",classes:["tox-spacer"]},behaviours:fn([Yn.config({})])})},K=function(){return o("Apply",function(An){return p(An,ii.apply(),{swap:R(An)})},!0,!0)},Ce=function(){return function(An){var _r=t.getRect();return E8(An,_r.x,_r.y,_r.w,_r.h)}},mt=[ee(),pe(),o("Apply",function(An){var _r=Ce();W(An,_r),t.hideCrop()},!1,!0)],bt=pi.sketch({dom:d,components:mt.map(function(An){return An.asSpec()}),containerBehaviours:fn([Ar("image-tools-crop-buttons-events",[It(Wa.disable(),function(An,_r){l(mt,An)}),It(Wa.enable(),function(An,_r){f(mt,An)})])])}),ye=Jr(yC({name:"size",label:C.none(),constrain:!0,disabled:!1},r)),tt=function(An,_r){return function(ua){return T8(ua,An,_r)}},Ot=[ee(),pe(),ye,pe(),o("Apply",function(An){ye.getOpt(An).each(function(_r){var ua=xn.getValue(_r),eo=parseInt(ua.width,10),Wu=parseInt(ua.height,10),ju=tt(eo,Wu);W(An,ju)})},!1,!0)],yn=pi.sketch({dom:d,components:Ot.map(function(An){return An.asSpec()}),containerBehaviours:fn([Ar("image-tools-resize-buttons-events",[It(Wa.disable(),function(An,_r){l(Ot,An)}),It(Wa.enable(),function(An,_r){f(Ot,An)})])])}),At=function(An,_r){return function(ua){return An(ua,_r)}},wn=At(iC,"h"),zt=At(iC,"v"),Et=At(VT,-90),pn=At(VT,90),zn=function(An,_r){F(An,_r)},Bt=[ee(),pe(),s("flip-horizontally","Flip horizontally",function(An){zn(An,wn)},!1),s("flip-vertically","Flip vertically",function(An){zn(An,zt)},!1),s("rotate-left","Rotate counterclockwise",function(An){zn(An,Et)},!1),s("rotate-right","Rotate clockwise",function(An){zn(An,pn)},!1),pe(),K()],Rn=pi.sketch({dom:d,components:Bt.map(function(An){return An.asSpec()}),containerBehaviours:fn([Ar("image-tools-fliprotate-buttons-events",[It(Wa.disable(),function(An,_r){l(Bt,An)}),It(Wa.enable(),function(An,_r){f(Bt,An)})])])}),Un=function(An,_r,ua,eo,Wu){var ju=Vu.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(An)}}),gc=Vu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),D0=Vu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Jr(Vu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:ua,maxX:Wu,getInitialValue:I({x:eo})},components:[ju,gc,D0],sliderBehaviours:fn([fr.config({})]),onChoose:_r}))},zr=function(An,_r,ua,eo,Wu){var ju=function(gc,D0,qN){var GN=At(_r,qN.x/100);E(gc,GN)};return Un(An,ju,ua,eo,Wu)},aa=function(An,_r,ua,eo,Wu){return[ee(),zr(An,_r,ua,eo,Wu),K()]},$a=function(An,_r,ua,eo,Wu){var ju=aa(An,_r,ua,eo,Wu);return pi.sketch({dom:d,components:ju.map(function(gc){return gc.asSpec()}),containerBehaviours:fn([Ar("image-tools-filter-panel-buttons-events",[It(Wa.disable(),function(gc,D0){l(ju,gc)}),It(Wa.enable(),function(gc,D0){f(ju,gc)})])])})},mc=[ee(),pe(),K()],Ns=pi.sketch({dom:d,components:mc.map(function(An){return An.asSpec()})}),$N=$a("Brightness",S8,-100,0,100),zN=$a("Contrast",k8,-100,0,100),TA=$a("Gamma",C8,-100,0,100),LN=function(An,_r,ua){return function(eo){return x8(eo,An,_r,ua)}},ZC=function(An){var _r=function(ua,eo,Wu){var ju=OA.getOpt(ua),gc=AA.getOpt(ua),D0=JC.getOpt(ua);ju.each(function(qN){gc.each(function(GN){D0.each(function(zW){var LW=xn.getValue(qN).x/100,HW=xn.getValue(zW).x/100,VW=xn.getValue(GN).x/100,UW=LN(LW,HW,VW);E(ua,UW)})})})};return Un(An,_r,0,100,200)},OA=ZC("R"),JC=ZC("G"),AA=ZC("B"),el=[ee(),OA,JC,AA,K()],QC=pi.sketch({dom:d,components:el.map(function(An){return An.asSpec()})}),Uu=function(An,_r,ua){return function(eo){var Wu=function(){A0.getOpt(eo).each(function(ju){yr.set(ju,[An]),ua(ju)})};p(eo,ii.swap(),{transform:_r,swap:Wu})}},HN=function(An){t.showCrop()},VN=function(An){ye.getOpt(An).each(function(_r){var ua=t.getMeasurements(),eo=ua.width,Wu=ua.height;xn.setValue(_r,{width:eo,height:Wu})})},UN=C.some(w8),Fi=C.some(y8),wm=[s("crop","Crop",Uu(bt,C.none(),HN),!1),s("resize","Resize",Uu(yn,C.none(),VN),!1),s("orientation","Orientation",Uu(Rn,C.none(),h),!1),s("brightness","Brightness",Uu($N,C.none(),h),!1),s("sharpen","Sharpen",Uu(Ns,UN,h),!1),s("contrast","Contrast",Uu(zN,C.none(),h),!1),s("color-levels","Color levels",Uu(QC,C.none(),h),!1),s("gamma","Gamma",Uu(TA,C.none(),h),!1),s("invert","Invert",Uu(Ns,Fi,h),!1)],O0=pi.sketch({dom:d,components:wm.map(function(An){return An.asSpec()})}),WN=pi.sketch({dom:{tag:"div"},components:[O0],containerBehaviours:fn([yr.config({})])}),A0=Jr(WN),jN=function(An){return A0.getOpt(An).map(function(_r){var ua=_r.components()[0];return ua.components()[ua.components().length-1]})};return{memContainer:A0,getApplyButton:jN}},u0=tinymce.util.Tools.resolve("tinymce.geom.Rect"),QT=tinymce.util.Tools.resolve("tinymce.util.Observable"),Fv=tinymce.util.Tools.resolve("tinymce.util.VK"),s0=function(t){var r=Math.max,o=t.documentElement,s=t.body,l=r(o.scrollWidth,s.scrollWidth),f=r(o.clientWidth,s.clientWidth),d=r(o.offsetWidth,s.offsetWidth),h=r(o.scrollHeight,s.scrollHeight),p=r(o.clientHeight,s.clientHeight),y=r(o.offsetHeight,s.offsetHeight);return{width:l<d?f:l,height:h<y?p:h}},Q8=function(t){return se(t.changedTouches)},vm=function(t){if(Q8(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function eR(t,r){var o,s,l,f,d=[],h=[],p=(o=r.document)!==null&&o!==void 0?o:document,y=(s=r.root)!==null&&s!==void 0?s:p,S=Q.fromDom(p),E,F,R,W=Q.fromDom(y.getElementById((l=r.handle)!==null&&l!==void 0?l:t)),ee=function(mt){var bt=mt.raw,ye=s0(p);vm(bt),mt.prevent(),E=bt.button,F=bt.screenX,R=bt.screenY;var tt=no(W,"cursor");f=Q.fromTag("div",p),Us(f,{position:"absolute",top:"0",left:"0",width:ye.width+"px",height:ye.height+"px","z-index":2147483647+"",opacity:"0.0001",cursor:tt}),li(na(S),f),h.push(mo(S,"mousemove",pe),mo(S,"touchmove",pe),mo(S,"mouseup",K),mo(S,"touchend",K)),r.start(bt)},pe=function(mt){var bt=mt.raw;if(vm(bt),bt.button!==E)return K(mt);bt.deltaX=bt.screenX-F,bt.deltaY=bt.screenY-R,mt.prevent(),r.drag(bt)},K=function(mt){vm(mt.raw),Fe(h,function(bt){return bt.unbind()}),h=[],Ou(f),r.stop&&r.stop(mt.raw)},Ce=function(){Fe(h.concat(d),function(mt){return mt.unbind()}),h=[],d=[],se(f)&&Ou(f)};return d.push(mo(W,"mousedown",ee),mo(W,"touchstart",ee)),{destroy:Ce}}var vh=0,eO=function(t,r,o,s,l){var f,d=[],h="tox-",p=h+"crid-"+vh++,y=Q.fromDom(s),S=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],E=["top","right","bottom","left"],F=function(At,wn){return{x:wn.x+At.x,y:wn.y+At.y,w:wn.w,h:wn.h}},R=function(At,wn){return{x:wn.x-At.x,y:wn.y-At.y,w:wn.w,h:wn.h}},W=function(){return R(o,t)},ee=function(At,wn,zt,Et){var pn=wn.x+zt*At.deltaX,zn=wn.y+Et*At.deltaY,Bt=Math.max(20,wn.w+zt*At.deltaW),Rn=Math.max(20,wn.h+Et*At.deltaH),Un=t=u0.clamp({x:pn,y:zn,w:Bt,h:Rn},o,At.name==="move");Un=R(o,Un),yn.fire("updateRect",{rect:Un}),ye(Un)},pe=function(){var At=function(pn){var zn;return eR(p,{document:s.ownerDocument,root:cr(y).dom,handle:p+"-"+pn.name,start:function(){zn=t},drag:function(Bt){ee(pn,zn,Bt.deltaX,Bt.deltaY)}})},wn=Q.fromTag("div");Vv(wn,{id:p,class:h+"croprect-container",role:"grid","aria-dropeffect":"execute"}),li(y,wn),Fe(E,function(pn){Co(y,"#"+p).each(function(zn){var Bt=Q.fromTag("div");Vv(Bt,{id:p+"-"+pn,class:h+"croprect-block","data-mce-bogus":"all"}),mr(Bt,"display","none"),li(zn,Bt)})}),Fe(S,function(pn){Co(y,"#"+p).each(function(zn){var Bt=Q.fromTag("div");Vv(Bt,{id:p+"-"+pn.name,"aria-label":pn.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:pn.label}),wl(Bt,[h+"croprect-handle",h+"croprect-handle-"+pn.name]),mr(Bt,"display","none"),li(zn,Bt)})}),f=dt(S,At),Ce(t);var zt=function(pn){Dr(pn.target,"aria-grabbed",pn.raw.type==="focus"?"true":"false")},Et=function(pn){var zn;Fe(S,function(Rn){if(Ma(pn.target,"id")===p+"-"+Rn.name)return zn=Rn,!1});var Bt=function(Rn,Un,zr,aa,$a){Rn.stopPropagation(),Rn.preventDefault(),ee(zn,zr,aa,$a)};switch(pn.raw.keyCode){case Fv.LEFT:Bt(pn,zn,t,-10,0);break;case Fv.RIGHT:Bt(pn,zn,t,10,0);break;case Fv.UP:Bt(pn,zn,t,0,-10);break;case Fv.DOWN:Bt(pn,zn,t,0,10);break;case Fv.ENTER:case Fv.SPACEBAR:pn.prevent(),l();break}};d.push(mo(y,"focusin",zt),mo(y,"focusout",zt),mo(y,"keydown",Et))},K=function(At){var wn=Oe(Oe([],dt(S,function(Et){return"#"+p+"-"+Et.name}),!0),dt(E,function(Et){return"#"+p+"-"+Et}),!0).join(","),zt=qo(y,wn);At?Fe(zt,function(Et){return la(Et,"display")}):Fe(zt,function(Et){return mr(Et,"display","none")})},Ce=function(At){var wn=function(zt,Et){Co(y,"#"+p+"-"+zt).each(function(pn){Us(pn,{left:Et.x+"px",top:Et.y+"px",width:Math.max(0,Et.w)+"px",height:Math.max(0,Et.h)+"px"})})};Fe(S,function(zt){Co(y,"#"+p+"-"+zt.name).each(function(Et){Us(Et,{left:At.w*zt.xMul+At.x+"px",top:At.h*zt.yMul+At.y+"px"})})}),wn("top",{x:r.x,y:r.y,w:r.w,h:At.y-r.y}),wn("right",{x:At.x+At.w,y:At.y,w:r.w-At.x-At.w+r.x,h:At.h}),wn("bottom",{x:r.x,y:At.y+At.h,w:r.w,h:r.h-At.y-At.h+r.y}),wn("left",{x:r.x,y:At.y,w:At.x-r.x,h:At.h}),wn("move",At)},mt=function(At){t=At,Ce(t)},bt=function(At){r=At,Ce(t)},ye=function(At){mt(F(o,At))},tt=function(At){o=At,Ce(t)},Ot=function(){Fe(f,function(At){return At.destroy()}),f=[],Fe(d,function(At){return At.unbind()}),d=[]};pe();var yn=$($({},QT),{toggleVisibility:K,setClampRect:tt,setRect:mt,getInnerRect:W,setInnerRect:ye,setViewPortRect:bt,destroy:Ot});return yn},ls={create:eO},tR=function(t){return new _g(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},tO=function(t){var r=Jr({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Qn(1),s=uS(),l=Qn({x:0,y:0,w:1,h:1}),f=Qn({x:0,y:0,w:1,h:1}),d=function(pe,K){W.getOpt(pe).each(function(Ce){var mt=o.get(),bt=Si(Ce.element),ye=To(Ce.element),tt=K.dom.naturalWidth*mt,Ot=K.dom.naturalHeight*mt,yn=Math.max(0,bt/2-tt/2),At=Math.max(0,ye/2-Ot/2),wn={left:yn.toString()+"px",top:At.toString()+"px",width:tt.toString()+"px",height:Ot.toString()+"px",position:"absolute"};Us(K,wn),r.getOpt(Ce).each(function(zt){Us(zt.element,wn)}),s.run(function(zt){var Et=l.get();zt.setRect({x:Et.x*mt+yn,y:Et.y*mt+At,w:Et.w*mt,h:Et.h*mt}),zt.setClampRect({x:yn,y:At,w:tt,h:Ot}),zt.setViewPortRect({x:0,y:0,w:bt,h:ye})})})},h=function(pe,K){W.getOpt(pe).each(function(Ce){var mt=Si(Ce.element),bt=To(Ce.element),ye=K.dom.naturalWidth,tt=K.dom.naturalHeight,Ot=Math.min(mt/ye,bt/tt);Ot>=1?o.set(1):o.set(Ot)})},p=function(pe,K){var Ce=Q.fromTag("img");return Dr(Ce,"src",K),tR(Ce.dom).then(function(){pe.getSystem().isConnected()&&W.getOpt(pe).map(function(mt){var bt=Kh({element:Ce});yr.replaceAt(mt,1,C.some(bt));var ye=f.get(),tt={x:0,y:0,w:Ce.dom.naturalWidth,h:Ce.dom.naturalHeight};f.set(tt);var Ot=u0.inflate(tt,-20,-20);l.set(Ot),(ye.w!==tt.w||ye.h!==tt.h)&&h(mt,Ce),d(mt,Ce)})})},y=function(pe,K){var Ce=o.get(),mt=K>0?Math.min(2,Ce+.1):Math.max(.1,Ce-.1);o.set(mt),W.getOpt(pe).each(function(bt){var ye=bt.components()[1].element;d(bt,ye)})},S=function(){s.run(function(pe){pe.toggleVisibility(!0)})},E=function(){s.run(function(pe){pe.toggleVisibility(!1)})},F=function(){return l.get()},R=pi.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:fn([Ar("image-panel-crop-events",[Ka(function(pe){W.getOpt(pe).each(function(K){var Ce=K.element.dom,mt=ls.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Ce,ve);mt.toggleVisibility(!1),mt.on("updateRect",function(bt){var ye=bt.rect,tt=o.get(),Ot={x:Math.round(ye.x/tt),y:Math.round(ye.y/tt),w:Math.round(ye.w/tt),h:Math.round(ye.h/tt)};l.set(Ot)}),s.set(mt)})}),Ru(function(){s.clear()})])])}],containerBehaviours:fn([yr.config({}),Ar("image-panel-events",[Ka(function(pe){p(pe,t)})])])}),W=Jr(R),ee=function(){var pe=f.get();return{width:pe.w,height:pe.h}};return{memContainer:W,updateSrc:p,zoom:y,showCrop:S,hideCrop:E,getRect:F,getMeasurements:ee}},c0=function(t,r,o,s,l){return lh({name:t,icon:C.some(r),disabled:o,tooltip:C.some(t),primary:!1,borderless:!1},s,l)},nO=function(t,r){r?Yn.enable(t):Yn.disable(t)},nR=function(t){var r=function(f,d,h){o.getOpt(f).each(function(p){nO(p,d)}),s.getOpt(f).each(function(p){nO(p,h)})},o=Jr(c0("Undo","undo",!0,function(f){er(f,ii.undo(),{direction:1})},t)),s=Jr(c0("Redo","redo",!0,function(f){er(f,ii.redo(),{direction:1})},t)),l=pi.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),c0("Zoom in","zoom-in",!1,function(f){er(f,ii.zoom(),{direction:1})},t),c0("Zoom out","zoom-out",!1,function(f){er(f,ii.zoom(),{direction:-1})},t)]});return{container:l,updateButtonUndoStates:r}};function rR(){var t=[],r=-1,o=function(h){var p=t.splice(++r);return t.push(h),{state:h,removed:p}},s=function(){if(f())return t[--r]},l=function(){if(d())return t[++r]},f=function(){return r>0},d=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:s,redo:l,canUndo:f,canRedo:d}}var aR=function(t){var r=Qn(t),o=Za(),s=rR();s.add(t);var l=function(){return r.get()},f=function(Ce){r.set(Ce)},d=function(){return o.get().getOrThunk(r.get)},h=function(Ce){var mt=p(Ce);return E(),o.set(mt),mt.url},p=function(Ce){return{blob:Ce,url:URL.createObjectURL(Ce)}},y=function(Ce){URL.revokeObjectURL(Ce.url)},S=function(Ce){Gc.each(Ce,y)},E=function(){o.on(y),o.clear()},F=function(Ce){var mt=p(Ce);f(mt);var bt=s.add(mt).removed;return S(bt),mt.url},R=function(Ce){var mt=p(Ce);return o.set(mt),mt.url},W=function(Ce){return o.get().fold(ve,function(mt){F(mt.blob),Ce()})},ee=function(){var Ce=s.undo();return f(Ce),Ce.url},pe=function(){var Ce=s.redo();return f(Ce),Ce.url},K=function(){var Ce=s.canUndo(),mt=s.canRedo();return{undoEnabled:Ce,redoEnabled:mt}};return{getBlobState:l,setBlobState:f,addBlobState:F,getTempState:d,updateTempState:h,addTempState:R,applyTempState:W,destroyTempState:E,undo:ee,redo:pe,getHistoryStates:K}},oR=function(t,r){var o=aR(t.currentState),s=function(zt,Et){var pn=Et.event.direction;Ot.zoom(zt,pn)},l=function(zt){var Et=o.getHistoryStates();yn.updateButtonUndoStates(zt,Et.undoEnabled,Et.redoEnabled),er(zt,Wa.formActionEvent,{name:Wa.saveState(),value:Et.undoEnabled})},f=function(zt){yn.updateButtonUndoStates(zt,!1,!1)},d=function(zt,Et){var pn=o.undo();E(zt,pn).then(function(zn){S(zt),l(zt)})},h=function(zt,Et){var pn=o.redo();E(zt,pn).then(function(zn){S(zt),l(zt)})},p=function(zt){return zt.toBlob()},y=function(zt){er(zt,Wa.formActionEvent,{name:Wa.disable(),value:{}})},S=function(zt){At.getApplyButton(zt).each(function(Et){Yn.enable(Et)}),er(zt,Wa.formActionEvent,{name:Wa.enable(),value:{}})},E=function(zt,Et){return y(zt),Ot.updateSrc(zt,Et)},F=function(zt,Et,pn,zn,Bt){y(zt),r8(Et).then(pn).then(p).then(zn).then(function(Rn){return E(zt,Rn)}).then(function(){l(zt),Bt(),S(zt)}).catch(function(Rn){zt.getSystem().isConnected()&&S(zt)})},R=function(zt,Et,pn){var zn=o.getBlobState().blob,Bt=function(Rn){return o.updateTempState(Rn)};F(zt,zn,Et,Bt,pn)},W=function(zt,Et){var pn=o.getTempState().blob,zn=function(Bt){return o.addTempState(Bt)};F(zt,pn,Et,zn,ve)},ee=function(zt,Et,pn){var zn=o.getBlobState().blob,Bt=function(Rn){var Un=o.addBlobState(Rn);return K(zt),Un};F(zt,zn,Et,Bt,pn)},pe=function(zt,Et){var pn=function(){K(zt);var zn=Et.event.swap;zn()};o.applyTempState(pn)},K=function(zt){var Et=o.getBlobState().url;return o.destroyTempState(),l(zt),Et},Ce=function(zt){var Et=K(zt);E(zt,Et).then(function(pn){S(zt)})},mt=function(zt,Et){Ce(zt);var pn=Et.event.swap;pn(),Ot.hideCrop()},bt=function(zt,Et){return R(zt,Et.event.transform,ve)},ye=function(zt,Et){return W(zt,Et.event.transform)},tt=function(zt,Et){return ee(zt,Et.event.transform,Et.event.swap)},Ot=tO(t.currentState.url),yn=nR(r),At=J8(Ot,r),wn=function(zt,Et){f(zt);var pn=Et.event.transform,zn=Et.event.swap;pn.fold(function(){zn()},function(Bt){R(zt,Bt,zn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[At.memContainer.asSpec(),Ot.memContainer.asSpec(),yn.container],behaviours:fn([xn.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Ar("image-tools-events",[It(ii.undo(),d),It(ii.redo(),h),It(ii.zoom(),s),It(ii.back(),mt),It(ii.apply(),pe),It(ii.transform(),bt),It(ii.tempTransform(),ye),It(ii.transformApply(),tt),It(ii.swap(),wn)]),lc.self()])}},iR=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},s=dt(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:fn([lc.self(),yr.config({}),_v.domHtml(C.none()),tr.config({mode:"acyclic"})])}},wC=function(t){return!Ut(t,"items")},rO="data-value",CC=function(t,r,o,s){return dt(o,function(l){return wC(l)?{type:"togglemenuitem",text:l.text,value:l.value,active:l.value===s,onAction:function(){xn.setValue(t,l.value),er(t,bu,{name:r}),fr.focus(t)}}:{type:"nestedmenuitem",text:l.text,getSubmenuItems:function(){return CC(t,r,l.items,s)}}})},xC=function(t,r){return Le(t,function(o){return wC(o)?wa(o.value===r,o):xC(o.items,r)})},aO=function(t,r){var o=r.shared.providers,s=_t(t.items).filter(wC),l=t.label.map(function(h){return xf(h,o)}),f=Kr.parts.field({dom:{},factory:{sketch:function(h){return fC({uid:h.uid,text:s.map(function(p){return p.text}),icon:C.none(),tooltip:t.label,role:C.none(),fetch:function(p,y){var S=CC(p,t.name,t.items,xn.getValue(p));y(lm(S,ic.CLOSE_ON_EXECUTE,r,!1))},onSetup:I(ve),getApi:I({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ja.config({}),xn.config({store:{mode:"manual",initialValue:s.map(function(p){return p.value}).getOr(""),getValue:function(p){return Ma(p.element,rO)},setValue:function(p,y){xC(t.items,y).each(function(S){Dr(p.element,rO,S.value),er(p,Pv,{text:S.text})})}}})]},"tox-listbox",r.shared)}}}),d={dom:{tag:"div",classes:["tox-listboxfield"]},components:[f]};return Kr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:le([l.toArray(),[d]]),fieldBehaviours:fn([Yn.config({disabled:I(t.disabled),onDisabled:function(h){Kr.getField(h).each(Yn.disable)},onEnabled:function(h){Kr.getField(h).each(Yn.enable)}})])})},uR=function(t,r){return{dom:{tag:"div",classes:t.classes},components:dt(t.items,r.shared.interpreter)}},oO=function(t,r){var o=dt(t.options,function(l){return{dom:{tag:"option",value:l.value,innerHtml:l.text}}}),s=t.data.map(function(l){return Sc("initialValue",l)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Ro(t.selectBehaviours,[fr.config({}),xn.config({store:$({mode:"manual",getValue:function(l){return rs(l.element)},setValue:function(l,f){var d=pt(t.options,function(h){return h.value===f});d.isSome()&&md(l.element,f)}},s)})])}},sR=pu({name:"HtmlSelect",configFields:[Nt("options"),Mo("selectBehaviours",[fr,xn]),Se("selectClasses",[]),Se("selectAttributes",{}),ea("data")],factory:oO}),cR=function(t,r){var o=dt(t.items,function(h){return{text:r.translate(h.text),value:h.value}}),s=t.label.map(function(h){return xf(h,r)}),l=Kr.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:sR,selectBehaviours:fn([Yn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Ja.config({}),Ar("selectbox-change",[It(sd(),function(h,p){er(h,bu,{name:t.name})})])])}),f=t.size>1?C.none():C.some(oc("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),d={dom:{tag:"div",classes:["tox-selectfield"]},components:le([[l],f.toArray()])};return Kr.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:le([s.toArray(),[d]]),fieldBehaviours:fn([Yn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(h){Kr.getField(h).each(Yn.disable)},onEnabled:function(h){Kr.getField(h).each(Yn.enable)}}),xo()])})},lR=function(t,r){var o=function(h){return{dom:{tag:"th",innerHtml:r.translate(h)}}},s=function(h){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:dt(h,o)}]}},l=function(h){return{dom:{tag:"td",innerHtml:r.translate(h)}}},f=function(h){return{dom:{tag:"tr"},components:dt(h,l)}},d=function(h){return{dom:{tag:"tbody"},components:dt(h,f)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),d(t.cells)],behaviours:fn([Ja.config({}),fr.config({})])}},iO=function(t,r){var o=t.label.map(function(F){return xf(F,r)}),s=[Yn.config({disabled:function(){return t.disabled||r.isDisabled()}}),xo(),tr.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(F){return Ir(F,Qd),C.some(!0)}}),Ar("textfield-change",[It(ud(),function(F,R){er(F,bu,{name:t.name})}),It(eb(),function(F,R){er(F,bu,{name:t.name})})]),Ja.config({})],l=t.validation.map(function(F){return Wc.config({getRoot:function(R){return Eo(R.element)},invalidClass:"tox-invalid",validator:{validate:function(R){var W=xn.getValue(R),ee=F.validator(W);return Go.pure(ee===!0?Or.value(W):Or.error(ee))},validateOnLoad:F.validateOnLoad}})}).toArray(),f=t.placeholder.fold(I({}),function(F){return{placeholder:r.translate(F)}}),d=t.inputMode.fold(I({}),function(F){return{inputmode:F}}),h=$($({},f),d),p=Kr.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:h,inputClasses:[t.classname],inputBehaviours:fn(le([s,l])),selectOnFocus:!1,factory:Yg}),y=t.flex?["tox-form__group--stretched"]:[],S=y.concat(t.maximized?["tox-form-group--maximize"]:[]),E=[Yn.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(F){Kr.getField(F).each(Yn.disable)},onEnabled:function(F){Kr.getField(F).each(Yn.enable)}}),xo()];return Xg(o,p,S,E)},fR=function(t,r){return iO({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:C.none(),maximized:t.maximized},r)},vR=function(t,r){return iO({name:t.name,multiline:!0,label:t.label,inputMode:C.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:C.none(),maximized:t.maximized},r)},dR=function(t,r){var o=t.stream.streams,s=o.setup(t,r);return ya([It(t.event,s),Ru(function(){return r.cancel()})].concat(t.cancelEvent.map(function(l){return[It(l,function(){return r.cancel()})]}).getOr([])))},mR=Object.freeze({__proto__:null,events:dR}),uO=function(t){var r=Qn(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(f){r.set(f)},l=function(){var f=r.get();f!==null&&f.cancel()};return Li({readState:o,setTimer:s,cancel:l})},gR=function(t){return t.stream.streams.state(t)},hR=Object.freeze({__proto__:null,throttle:uO,init:gR}),pR=function(t,r){var o=t.stream,s=d2(t.onStream,o.delay);return r.setTimer(s),function(l,f){s.throttle(l,f),o.stopEvent&&f.stop()}},bR=[vu("stream",Yu("mode",{throttle:[Nt("delay"),Se("stopEvent",!0),ga("streams",{setup:pR,state:uO})]})),Se("event","input"),ea("cancelEvent"),Kf("onStream")],sO=vo({fields:bR,name:"streaming",active:mR,state:hR}),dh=function(t,r,o){var s=xn.getValue(o);xn.setValue(r,s),lO(r)},cO=function(t,r){var o=t.element,s=rs(o),l=o.dom;Ma(o,"type")!=="number"&&r(l,s)},lO=function(t){cO(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},fO=function(t,r){cO(t,function(o,s){return o.setSelectionRange(r,s.length)})},yR=function(t,r,o){if(t.selectsOver){var s=xn.getValue(r),l=t.getDisplayText(s),f=xn.getValue(o),d=t.getDisplayText(f);return d.indexOf(l)===0?C.some(function(){dh(t,r,o),fO(r,l.length)}):C.none()}else return C.none()},SC=I("alloy.typeahead.itemexecute"),wR=function(t,r,o,s){var l=function(p,y,S){t.previewing.set(!1);var E=Qa.getCoupled(p,"sandbox");if(Vr.isOpen(E))$r.getCurrent(E).each(function(R){Qr.getHighlighted(R).fold(function(){S(R)},function(){Sx(E,R.element,"keydown",y)})});else{var F=function(R){$r.getCurrent(R).each(S)};Tw(t,d(p),p,E,s,F,Ds.HighlightFirst).get(ve)}},f=_E(t),d=function(p){return function(y){return y.map(function(S){var E=Ct(S.menus),F=vt(E,function(W){return De(W.items,function(ee){return ee.type==="item"})}),R=xn.getState(p);return R.update(dt(F,function(W){return W.data})),S})}},h=[fr.config({}),xn.config({onSetValue:t.onSetValue,store:$({mode:"dataset",getDataKey:function(p){return rs(p.element)},getFallbackEntry:function(p){return{value:p,meta:{}}},setValue:function(p,y){md(p.element,t.model.getDisplayText(y))}},t.initialData.map(function(p){return Sc("initialValue",p)}).getOr({}))}),sO.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(p,y){var S=Qa.getCoupled(p,"sandbox"),E=fr.isFocused(p);if(E&&rs(p.element).length>=t.minChars){var F=$r.getCurrent(S).bind(function(W){return Qr.getHighlighted(W).map(xn.getValue)});t.previewing.set(!0);var R=function(W){$r.getCurrent(S).each(function(ee){F.fold(function(){t.model.selectsOver&&Qr.highlightFirst(ee)},function(pe){Qr.highlightBy(ee,function(K){var Ce=xn.getValue(K);return Ce.value===pe.value}),Qr.getHighlighted(ee).orThunk(function(){return Qr.highlightFirst(ee),C.none()})})})};Tw(t,d(p),p,S,s,R,Ds.HighlightFirst).get(ve)}},cancelEvent:nb()}),tr.config({mode:"special",onDown:function(p,y){return l(p,y,Qr.highlightFirst),C.some(!0)},onEscape:function(p){var y=Qa.getCoupled(p,"sandbox");return Vr.isOpen(y)?(Vr.close(y),C.some(!0)):C.none()},onUp:function(p,y){return l(p,y,Qr.highlightLast),C.some(!0)},onEnter:function(p){var y=Qa.getCoupled(p,"sandbox"),S=Vr.isOpen(y);if(S&&!t.previewing.get())return $r.getCurrent(y).bind(function(F){return Qr.getHighlighted(F)}).map(function(F){return er(p,SC(),{item:F}),!0});var E=xn.getValue(p);return Ir(p,nb()),t.onExecute(y,p,E),S&&Vr.close(y),C.some(!0)}}),Ur.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Qa.config({others:{sandbox:function(p){return Ow(t,p,{onOpen:function(){return Ur.on(p)},onClose:function(){return Ur.off(p)}})}}}),Ar("typeaheadevents",[Ec(function(p){var y=ve;tm(t,d(p),p,s,y,Ds.HighlightFirst).get(ve)}),It(SC(),function(p,y){var S=Qa.getCoupled(p,"sandbox");dh(t.model,p,y.event.item),Ir(p,nb()),t.onItemExecute(p,S,y.event.item,xn.getValue(p)),Vr.close(S),lO(p)})].concat(t.dismissOnBlur?[It(Q0(),function(p){var y=Qa.getCoupled(p,"sandbox");Ss(y.element).isNone()&&Vr.close(y)})]:[]))];return{uid:t.uid,dom:PE(wt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:$($({},f),Ro(t.typeaheadBehaviours,h)),eventOrder:t.eventOrder}},CR=I([ea("lazySink"),Nt("fetch"),Se("minChars",5),Se("responseTime",1e3),Fr("onOpen"),Se("getHotspot",C.some),Se("getAnchorOverrides",I({})),Se("layouts",C.none()),Se("eventOrder",{}),W0("model",{},[Se("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Se("selectsOver",!0),Se("populateFromBrowse",!0)]),Fr("onSetValue"),Xa("onExecute"),Fr("onItemExecute"),Se("inputClasses",[]),Se("inputAttributes",{}),Se("inputStyles",{}),Se("matchWidth",!0),Se("useMinWidth",!1),Se("dismissOnBlur",!0),Gf(["openClass"]),ea("initialData"),Mo("typeaheadBehaviours",[fr,xn,sO,tr,Ur,Qa]),nu("previewing",function(){return Qn(!0)})].concat(A1()).concat(Aw())),xR=I([Os({schema:[Jh()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(s){yR(t.model,s,o).fold(function(){return Qr.dehighlight(r,o)},function(l){return l()})}):r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&dh(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(s){return er(s,SC(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&dh(t.model,s,o)})}}}})]),SR=Gi({name:"Typeahead",configFields:CR(),partFields:xR(),factory:wR}),xu=function(t){var r=function(){return xu(t.toCached())},o=function(p){return xu(t.bind(function(y){return y.fold(function(S){return Go.pure(Or.error(S))},function(S){return p(S)})}))},s=function(p){return xu(t.map(function(y){return y.bind(p)}))},l=function(p){return xu(t.map(function(y){return y.map(p)}))},f=function(p){return xu(t.map(function(y){return y.mapError(p)}))},d=function(p,y){return t.map(function(S){return S.fold(p,y)})},h=function(p,y){return xu(Go.nu(function(S){var E=!1,F=setTimeout(function(){E=!0,S(Or.error(y()))},p);t.get(function(R){E||(clearTimeout(F),S(R))})}))};return $($({},t),{toCached:r,bindFuture:o,bindResult:s,mapResult:l,mapError:f,foldResult:d,withTimeout:h})},vO=function(t){return xu(Go.nu(t))},dO=function(t){return xu(Go.pure(Or.value(t)))},kR=function(t){return xu(Go.pure(Or.error(t)))},ER=function(t){return xu(Go.pure(t))},TR=function(t){return xu(t.map(Or.value))},OR=function(t){return vO(function(r){t.then(function(o){r(Or.value(o))},function(o){r(Or.error(o))})})},AR={nu:vO,wrap:xu,pure:dO,value:dO,error:kR,fromResult:ER,fromFuture:TR,fromPromise:OR},mO={type:"separator"},DR=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ve}},kC=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:ve}},_R=function(t){return dt(t,DR)},PR=function(t,r){return De(r,function(o){return o.type===t})},gO=function(t,r){return _R(PR(t,r))},BR=function(t){return gO("header",t.targets)},FR=function(t){return gO("anchor",t.targets)},hO=function(t){return C.from(t.anchorTop).map(function(r){return kC("<top>",r)}).toArray()},MR=function(t){return C.from(t.anchorBottom).map(function(r){return kC("<bottom>",r)}).toArray()},RR=function(t){return dt(t,function(r){return kC(r,r)})},NR=function(t){return Dt(t,function(r,o){var s=r.length===0||o.length===0;return s?r.concat(o):r.concat(mO,o)},[])},EC=function(t,r){var o=t.toLowerCase();return De(r,function(s){var l=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return Br(l.toLowerCase(),o)||Br(s.value.toLowerCase(),o)})},IR=function(t,r,o){var s=xn.getValue(r),l=s.meta.text!==void 0?s.meta.text:s.value,f=o.getLinkInformation();return f.fold(function(){return[]},function(d){var h=EC(l,RR(o.getHistory(t)));return t==="file"?NR([h,EC(l,BR(d)),EC(l,le([hO(d),FR(d),MR(d)]))]):h})},pO=Bn("aria-invalid"),bO=function(t,r,o){var s,l=r.shared.providers,f=function(K){var Ce=xn.getValue(K);o.addToHistory(Ce.value,t.filetype)},d=Kr.parts.field({factory:SR,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":pO,type:"url"},minChars:0,responseTime:0,fetch:function(K){var Ce=IR(t.filetype,K,o),mt=lm(Ce,ic.BUBBLE_TO_SANDBOX,r,!1);return Go.pure(mt)},getHotspot:function(K){return R.getOpt(K)},onSetValue:function(K,Ce){K.hasConfigured(Wc)&&Wc.run(K).get(ve)},typeaheadBehaviours:fn(le([o.getValidationHandler().map(function(K){return Wc.config({getRoot:function(Ce){return Eo(Ce.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Ce,mt){y.getOpt(Ce).each(function(bt){Dr(bt.element,"title",l.translate(mt))})}},validator:{validate:function(Ce){var mt=xn.getValue(Ce);return AR.nu(function(bt){K({type:t.filetype,url:mt.value},function(ye){if(ye.status==="invalid"){var tt=Or.error(ye.message);bt(tt)}else{var Ot=Or.value(ye.message);bt(Ot)}})})},validateOnLoad:!1}})}).toArray(),[Yn.config({disabled:function(){return t.disabled||l.isDisabled()}}),Ja.config({}),Ar("urlinput-events",le([t.filetype==="file"?[It(ud(),function(K){er(K,bu,{name:t.name})})]:[],[It(sd(),function(K){er(K,bu,{name:t.name}),f(K)}),It(eb(),function(K){er(K,bu,{name:t.name}),f(K)})]]))]])),eventOrder:(s={},s[ud()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(K){return K.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:s1(!1,1,"normal")},onExecute:function(K,Ce,mt){er(Ce,Qd,{})},onItemExecute:function(K,Ce,mt,bt){f(K),er(K,bu,{name:t.name})}}),h=t.label.map(function(K){return xf(K,l)}),p=function(K,Ce,mt,bt){return mt===void 0&&(mt=K),bt===void 0&&(bt=K),oc(mt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+K],attributes:$({title:l.translate(bt),"aria-live":"polite"},Ce.fold(function(){return{}},function(ye){return{id:ye}}))},l.icons)},y=Jr(p("invalid",C.some(pO),"warning")),S=Jr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[y.asSpec()]}),E=o.getUrlPicker(t.filetype),F=Bn("browser.url.event"),R=Jr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[d,S.asSpec()],behaviours:fn([Yn.config({disabled:function(){return t.disabled||l.isDisabled()}})])}),W=Jr(hC({name:t.name,icon:C.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(K){return Ir(K,F)},l,[],["tox-browse-url"])),ee=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:le([[R.asSpec()],E.map(function(){return W.asSpec()}).toArray()])}},pe=function(K){$r.getCurrent(K).each(function(Ce){var mt=xn.getValue(Ce),bt=$({fieldname:t.name},mt);E.each(function(ye){ye(bt).get(function(tt){xn.setValue(Ce,tt),er(K,bu,{name:t.name})})})})};return Kr.sketch({dom:wF(),components:h.toArray().concat([ee()]),fieldBehaviours:fn([Yn.config({disabled:function(){return t.disabled||l.isDisabled()},onDisabled:function(K){Kr.getField(K).each(Yn.disable),W.getOpt(K).each(Yn.disable)},onEnabled:function(K){Kr.getField(K).each(Yn.enable),W.getOpt(K).each(Yn.enable)}}),xo(),Ar("url-input-events",[It(F,pe)])])})},Mv=function(t,r){return pi.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[hi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:N3(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){er(o,Vc,{name:"alert-banner",value:t.url})},buttonBehaviours:fn([l2()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},l0=function(t,r){var o=xn.config({store:{mode:"manual",getValue:function(p){var y=p.element.dom;return y.checked},setValue:function(p,y){var S=p.element.dom;S.checked=y}}}),s=function(p){return p.element.dom.click(),C.some(!0)},l=Kr.parts.field({factory:{sketch:je},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:fn([lc.self(),Yn.config({disabled:function(){return t.disabled||r.isDisabled()}}),Ja.config({}),fr.config({}),o,tr.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),Ar("checkbox-events",[It(sd(),function(p,y){er(p,bu,{name:t.name})})])])}),f=Kr.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:fn([Zg.config({})])}),d=function(p){var y=p==="checked"?"selected":"unselected";return oc(y,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+p]},r.icons)},h=Jr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[d("checked"),d("unchecked")]});return Kr.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[l,h.asSpec(),f],fieldBehaviours:fn([Yn.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(p){Kr.getField(p).each(Yn.disable)},onEnabled:function(p){Kr.getField(p).each(Yn.enable)}}),xo()])})},$R=function(t){return t.presets==="presentation"?pi.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):pi.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:fn([Ja.config({}),fr.config({})])})},No=function(t){return function(r,o,s){return it(o,"name").fold(function(){return t(o,s)},function(l){return r.field(l,t(o,s))})}},TC=function(t){return function(r,o,s){var l=wt(o,{source:"dynamic"});return No(t)(r,l,s)}},zR={bar:No(function(t,r){return dF(t,r.shared)}),collection:No(function(t,r){return Cw(t,r.shared.providers)}),alertbanner:No(function(t,r){return Mv(t,r.shared.providers)}),input:No(function(t,r){return fR(t,r.shared.providers)}),textarea:No(function(t,r){return vR(t,r.shared.providers)}),label:No(function(t,r){return iR(t,r.shared)}),iframe:TC(function(t,r){return KM(t,r.shared.providers)}),button:No(function(t,r){return pC(t,r.shared.providers)}),checkbox:No(function(t,r){return l0(t,r.shared.providers)}),colorinput:No(function(t,r){return Dw(t,r.shared,r.colorinput)}),colorpicker:No(zM),dropzone:No(function(t,r){return jM(t,r.shared.providers)}),grid:No(function(t,r){return AT(t,r.shared)}),listbox:No(function(t,r){return aO(t,r)}),selectbox:No(function(t,r){return cR(t,r.shared.providers)}),sizeinput:No(function(t,r){return yC(t,r.shared.providers)}),urlinput:No(function(t,r){return bO(t,r,r.urlinput)}),customeditor:No(Q1),htmlpanel:No($R),imagetools:No(function(t,r){return oR(t,r.shared.providers)}),table:No(function(t,r){return lR(t,r.shared.providers)}),panel:No(function(t,r){return uR(t,r)})},LR={field:function(t,r){return r}},OC=function(t,r,o){var s=wt(o,{shared:{interpreter:function(l){return f0(t,l,s)}}});return f0(t,r,s)},f0=function(t,r,o){return it(zR,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(t,r,o)})},HR=function(t,r){var o=LR;return f0(o,t,r)},yO={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},VR=function(t,r,o){var s=12,l={maxHeightFunction:Qm()},f=function(){return{type:"node",root:Cn(t()),node:C.from(t()),bubble:Yf(s,s,yO),layouts:{onRtl:function(){return[fv]},onLtr:function(){return[Ag]}},overrides:l}},d=function(){return{type:"hotspot",hotspot:r(),bubble:Yf(-s,s,yO),layouts:{onRtl:function(){return[mi]},onLtr:function(){return[ti]}},overrides:l}};return function(){return o()?f():d()}},UR=function(t,r,o){var s=function(){return{type:"node",root:Cn(t()),node:C.from(t()),layouts:{onRtl:function(){return[As]},onLtr:function(){return[As]}}}},l=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[ni]},onLtr:function(){return[ni]}}}};return function(){return o()?s():l()}},WR=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return C.some(tg.range(Q.fromDom(o.startContainer),o.startOffset,Q.fromDom(o.endContainer),o.endOffset))}}}},wO=function(t){return function(r){return{type:"node",root:t(),node:r}}},jR=function(t,r,o){var s=g1(t),l=function(){return Q.fromDom(t.getBody())},f=function(){return Q.fromDom(t.getContentAreaContainer())},d=function(){return s||!o()};return{inlineDialog:VR(f,r,d),banner:UR(f,r,d),cursor:WR(t,l),node:wO(l)}},CO=function(t){return function(r,o){var s=fE(t);s(r,o)}},qR=function(t){return function(){return C1(t)}},GR=function(t){return function(){return lw(t)}},AC=function(t){return function(){return iE(t)}},DC=function(t){return{colorPicker:CO(t),hasCustomColors:qR(t),getColors:GR(t),getColorCols:AC(t)}},mh=function(t){return function(){return XB(t)}},KR=function(t){return{isDraggableModal:mh(t)}},XR=function(t){var r=Qn(D4(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},xO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],YR=function(t){return Ut(t,"items")},ZR=function(t){return Ut(t,"block")},SO=function(t){return Ut(t,"inline")},kO=function(t){return Ut(t,"selector")},_C=function(t){return Dt(t,function(r,o){if(YR(o)){var s=_C(o.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:o.title,items:s.formats}])}}else if(SO(o)||ZR(o)||kO(o)){var l=ue(o.name)?o.name:o.title.toLowerCase(),f="custom-"+l;return{customFormats:r.customFormats.concat([{name:f,format:o}]),formats:r.formats.concat([{title:o.title,format:f,icon:o.icon}])}}else return $($({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},JR=function(t,r){var o=_C(r),s=function(l){Fe(l,function(f){t.formatter.has(f.name)||t.formatter.register(f.name,f.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},EO=function(t){return T4(t).map(function(r){var o=JR(t,r);return O4(t)?xO.concat(o):o}).getOr(xO)},TO=function(t,r,o){var s={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return wt(t,s)},OO=function(t,r,o,s){var l=function(p){return TO(p,o,s)},f=function(p){var y={type:"submenu"};return wt(p,y)},d=function(p){var y=ue(p.name)?p.name:Bn(p.title),S="custom-"+y,E={type:"formatter",format:S,isSelected:o(S),getStylePreview:s(S)},F=wt(p,E);return t.formatter.register(y,F),F},h=function(p){return dt(p,function(y){var S=Ye(y);if(Pn(y,"items")){var E=h(y.items);return wt(f(y),{getStyleItems:I(E)})}else return Pn(y,"format")?l(y):S.length===1&&Zt(S,"title")?wt(y,{type:"separator"}):d(y)})};return h(r)},QR=function(t){var r=function(E){return function(){return t.formatter.match(E)}},o=function(E){return function(){var F=t.formatter.get(E);return F!==void 0?C.some({tag:F.length>0&&(F[0].inline||F[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(E))}):C.none()}},s=function(E){var F=E.items;return F!==void 0&&F.length>0?vt(F,s):[E.format]},l=Qn([]),f=Qn([]),d=Qn([]),h=Qn([]),p=Qn(!1);t.on("PreInit",function(E){var F=EO(t),R=OO(t,F,r,o);l.set(R),f.set(vt(R,s))}),t.on("addStyleModifications",function(E){var F=OO(t,E.items,r,o);d.set(F),p.set(E.replace),h.set(vt(F,s))});var y=function(){var E=p.get()?[]:l.get(),F=d.get();return E.concat(F)},S=function(){var E=p.get()?[]:f.get(),F=h.get();return E.concat(F)};return{getData:y,getFlattenedKeys:S}},AO=function(t){return se(t)&&t.nodeType===1},e7=Gc.trim,DO=function(t){return function(r){return!!(AO(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},t7=DO("true"),n7=DO("false"),PC=function(t,r,o,s,l){return{type:t,title:r,url:o,level:s,attach:l}},Rv=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return t7(t)}return!1},_O=function(t,r){return dt(qo(Q.fromDom(r),t),function(o){return o.dom})},PO=function(t){return t.innerText||t.textContent},r7=function(t){return t.id?t.id:Bn("h")},a7=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},BO=function(t){return a7(t)&&MO(t)},FO=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},MO=function(t){return Rv(t)&&!n7(t)},o7=function(t){return FO(t)&&MO(t)},i7=function(t){return FO(t)?parseInt(t.nodeName.substr(1),10):0},u7=function(t){var r=r7(t),o=function(){t.id=r};return PC("header",PO(t),"#"+r,i7(t),o)},s7=function(t){var r=t.id||t.name,o=PO(t);return PC("anchor",o||"#"+r,"#"+r,0,ve)},c7=function(t){return dt(De(t,o7),u7)},l7=function(t){return dt(De(t,BO),s7)},f7=function(t){var r=_O("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},v7=function(t){return e7(t.title).length>0},RO=function(t){var r=f7(t);return De(c7(r).concat(l7(r)),v7)},d7={find:RO},v0="tinymce-url-history",NO=5,IO=function(t){return ue(t)&&/^https?/.test(t)},m7=function(t){return at(t)&&t.length<=NO&&ln(t,IO)},d0=function(t){return Pe(t)&&fe(t,function(r){return!m7(r)}).isNone()},BC=function(){var t=w1.getItem(v0);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return""+v0,{};throw o}return d0(r)?r:(""+v0,{})},g7=function(t){if(!d0(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));w1.setItem(v0,JSON.stringify(t))},h7=function(t){var r=BC();return it(r,t).getOr([])},p7=function(t,r){if(!!IO(t)){var o=BC(),s=it(o,r).getOr([]),l=De(s,function(f){return f!==t});o[r]=[t].concat(l).slice(0,NO),g7(o)}},FC=function(t){return!!t},b7=function(t){return Jt(Gc.makeMap(t,/[, ]/),FC)},MC=function(t){return C.from(P4(t)).filter(Re)},y7=function(t){var r=C.some(B4(t)).filter(FC),o=C.some(JB(t)).filter(FC),s=r.or(o).map(b7);return MC(t).fold(Ue,function(l){return s.fold(Ee,function(f){return Ye(f).length>0?f:!1})})},w7=function(t,r){var o=y7(t);return He(o)?o?MC(t):C.none():o[r]?MC(t):C.none()},C7=function(t,r){return w7(t,r).map(function(o){return function(s){return Go.nu(function(l){var f=function(h,p){if(!ue(h))throw new Error("Expected value to be string");if(p!==void 0&&!Pe(p))throw new Error("Expected meta to be a object");var y={value:h,meta:p};l(y)},d=$({filetype:r,fieldname:s.fieldname},C.from(s.meta).getOr({}));o.call(t,f,s.value,d)})}})},gh=function(t){return C.from(t).filter(ue).getOrUndefined()},x7=function(t){return F4(t)?C.none():C.some({targets:d7.find(t.getBody()),anchorTop:gh(QB(t)),anchorBottom:gh(e6(t))})},S7=function(t){return C.from(t6(t))},$O=function(t){return{getHistory:h7,addToHistory:p7,getLinkInformation:function(){return x7(t)},getValidationHandler:function(){return S7(t)},getUrlPicker:function(r){return C7(t,r)}}},Nv=function(t,r,o){var s=Qn(!1),l=XR(r),f={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:$u.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(d){return HR(d,f)},anchors:jR(r,o,l.isPositionedAtTop),header:l,getSink:function(){return Or.value(t)}},urlinput:$O(r),styleselect:QR(r),colorinput:DC(r),dialog:KR(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(d){return s.set(d)}};return f},k7=function(t,r,o){var s=function(bt,ye){Fe([r,o],function(tt){tt.broadcastEvent(bt,ye)})},l=function(bt,ye){Fe([r,o],function(tt){tt.broadcastOn([bt],ye)})},f=function(bt){return l(tv(),{target:bt.target})},d=cp(),h=mo(d,"touchstart",f),p=mo(d,"touchmove",function(bt){return s(rb(),bt)}),y=mo(d,"touchend",function(bt){return s(iD(),bt)}),S=mo(d,"mousedown",f),E=mo(d,"mouseup",function(bt){bt.raw.button===0&&l(hu(),{target:bt.target})}),F=function(bt){return l(tv(),{target:Q.fromDom(bt.target)})},R=function(bt){bt.button===0&&l(hu(),{target:Q.fromDom(bt.target)})},W=function(){Fe(t.editorManager.get(),function(bt){t!==bt&&bt.fire("DismissPopups",{relatedTarget:t})})},ee=function(bt){return s(ab(),cS(bt))},pe=function(bt){l(Td(),{}),s(Xs(),cS(bt))},K=function(){return l(Td(),{})},Ce=function(bt){bt.state&&l(tv(),{target:Q.fromDom(t.getContainer())})},mt=function(bt){l(tv(),{target:Q.fromDom(bt.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",F),t.on("tap",F),t.on("mouseup",R),t.on("mousedown",W),t.on("ScrollWindow",ee),t.on("ResizeWindow",pe),t.on("ResizeEditor",K),t.on("AfterProgressState",Ce),t.on("DismissPopups",mt)}),t.on("remove",function(){t.off("click",F),t.off("tap",F),t.off("mouseup",R),t.off("mousedown",W),t.off("ScrollWindow",ee),t.off("ResizeWindow",pe),t.off("ResizeEditor",K),t.off("AfterProgressState",Ce),t.off("DismissPopups",mt),S.unbind(),h.unbind(),p.unbind(),y.unbind(),E.unbind()}),t.on("detach",function(){ay(r),ay(o),r.destroy(),o.destroy()})},Di=sk,Kc=Fd,E7=I([Se("shell",!1),Nt("makeItem"),Se("setupItem",ve),is.field("listBehaviours",[yr])]),T7=function(){return{behaviours:fn([yr.config({})])}},O7=rc({name:"items",overrides:T7}),A7=I([O7]),D7=I("CustomList"),Iv=function(t,r,o,s){var l=function(h,p){d(h).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(y){var S=yr.contents(y),E=p.length,F=E-S.length,R=F>0?z(F,function(){return t.makeItem()}):[],W=S.slice(E);Fe(W,function(pe){return yr.remove(y,pe)}),Fe(R,function(pe){return yr.append(y,pe)});var ee=yr.contents(y);Fe(ee,function(pe,K){t.setupItem(h,pe,p[K],K)})})},f=t.shell?{behaviours:[yr.config({})],components:[]}:{behaviours:[],components:r},d=function(h){return t.shell?C.some(h):va(h,t,"items")};return{uid:t.uid,dom:t.dom,components:f.components,behaviours:Ro(t.listBehaviours,f.behaviours),apis:{setItems:l}}},RC=Gi({name:D7(),configFields:E7(),partFields:A7(),factory:Iv,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),dm=I([Nt("dom"),Se("shell",!0),Mo("toolbarBehaviours",[yr])]),_7=function(){return{behaviours:fn([yr.config({})])}},P7=I([rc({name:"groups",overrides:_7})]),B7=function(t,r,o,s){var l=function(h,p){f(h).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(y){yr.set(y,p)})},f=function(h){return t.shell?C.some(h):va(h,t,"groups")},d=t.shell?{behaviours:[yr.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:d.components,behaviours:Ro(t.toolbarBehaviours,d.behaviours),apis:{setGroups:l},domModification:{attributes:{role:"group"}}}},fc=Gi({name:"Toolbar",configFields:dm(),partFields:P7(),factory:B7,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),F7=ve,NC=Ue,mm=I([]),m0=Object.freeze({__proto__:null,setup:F7,isDocked:NC,getBehaviours:mm}),hh=function(t){var r=sr(Vo(t,"position"),"fixed"),o=r?C.none():Ku(t);return o.orThunk(function(){var s=Q.fromTag("span");return Eo(t).bind(function(l){li(l,s);var f=Ku(s);return Ou(s),f})})},Af=function(t){return hh(t).map($i).getOrThunk(function(){return pa(0,0)})},gm=es.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),M7=function(t,r){var o=t.element;Wo(o,r.transitionClass),wo(o,r.fadeOutClass),Wo(o,r.fadeInClass),r.onShow(t)},zO=function(t,r){var o=t.element;Wo(o,r.transitionClass),wo(o,r.fadeInClass),Wo(o,r.fadeOutClass),r.onHide(t)},LO=function(t,r){return t.y<r.bottom&&t.bottom>r.y},HO=function(t,r){return t.y>=r.y},R7=function(t,r){return t.bottom<=r.bottom},IC=function(t,r,o){return ln(t,function(s){switch(s){case"bottom":return R7(r,o);case"top":return HO(r,o)}})},VO=function(t,r){return r.getInitialPos().map(function(o){return Po(o.bounds.x,o.bounds.y,Si(t),To(t))})},N7=function(t,r,o){o.setInitialPos({style:al(t),position:no(t,"position")||"static",bounds:r})},UO=function(t,r,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return C.some(gm.static());case"absolute":var l=hh(t).map(Bo).getOrThunk(function(){return Bo(ia())});return C.some(gm.absolute(ji("absolute",it(s.style,"left").map(function(f){return r.x-l.x}),it(s.style,"top").map(function(f){return r.y-l.y}),it(s.style,"right").map(function(f){return l.right-r.right}),it(s.style,"bottom").map(function(f){return l.bottom-r.bottom}))));default:return C.none()}})},$C=function(t,r,o){return VO(t,o).filter(function(s){return IC(o.getModes(),s,r)}).bind(function(s){return UO(t,s,o)})},zC=function(t,r,o){var s=Bo(t);if(IC(o.getModes(),s,r))return C.none();N7(t,s,o);var l=_u(),f=s.x-l.x,d=r.y-l.y,h=l.bottom-r.bottom,p=s.y<=r.y;return C.some(gm.fixed(ji("fixed",C.some(f),p?C.some(d):C.none(),C.none(),p?C.none():C.some(h))))},I7=function(t,r,o){var s=t.element,l=sr(Vo(s,"position"),"fixed");return l?$C(s,r,o):zC(s,r,o)},WO=function(t,r){var o=t.element;return VO(o,r).bind(function(s){return UO(o,s,r)})},jO=function(t,r,o){o.setDocked(!1),Fe(["left","right","top","bottom","position"],function(s){return la(t.element,s)}),r.onUndocked(t)},g0=function(t,r,o,s){var l=s.position==="fixed";o.setDocked(l),gt(t.element,s);var f=l?r.onDocked:r.onUndocked;f(t)},qO=function(t,r,o,s,l){l===void 0&&(l=!1),r.contextual.each(function(f){f.lazyContext(t).each(function(d){var h=LO(d,s);if(h!==o.isVisible())if(o.setVisible(h),l&&!h)wl(t.element,[f.fadeOutClass]),f.onHide(t);else{var p=h?M7:zO;p(t,f)}})})},$7=function(t,r,o){var s=r.lazyViewport(t),l=o.isDocked();l&&qO(t,r,o,s),I7(t,s,o).each(function(f){f.fold(function(){return jO(t,r,o)},function(d){return g0(t,r,o,d)},function(d){qO(t,r,o,s,!0),g0(t,r,o,d)})})},$v=function(t,r,o){var s=t.element;o.setDocked(!1),WO(t,o).each(function(l){l.fold(function(){return jO(t,r,o)},function(f){return g0(t,r,o,f)},ve)}),o.setVisible(!0),r.contextual.each(function(l){Pc(s,[l.fadeInClass,l.fadeOutClass,l.transitionClass]),l.onShow(t)}),h0(t,r,o)},h0=function(t,r,o){t.getSystem().isConnected()&&$7(t,r,o)},GO=function(t,r,o){o.isDocked()&&$v(t,r,o)},KO=function(t,r,o){return o.isDocked()},z7=function(t,r,o,s){return o.setModes(s)},p0=function(t,r,o){return o.getModes()},Fs=Object.freeze({__proto__:null,refresh:h0,reset:GO,isDocked:KO,getModes:p0,setModes:z7}),L7=function(t,r){return ya([bl(Im(),function(o,s){t.contextual.each(function(l){if(Vi(o.element,l.transitionClass)){Pc(o.element,[l.transitionClass,l.fadeInClass]);var f=r.isVisible()?l.onShown:l.onHidden;f(o)}s.stop()})}),It(ab(),function(o,s){h0(o,t,r)}),It(Xs(),function(o,s){GO(o,t,r)})])},Xc=Object.freeze({__proto__:null,events:L7}),H7=[Bu("contextual",[dr("fadeInClass"),dr("fadeOutClass"),dr("transitionClass"),Ti("lazyContext"),Fr("onShow"),Fr("onShown"),Fr("onHide"),Fr("onHidden")]),ba("lazyViewport",_u),Mm("modes",["top","bottom"],lo),Fr("onDocked"),Fr("onUndocked")],V7=function(t){var r=Qn(!1),o=Qn(!0),s=Za(),l=Qn(t.modes),f=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+l.get().join(",")};return Li({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:l.get,setModes:l.set,readState:f})},XO=Object.freeze({__proto__:null,init:V7}),Ko=vo({fields:H7,name:"docking",active:Xc,apis:Fs,state:XO}),Yc=I(Bn("toolbar-height-change")),go={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},YO="tox-tinymce--toolbar-sticky-on",LC="tox-tinymce--toolbar-sticky-off",ZO=function(t,r){var o=si(r),s=o.dom.defaultView.innerHeight,l=Au(o),f=Q.fromDom(t.elm),d=Cc(f),h=To(f),p=d.y,y=p+h,S=$i(r),E=To(r),F=S.top,R=F+E,W=Math.abs(F-l.top)<2,ee=Math.abs(R-(l.top+s))<2;if(W&&p<R)Xv(l.left,p-E,o);else if(ee&&y>F){var pe=p-s+h+E;Xv(l.left,pe,o)}},b0=function(t,r){return Zt(Ko.getModes(t),r)},HC=function(t){var r=function(s){return Tu(s)+(parseInt(no(s,"margin-top"),10)||0)+(parseInt(no(s,"margin-bottom"),10)||0)},o=t.element;Eo(o).each(function(s){var l="padding-"+Ko.getModes(t)[0];if(Ko.isDocked(t)){var f=Si(s);mr(o,"width",f+"px"),mr(s,l,r(o)+"px")}else la(o,"width"),la(s,l)})},JO=function(t,r){r?(wo(t,go.fadeOutClass),wl(t,[go.transitionClass,go.fadeInClass])):(wo(t,go.fadeInClass),wl(t,[go.fadeOutClass,go.transitionClass]))},Nl=function(t,r){var o=Q.fromDom(t.getContainer());r?(Wo(o,YO),wo(o,LC)):(Wo(o,LC),wo(o,YO))},QO=function(t,r){var o=si(r);Sl(o).filter(function(s){return!_a(r,s)}).filter(function(s){return _a(s,Q.fromDom(o.dom.body))||Ni(t,s)}).each(function(){return Fc(r)})},hm=function(t,r){return Ss(t).orThunk(function(){return r().toOptional().bind(function(o){return Ss(o.element)})})},y0=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(Ko.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(HC)}),t.on("SkinLoaded",function(){o().each(function(s){Ko.isDocked(s)?Ko.reset(s):Ko.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(Ko.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(l){Ko.refresh(l);var f=l.element;_k(f)&&ZO(s,f)})}),t.on("PostRender",function(){Nl(t,!1)})},eA=function(t){return t().map(Ko.isDocked).getOr(!1)},U7=function(){var t;return[os.config({channels:(t={},t[Yc()]={onReceive:HC},t)})]},tA=function(t,r){var o=Za(),s=r.getSink,l=function(h){s().each(function(p){return h(p.element)})},f=function(h){t.inline||HC(h),Nl(t,Ko.isDocked(h)),h.getSystem().broadcastOn([Td()],{}),s().each(function(p){return p.getSystem().broadcastOn([Td()],{})})},d=t.inline?[]:U7();return Oe([fr.config({}),Ko.config({contextual:$({lazyContext:function(h){var p=Tu(h.element),y=t.inline?t.getContentAreaContainer():t.getContainer(),S=Bo(Q.fromDom(y)),E=S.height-p,F=S.y+(b0(h,"top")?0:p);return C.some(Po(S.x,F,S.width,E))},onShow:function(){l(function(h){return JO(h,!0)})},onShown:function(h){l(function(p){return Pc(p,[go.transitionClass,go.fadeInClass])}),o.get().each(function(p){QO(h.element,p),o.clear()})},onHide:function(h){hm(h.element,s).fold(o.clear,o.set),l(function(p){return JO(p,!1)})},onHidden:function(){l(function(h){return Pc(h,[go.transitionClass])})}},go),lazyViewport:function(h){var p=_u(),y=KB(t),S=p.y+(b0(h,"top")?y:0),E=p.height-(b0(h,"bottom")?y:0);return Po(p.x,S,p.width,E)},modes:[r.header.getDockingMode()],onDocked:f,onUndocked:f})],d,!0)},W7=Object.freeze({__proto__:null,setup:y0,isDocked:eA,getBehaviours:tA}),j7=function(t){var r=t.editor,o=t.sticky?tA:mm;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:fn(o(r,t.sharedBackstage))}},pm=Xn([dr("type"),vu("items",H0([V0([dr("name"),zi("items",lo)]),lo]))].concat(dv)),q7=function(t){return ja("GroupToolbarButton",pm,t)},G7=[xa("text"),xa("tooltip"),xa("icon"),Ti("fetch"),ba("onSetup",function(){return ve})],K7=Xn(Oe([dr("type")],G7,!0)),nA=function(t){return ja("menubutton",K7,t)},X7=Xn([dr("type"),xa("tooltip"),xa("icon"),xa("text"),If("select"),Ti("fetch"),ba("onSetup",function(){return ve}),Ju("presets","normal",["normal","color","listpreview"]),Se("columns",1),Ti("onAction"),Ti("onItemAction")]),w0=function(t){return ja("SplitButton",X7,t)},Y7=function(t,r){var o=function(l,f){var d=dt(f,function(h){var p={type:"menubutton",text:h.text,fetch:function(S){S(h.getItems())}},y=nA(p).mapError(function(S){return Nf(S)}).getOrDie();return mC(y,"tox-mbtn",r.backstage,C.some("menuitem"))});yr.set(l,d)},s={focus:tr.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:fn([yr.config({}),Ar("menubar-events",[Ka(function(l){t.onSetup(l)}),It(Gl(),function(l,f){Co(l.element,".tox-mbtn--active").each(function(d){ru(f.event.target,".tox-mbtn").each(function(h){_a(d,h)||l.getSystem().getByDom(d).each(function(p){l.getSystem().getByDom(h).each(function(y){cs.expand(y),cs.close(p),fr.focus(y)})})})})}),It($h(),function(l,f){f.event.prevFocus.bind(function(d){return l.getSystem().getByDom(d).toOptional()}).each(function(d){f.event.newFocus.bind(function(h){return l.getSystem().getByDom(h).toOptional()}).each(function(h){cs.isOpen(d)&&(cs.expand(h),cs.close(d))})})})]),tr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(l){return t.onEscape(l),C.some(!0)}}),Ja.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},C0=pu({factory:Y7,name:"silver.Menubar",configFields:[Nt("dom"),Nt("uid"),Nt("onEscape"),Nt("backstage"),Se("onSetup",ve)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),zv=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},Il=function(t){return t.dimension.property},$l=function(t,r){return t.dimension.getDimension(r)},bm=function(t,r){var o=zv(t,r);Pc(o,[r.shrinkingClass,r.growingClass])},zl=function(t,r){wo(t.element,r.openClass),Wo(t.element,r.closedClass),mr(t.element,Il(r),"0px"),ol(t.element)},rA=function(t,r){wo(t.element,r.closedClass),Wo(t.element,r.openClass),la(t.element,Il(r))},aA=function(t,r,o,s){o.setCollapsed(),mr(t.element,Il(r),$l(r,t.element)),ol(t.element),bm(t,r),zl(t,r),r.onStartShrink(t),r.onShrunk(t)},VC=function(t,r,o,s){var l=s.getOrThunk(function(){return $l(r,t.element)});o.setCollapsed(),mr(t.element,Il(r),l),ol(t.element);var f=zv(t,r);wo(f,r.growingClass),Wo(f,r.shrinkingClass),zl(t,r),r.onStartShrink(t)},oA=function(t,r,o){var s=$l(r,t.element),l=s==="0px"?aA:VC;l(t,r,o,C.some(s))},ph=function(t,r,o){var s=zv(t,r),l=Vi(s,r.shrinkingClass),f=$l(r,t.element);rA(t,r);var d=$l(r,t.element),h=function(){mr(t.element,Il(r),f),ol(t.element)},p=function(){zl(t,r)},y=l?h:p;y(),wo(s,r.shrinkingClass),Wo(s,r.growingClass),rA(t,r),mr(t.element,Il(r),d),o.setExpanded(),r.onStartGrow(t)},iA=function(t,r,o){if(o.isExpanded()){la(t.element,Il(r));var s=$l(r,t.element);mr(t.element,Il(r),s)}},Z7=function(t,r,o){o.isExpanded()||ph(t,r,o)},J7=function(t,r,o){o.isExpanded()&&oA(t,r,o)},bh=function(t,r,o){o.isExpanded()&&aA(t,r,o)},UC=function(t,r,o){return o.isExpanded()},Q7=function(t,r,o){return o.isCollapsed()},uA=function(t,r,o){var s=zv(t,r);return Vi(s,r.growingClass)===!0},WC=function(t,r,o){var s=zv(t,r);return Vi(s,r.shrinkingClass)===!0},eN=function(t,r,o){return uA(t,r)||WC(t,r)},tN=function(t,r,o){var s=o.isExpanded()?oA:ph;s(t,r,o)},e=Object.freeze({__proto__:null,refresh:iA,grow:Z7,shrink:J7,immediateShrink:bh,hasGrown:UC,hasShrunk:Q7,isGrowing:uA,isShrinking:WC,isTransitioning:eN,toggleGrow:tN,disableTransitions:bm}),n=function(t,r,o){var s=r.expanded;return xs(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Sc(r.dimension.property,"0px")})},a=function(t,r){return ya([bl(Im(),function(o,s){var l=s.event.raw;if(l.propertyName===t.dimension.property){bm(o,t),r.isExpanded()&&la(o.element,t.dimension.property);var f=r.isExpanded()?t.onGrown:t.onShrunk;f(o)}})])},i=Object.freeze({__proto__:null,exhibit:n,events:a}),u=[Nt("closedClass"),Nt("openClass"),Nt("shrinkingClass"),Nt("growingClass"),ea("getAnimationRoot"),Fr("onShrunk"),Fr("onStartShrink"),Fr("onGrown"),Fr("onStartGrow"),Se("expanded",!1),vu("dimension",Yu("property",{width:[ga("property","width"),ga("getDimension",function(t){return Si(t)+"px"})],height:[ga("property","height"),ga("getDimension",function(t){return To(t)+"px"})]}))],c=function(t){var r=Qn(t.expanded),o=function(){return"expanded: "+r.get()};return Li({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:St(r.set,!1),setExpanded:St(r.set,!0),readState:o})},v=Object.freeze({__proto__:null,init:c}),m=vo({fields:u,name:"sliding",active:i,apis:e,state:v}),g="container",x=[Mo("slotBehaviours",[])],T=function(t){return"<alloy.field."+t+">"},P=function(t){var r=function(){var f=[],d=function(h,p){return f.push(h),by(g,T(h),p)};return{slot:d,record:I(f)}}(),o=t(r),s=r.record(),l=dt(s,function(f){return oi({name:f,pname:T(f)})});return ky(g,x,l,B,o)},B=function(t,r){var o=function(ee){return xy(t)},s=function(ee,pe){return va(ee,t,pe)},l=function(ee,pe){return function(K,Ce){return va(K,t,Ce).map(function(mt){return ee(mt,Ce)}).getOr(pe)}},f=function(ee){return function(pe,K){Fe(K,function(Ce){return ee(pe,Ce)})}},d=function(ee,pe){return Ma(ee.element,"aria-hidden")!=="true"},h=function(ee,pe){if(!d(ee)){var K=ee.element;la(K,"display"),Ho(K,"aria-hidden"),er(ee,zh(),{name:pe,visible:!0})}},p=function(ee,pe){if(d(ee)){var K=ee.element;mr(K,"display","none"),Dr(K,"aria-hidden","true"),er(ee,zh(),{name:pe,visible:!1})}},y=l(d,!1),S=l(p),E=f(S),F=function(ee){return E(ee,o())},R=l(h),W={getSlotNames:o,getSlot:s,isShowing:y,hideSlot:S,hideAllSlots:F,showSlot:R};return{uid:t.uid,dom:t.dom,components:r,behaviours:cg(t.slotBehaviours),apis:W}},U=Jt({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Gm(t)}),V=$($({},U),{sketch:P}),q=Xn([xa("icon"),xa("tooltip"),ba("onShow",ve),ba("onHide",ve),ba("onSetup",function(){return ve})]),G=function(t){return ja("sidebar",q,t)},ie=function(t){var r=t.ui.registry.getAll().sidebars;Fe(Ye(r),function(o){var s=r[o],l=function(){return sr(C.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(f){t.execCommand("ToggleSidebar",!1,o),f.setActive(l())},onSetup:function(f){var d=function(){return f.setActive(l())};return t.on("ToggleSidebar",d),function(){t.off("ToggleSidebar",d)}}})})},re=function(t){return{element:function(){return t.element.dom}}},ge=function(t,r){var o=dt(Ye(r),function(s){var l=r[s],f=qs(G(l));return{name:s,getApi:re,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return dt(o,function(s){var l=Qn(ve);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:d1.unnamedEvents([Ig(s,l),$g(s,l),It(zh(),function(f,d){var h=d.event,p=pt(o,function(y){return y.name===h.name});p.each(function(y){var S=h.visible?y.onShow:y.onHide;S(y.getApi(f))})})])})})},Me=function(t){return V.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:ge(r,t),slotBehaviours:d1.unnamedEvents([Ka(function(o){return V.hideAllSlots(o)})])}})},de=function(t,r){var o=$r.getCurrent(t);o.each(function(s){return yr.set(s,[Me(r)])})},We=function(t,r){var o=$r.getCurrent(t);o.each(function(s){var l=$r.getCurrent(s);l.each(function(f){m.hasGrown(s)?V.isShowing(f,r)?m.shrink(s):(V.hideAllSlots(f),V.showSlot(f,r)):(V.hideAllSlots(f),V.showSlot(f,r),m.grow(s))})})},ht=function(t){var r=$r.getCurrent(t);return r.bind(function(o){var s=m.isGrowing(o)||m.hasGrown(o);if(s){var l=$r.getCurrent(o);return l.bind(function(f){return pt(V.getSlotNames(f),function(d){return V.isShowing(f,d)})})}else return C.none()})},Xt=Bn("FixSizeEvent"),Kn=Bn("AutoSizeEvent"),Tn=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:fn([Ja.config({}),fr.config({}),m.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=$r.getCurrent(r);o.each(V.hideAllSlots),Ir(r,Kn)},onGrown:function(r){Ir(r,Kn)},onStartGrow:function(r){er(r,Xt,{width:Vo(r.element,"width").getOr("")})},onStartShrink:function(r){er(r,Xt,{width:Si(r.element)+"px"})}}),yr.config({}),$r.config({find:function(r){var o=yr.contents(r);return _t(o)}})])}],behaviours:fn([lc.childAt(0),Ar("sidebar-sliding-events",[It(Xt,function(r,o){mr(r.element,"width",o.event.width)}),It(Kn,function(r,o){la(r.element,"width")})])])}},$t=function(t,r,o,s){Dr(t.element,"aria-busy",!0);var l=r.getRoot(t).getOr(t),f=fn([tr.config({mode:"special",onTab:function(){return C.some(!0)},onShiftTab:function(){return C.some(!0)}}),fr.config({})]),d=s(l,f),h=l.getSystem().build(d);yr.append(l,Nu(h)),h.hasConfigured(tr)&&r.focus&&tr.focusIn(h),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return yr.remove(l,h)})},ur=function(t,r,o){Ho(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},tn=Object.freeze({__proto__:null,block:$t,unblock:ur}),kn=[ba("getRoot",C.none),qa("focus",!0),Fr("onBlock"),Fr("onUnblock")],en=function(){var t=vp(),r=function(o){t.set({destroy:o})};return Li({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},hn=Object.freeze({__proto__:null,init:en}),Dn=vo({fields:kn,name:"blocking",apis:tn,state:hn}),Lt=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return Dt(r,function(o,s){var l;return s.name==="class"?o:$($({},o),(l={},l[s.name]=s.value,l))},{})},_n=function(t){return Array.prototype.slice.call(t.dom.classList,0)},wr=function(t){var r=Q.fromHtml(t),o=k(r),s=Lt(r),l=_n(r),f=o.length===0?{}:{innerHtml:Tc(r)};return $({tag:ne(r),classes:l,attributes:s},f)},ra=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:wr('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Hr=function(t){return $r.getCurrent(t).each(function(r){return Fc(r.element)})},ao=function(t,r){var o="tabindex",s="data-mce-"+o;C.from(t.iframeElement).map(Q.fromDom).each(function(l){r?(so(l,o).each(function(f){return Dr(l,s,f)}),Dr(l,o,-1)):(Ho(l,o),so(l,s).each(function(f){Dr(l,o,f),Ho(l,s)}))})},Ya=function(t,r,o,s){var l=r.element;if(ao(t,o),o)Dn.block(r,ra(s)),la(l,"display"),Ho(l,"aria-hidden"),t.hasFocus()&&Hr(r);else{var f=$r.getCurrent(r).exists(function(d){return Yx(d.element)});Dn.unblock(r),mr(l,"display","none"),Dr(l,"aria-hidden","true"),f&&t.focus()}},su=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:fn([yr.config({}),Dn.config({focus:!1}),$r.config({find:function(r){return _t(r.components())}})]),components:[]}},Su=function(t){return t.type==="focusin"},Ht=function(t){if(Su(t)){var r=t.composed?_t(t.composedPath()):C.from(t.target);return r.map(Q.fromDom).filter(O).exists(function(o){return Vi(o,"mce-pastebin")})}else return!1},ut=function(t,r,o){var s=Qn(!1),l=Za(),f=function(h){s.get()&&!Ht(h)&&(h.preventDefault(),Hr(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",f),t.on("BeforeExecCommand",function(h){h.command.toLowerCase()==="mcefocus"&&h.value!==!0&&f(h)})});var d=function(h){h!==s.get()&&(s.set(h),Ya(t,r(),h,o.providers),t.fire("AfterProgressState",{state:h}))};t.on("ProgressState",function(h){if(l.on(_l.clearTimeout),Be(h.time)){var p=_l.setEditorTimeout(t,function(){return d(h.state)},h.time);l.set(p)}else d(h.state),l.clear()})},Gt=function(t,r){var o={len:0,list:[]},s=Dt(t,function(l,f){var d=r(f,l.len);return d.fold(I(l),function(h){return{len:h.finish,list:l.list.concat([h])}})},o);return s.list},st=function(t,r,o){return{within:t,extra:r,withinWidth:o}},In=function(t,r,o){var s=Gt(t,function(h,p){var y=o(h);return C.some({element:h,start:p,finish:p+y,width:y})}),l=De(s,function(h){return h.finish<=r}),f=nt(l,function(h,p){return h+p.width},0),d=s.slice(l.length);return{within:l,extra:d,withinWidth:f}},mn=function(t){return dt(t,function(r){return r.element})},nr=function(t,r,o){var s=mn(t.concat(r));return st(s,[],o)},Mr=function(t,r,o,s){var l=mn(t).concat([o]);return st(l,mn(r),s)},Ta=function(t,r,o){return st(mn(t),[],o)},_i=function(t,r,o){var s=In(r,t,o);return s.extra.length===0?C.some(s):C.none()},Zi=function(t,r,o,s){var l=_i(t,r,o).getOrThunk(function(){return In(r,t-o(s),o)}),f=l.within,d=l.extra,h=l.withinWidth;return d.length===1&&d[0].width<=o(s)?nr(f,d,h):d.length>=1?Mr(f,d,s,h):Ta(f,d,h)},fs=function(t,r){var o=dt(r,function(s){return Nu(s)});fc.setGroups(t,o)},Pi=function(t){return Le(t,function(r){return Ss(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},Bi=function(t,r,o){var s=r.builtGroups.get();if(s.length!==0){var l=$c(t,r,"primary"),f=Qa.getCoupled(t,"overflowGroup");mr(l.element,"visibility","hidden");var d=s.concat([f]),h=Pi(d);o([]),fs(l,d);var p=Si(l.element),y=Zi(p,r.builtGroups.get(),function(S){return Si(S.element)},f);y.extra.length===0?(yr.remove(l,f),o([])):(fs(l,y.within),o(y.extra)),la(l.element,"visibility"),ol(l.element),h.each(fr.focus)}},So=I([Mo("splitToolbarBehaviours",[Qa]),nu("builtGroups",function(){return Qn([])})]),Ll=I([Gf(["overflowToggledClass"]),If("getOverflowBounds"),Nt("lazySink"),nu("overflowGroups",function(){return Qn([])})].concat(So())),Xo=I([oi({factory:fc,schema:dm(),name:"primary"}),Os({schema:dm(),name:"overflow"}),Os({name:"overflow-button"}),Os({name:"overflow-group"})]),vs=I(function(t,r){Xu(t,Math.floor(r))}),Zc=I([Gf(["toggledClass"]),Nt("lazySink"),Ti("fetch"),If("getBounds"),Bu("fireDismissalEventInstead",[Se("event",Ys())]),lf()]),Ia=I([Os({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:fn([Ur.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Os({factory:fc,schema:dm(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:fn([tr.config({mode:"cyclic",onEscape:function(r){return va(r,t,"button").each(fr.focus),C.none()}})])}}})]),ha=function(t,r){var o=Qa.getCoupled(t,"toolbarSandbox");Vr.isOpen(o)?Vr.close(o):Vr.open(o,r.toolbar())},ho=function(t,r,o,s){var l=o.getBounds.map(function(d){return d()}),f=o.lazySink(t).getOrDie();qi.positionWithinBounds(f,r,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:vs()}}},l)},Ms=function(t,r,o,s,l){fc.setGroups(r,l),ho(t,r,o,s),Ur.on(t)},Jc=function(t,r,o){var s=Ix(),l=function(d,h){o.fetch().get(function(p){Ms(t,h,o,r.layouts,p),s.link(t.element),tr.focusIn(h)})},f=function(){Ur.off(t),fr.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:fn([tr.config({mode:"special",onEscape:function(d){return Vr.close(d),C.some(!0)}}),Vr.config({onOpen:l,onClose:f,isPartOf:function(d,h,p){return Wf(h,p)||Wf(t,p)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),os.config({channels:$($({},nv($({isExtraPart:Ue},o.fireDismissalEventInstead.map(function(d){return{fireEventInstead:{event:d.event}}}).getOr({})))),ug({doReposition:function(){Vr.getState(Qa.getCoupled(t,"toolbarSandbox")).each(function(d){ho(t,d,o,r.layouts)})}}))})])}},Rs=function(t,r,o,s){return $($({},hi.sketch($($({},s.button()),{action:function(l){ha(l,s)},buttonBehaviours:is.augment({dump:s.button().buttonBehaviours},[Qa.config({others:{toolbarSandbox:function(l){return Jc(l,o,t)}}})])}))),{apis:{setGroups:function(l,f){Vr.getState(Qa.getCoupled(l,"toolbarSandbox")).each(function(d){Ms(l,d,t,o.layouts,f)})},reposition:function(l){Vr.getState(Qa.getCoupled(l,"toolbarSandbox")).each(function(f){ho(l,f,t,o.layouts)})},toggle:function(l){ha(l,s)},getToolbar:function(l){return Vr.getState(Qa.getCoupled(l,"toolbarSandbox"))},isOpen:function(l){return Vr.isOpen(Qa.getCoupled(l,"toolbarSandbox"))}}})},vc=Gi({name:"FloatingToolbarButton",factory:Rs,configFields:Zc(),partFields:Ia(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),yh=I([Nt("items"),Gf(["itemSelector"]),Mo("tgroupBehaviours",[tr])]),nN=I([dg({name:"items",unit:"item"})]),sA=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,behaviours:Ro(t.tgroupBehaviours,[tr.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},wh=Gi({name:"ToolbarGroup",configFields:yh(),partFields:nN(),factory:sA}),cA=function(t){return dt(t,function(r){return Nu(r)})},jC=function(t,r,o){Bi(t,o,function(s){o.overflowGroups.set(s),r.getOpt(t).each(function(l){vc.setGroups(l,cA(s))})})},rN=function(t,r,o,s){var l=Jr(vc.sketch({fetch:function(){return Go.nu(function(f){f(cA(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[ti,mi]},onRtl:function(){return[mi,ti]},onBottomLtr:function(){return[jo,Wi]},onBottomRtl:function(){return[Wi,jo]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Ro(t.splitToolbarBehaviours,[Qa.config({others:{overflowGroup:function(){return wh.sketch($($({},s["overflow-group"]()),{items:[l.asSpec()]}))}}})]),apis:{setGroups:function(f,d){t.builtGroups.set(dt(d,f.getSystem().build)),jC(f,l,t)},refresh:function(f){return jC(f,l,t)},toggle:function(f){l.getOpt(f).each(function(d){vc.toggle(d)})},isOpen:function(f){return l.getOpt(f).map(vc.isOpen).getOr(!1)},reposition:function(f){l.getOpt(f).each(function(d){vc.reposition(d)})},getOverflow:function(f){return l.getOpt(f).bind(vc.getToolbar)}},domModification:{attributes:{role:"group"}}}},lA=Gi({name:"SplitFloatingToolbar",configFields:Ll(),partFields:Xo(),factory:rN,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),aN=I([Gf(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Fr("onOpened"),Fr("onClosed")].concat(So())),oN=I([oi({factory:fc,schema:dm(),name:"primary"}),oi({factory:fc,schema:dm(),name:"overflow",overrides:function(t){return{toolbarBehaviours:fn([m.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){va(r,t,"overflow-button").each(function(o){Ur.off(o),fr.focus(o)}),t.onClosed(r)},onGrown:function(r){tr.focusIn(r),t.onOpened(r)},onStartGrow:function(r){va(r,t,"overflow-button").each(Ur.on)}}),tr.config({mode:"acyclic",onEscape:function(r){return va(r,t,"overflow-button").each(fr.focus),C.some(!0)}})])}}}),Os({name:"overflow-button",overrides:function(t){return{buttonBehaviours:fn([Ur.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Os({name:"overflow-group"})]),Lv=function(t,r){return va(t,r,"overflow").map(m.hasGrown).getOr(!1)},qC=function(t,r){va(t,r,"overflow-button").bind(function(){return va(t,r,"overflow")}).each(function(o){he(t,r),m.toggleGrow(o)})},he=function(t,r){va(t,r,"overflow").each(function(o){Bi(t,r,function(s){var l=dt(s,function(f){return Nu(f)});fc.setGroups(o,l)}),va(t,r,"overflow-button").each(function(s){m.hasGrown(o)&&Ur.on(s)}),m.refresh(o)})},lt=function(t,r,o,s){var l="alloy.toolbar.toggle",f=function(d,h){var p=dt(h,d.getSystem().build);t.builtGroups.set(p)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Ro(t.splitToolbarBehaviours,[Qa.config({others:{overflowGroup:function(d){return wh.sketch($($({},s["overflow-group"]()),{items:[hi.sketch($($({},s["overflow-button"]()),{action:function(h){Ir(d,l)}}))]}))}}}),Ar("toolbar-toggle-events",[It(l,function(d){qC(d,t)})])]),apis:{setGroups:function(d,h){f(d,h),he(d,t)},refresh:function(d){return he(d,t)},toggle:function(d){return qC(d,t)},isOpen:function(d){return Lv(d,t)}},domModification:{attributes:{role:"group"}}}},nn=Gi({name:"SplitSlidingToolbar",configFields:aN(),partFields:oN(),factory:lt,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),gn=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:$({tag:"div",classes:["tox-toolbar__group"]},r),components:[wh.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:fn([Ja.config({}),fr.config({})])}},kr=function(t){return wh.sketch(gn(t))},Yr=function(t,r){var o=Ka(function(s){var l=dt(t.initGroups,kr);fc.setGroups(s,l)});return fn([Lu.toolbarButton(t.providers.isDisabled),xo(),tr.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Ar("toolbar-events",[o])])},Oa=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":gn({title:C.none(),items:[]}),"overflow-button":GT({name:"more",icon:C.some("more-drawer"),disabled:!1,tooltip:C.some("More..."),primary:!1,borderless:!1},C.none(),t.providers)},splitToolbarBehaviours:Yr(t,r)}},Df=function(t){var r=Oa(t),o=4,s=lA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return lA.sketch($($({},r),{lazySink:t.getSink,getOverflowBounds:function(){var l=t.moreDrawerData.lazyHeader().element,f=Cc(l),d=xt(l),h=Cc(d),p=Math.max(d.dom.scrollHeight,h.height);return Po(f.x+o,h.y,f.width-o*2,p)},parts:$($({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},Mz=function(t){var r=nn.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=nn.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Oa(t);return nn.sketch($($({},s),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(l){l.getSystem().broadcastOn([Yc()],{type:"opened"})},onClosed:function(l){l.getSystem().broadcastOn([Yc()],{type:"closed"})}}))},fA=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return fc.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===zu.scrolling?["tox-toolbar--scrolling"]:[])},components:[fc.parts.groups({})],toolbarBehaviours:Yr(t,r)})},Rz=function(t,r,o){var s={getSocket:function(l){return Di.getPart(l,t,"socket")},setSidebar:function(l,f){Di.getPart(l,t,"sidebar").each(function(d){return de(d,f)})},toggleSidebar:function(l,f){Di.getPart(l,t,"sidebar").each(function(d){return We(d,f)})},whichSidebar:function(l){return Di.getPart(l,t,"sidebar").bind(ht).getOrNull()},getHeader:function(l){return Di.getPart(l,t,"header")},getToolbar:function(l){return Di.getPart(l,t,"toolbar")},setToolbar:function(l,f){Di.getPart(l,t,"toolbar").each(function(d){d.getApis().setGroups(d,f)})},setToolbars:function(l,f){Di.getPart(l,t,"multiple-toolbar").each(function(d){RC.setItems(d,f)})},refreshToolbar:function(l){var f=Di.getPart(l,t,"toolbar");f.each(function(d){return d.getApis().refresh(d)})},toggleToolbarDrawer:function(l){Di.getPart(l,t,"toolbar").each(function(f){Ba(f.getApis().toggle,function(d){return d(f)})})},isToolbarDrawerToggled:function(l){return Di.getPart(l,t,"toolbar").bind(function(f){return C.from(f.getApis().isOpen).map(function(d){return d(f)})}).getOr(!1)},getThrobber:function(l){return Di.getPart(l,t,"throbber")},focusToolbar:function(l){var f=Di.getPart(l,t,"toolbar").orThunk(function(){return Di.getPart(l,t,"multiple-toolbar")});f.each(function(d){tr.focusIn(d)})},setMenubar:function(l,f){Di.getPart(l,t,"menubar").each(function(d){C0.setMenus(d,f)})},focusMenubar:function(l){Di.getPart(l,t,"menubar").each(function(f){C0.focus(f)})}};return{uid:t.uid,dom:t.dom,components:r,apis:s,behaviours:t.behaviours}},Nz=Kc.optional({factory:C0,name:"menubar",schema:[Nt("backstage")]}),Iz=function(t){return t.type===zu.sliding?Mz:t.type===zu.floating?Df:fA},$z=Kc.optional({factory:{sketch:function(t){return RC.sketch({uid:t.uid,dom:t.dom,listBehaviours:fn([tr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return fA({type:t.type,uid:Bn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),C.some(!0)}})},setupItem:function(r,o,s,l){fc.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[Nt("dom"),Nt("onEscape")]}),zz=Kc.optional({factory:{sketch:function(t){var r=Iz(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),C.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[Nt("dom"),Nt("onEscape"),Nt("getSink")]}),Lz=Kc.optional({factory:{sketch:j7},name:"header",schema:[Nt("dom")]}),Hz=Kc.optional({name:"socket",schema:[Nt("dom")]}),Vz=Kc.optional({factory:{sketch:Tn},name:"sidebar",schema:[Nt("dom")]}),Uz=Kc.optional({factory:{sketch:su},name:"throbber",schema:[Nt("dom")]}),oo=Gi({name:"OuterContainer",factory:Rz,configFields:[Nt("dom"),Nt("behaviours")],partFields:[Lz,Nz,zz,$z,Hz,Vz,Uz],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var s=dt(o,function(l){return kr(l)});t.setToolbar(r,s)},setToolbars:function(t,r,o){var s=dt(o,function(l){return dt(l,kr)});t.setToolbars(r,s)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),Wz="file edit view insert format tools table help",pI={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},jz=function(t,r,o){var s=UB(o).split(/[ ,]/);return{text:t.title,getItems:function(){return vt(t.items,function(l){var f=l.toLowerCase();return f.trim().length===0?[]:Qt(s,function(d){return d===f})?[]:f==="separator"||f==="|"?[{type:"separator"}]:r.menuItems[f]?[r.menuItems[f]]:[]})}}},iN=function(t){return typeof t=="string"?t.split(" "):t},bI=function(t,r){var o=$($({},pI),r.menus),s=Ye(r.menus).length>0,l=r.menubar===void 0||r.menubar===!0?iN(Wz):iN(r.menubar===!1?"":r.menubar),f=De(l,function(h){var p=Ut(pI,h);return s?p||it(r.menus,h).exists(function(y){return Ut(y,"items")}):p}),d=dt(f,function(h){var p=o[h];return jz({title:p.title,items:iN(p.items)},r,t)});return De(d,function(h){var p=function(y){return y.type!=="separator"};return h.getItems().length>0&&Qt(h.getItems(),p)})},yI=function(t){var r=function(){t._skinLoaded=!0,C6(t)};return function(){t.initialized?r():t.on("init",r)}},qz=function(t,r){return function(){return x6(t,{message:r})}},wI=function(t,r,o){return new _g(function(s,l){o.load(r,s,l),t.on("remove",function(){return o.unload(r)})})},Gz=function(t,r){var o=r+"/skin.min.css";return wI(t,o,t.ui.styleSheetLoader)},Kz=function(t,r){var o=Hn(Q.fromDom(t.getElement()));if(o){var s=r+"/skin.shadowdom.min.css";return wI(t,s,Fg.DOM.styleSheetLoader)}else return _g.resolve()},CI=function(t,r){var o=H2(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),x4(r)===!1&&ue(o)?_g.all([Gz(r,o),Kz(r,o)]).then(yI(r),qz(r,"Skin could not be loaded")):yI(r)()},Xz=St(CI,!1),Yz=St(CI,!0),vA=function(t,r){return function(o){var s=Xf(),l=function(){o.setActive(t.formatter.match(r));var f=t.formatter.formatChanged(r,o.setActive);s.set(f)};return t.initialized?l():t.once("init",l),function(){t.off("init",l),s.clear()}}},dA=function(t,r,o){return function(s){var l=function(){return o(s)},f=function(){o(s),t.on(r,l)};return t.initialized?f():t.once("init",f),function(){t.off("init",f),t.off(r,l)}}},xI=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},dc=function(t,r){return function(){return t.execCommand(r)}},Zz=function(t,r,o){var s=function(h,p,y,S){var E=r.shared.providers.translate(h.title);if(h.type==="separator")return C.some({type:"separator",text:E});if(h.type==="submenu"){var F=vt(h.getStyleItems(),function(R){return l(R,p,S)});return p===0&&F.length<=0?C.none():C.some({type:"nestedmenuitem",text:E,disabled:F.length<=0,getSubmenuItems:function(){return vt(h.getStyleItems(),function(R){return l(R,p,S)})}})}else return C.some($({type:"togglemenuitem",text:E,icon:h.icon,active:h.isSelected(S),disabled:y,onAction:o.onAction(h)},h.getStylePreview().fold(function(){return{}},function(R){return{meta:{style:R}}})))},l=function(h,p,y){var S=h.type==="formatter"&&o.isInvalid(h);return p===0?S?[]:s(h,p,!1,y).toArray():s(h,p,S,y).toArray()},f=function(h){var p=o.getCurrentValue(),y=o.shouldHide?0:1;return vt(h,function(S){return l(S,y,p)})},d=function(h,p){return function(y,S){var E=p(),F=f(E),R=lm(F,ic.CLOSE_ON_EXECUTE,h,!1);S(R)}};return{validateItems:f,getFetch:d}},x0=function(t,r,o){var s=o.dataset,l=s.type==="basic"?function(){return dt(s.data,function(f){return TO(f,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:Zz(t,r,o),getStyleItems:l}},GC=function(t,r,o){var s=x0(t,r,o),l=s.items,f=s.getStyleItems,d=function(p){return{getComponent:I(p)}},h=dA(t,"NodeChange",function(p){var y=p.getComponent();o.updateText(y)});return fC({text:o.icon.isSome()?C.none():o.text,icon:o.icon,tooltip:C.from(o.tooltip),role:C.none(),fetch:l.getFetch(r,f),onSetup:h,getApi:d,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},Jz=function(t){return dt(t,function(r){var o=r,s=r,l=r.split("=");return l.length>1&&(o=l[0],s=l[1]),{title:o,format:s}})},Qz=function(t){return{type:"basic",data:t}},S0;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(S0||(S0={}));var eL=function(t,r){return r===S0.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},uN=function(t,r,o,s){var l=t.getParam(r,o,"string"),f=Jz(eL(l,s));return{type:"basic",data:f}},sN=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],SI=function(t){var r=function(){return pt(sN,function(h){return t.formatter.match(h.format)})},o=function(h){return function(){return t.formatter.match(h)}},s=function(h){return C.none},l=function(h){var p=r(),y=p.fold(I("left"),function(S){return S.title.toLowerCase()});er(h,lC,{icon:"align-"+y})},f=Qz(sN),d=function(h){return function(){return pt(sN,function(p){return p.format===h.format}).each(function(p){return t.execCommand(p.command)})}};return{tooltip:"Align",text:C.none(),icon:C.some("align-left"),isSelectedFor:o,getCurrentValue:C.none,getPreviewFor:s,onAction:d,updateText:l,dataset:f,shouldHide:!1,isInvalid:function(h){return!t.formatter.canApply(h.format)}}},tL=function(t,r){return GC(t,r,SI(t))},nL=function(t,r){var o=x0(t,r,SI(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},rL="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",aL=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],kI=function(t){var r=t.split(/\s*,\s*/);return dt(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},oL=function(t){var r=function(){var o=kI(t.toLowerCase());return ln(aL,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},EI=function(t){var r="System Font",o=function(){var y=function(W){return W?kI(W)[0]:""},S=t.queryCommandValue("FontName"),E=p.data,F=S?S.toLowerCase():"",R=pt(E,function(W){var ee=W.format;return ee.toLowerCase()===F||y(ee).toLowerCase()===y(F).toLowerCase()}).orThunk(function(){return wa(oL(F),{title:r,format:F})});return{matchOpt:R,font:S}},s=function(y){return function(S){return S.exists(function(E){return E.format===y})}},l=function(){var y=o().matchOpt;return y},f=function(y){return function(){return C.some({tag:"div",styles:y.indexOf("dings")===-1?{"font-family":y}:{}})}},d=function(y){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,y.format)})}},h=function(y){var S=o(),E=S.matchOpt,F=S.font,R=E.fold(I(F),function(W){return W.title});er(y,Pv,{text:R})},p=uN(t,"font_formats",rL,S0.SemiColon);return{tooltip:"Fonts",text:C.some(r),icon:C.none(),isSelectedFor:s,getCurrentValue:l,getPreviewFor:f,onAction:d,updateText:h,dataset:p,shouldHide:!1,isInvalid:Ue}},iL=function(t,r){return GC(t,r,EI(t))},uL=function(t,r){var o=x0(t,r,EI(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},sL="8pt 10pt 12pt 14pt 18pt 24pt 36pt",cL={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},lL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},fL=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},vL=function(t,r){return/[0-9.]+px$/.test(t)?fL(parseInt(t,10)*72/96,r||0)+"pt":it(lL,t).getOr(t)},dL=function(t){return it(cL,t).getOr("")},TI=function(t){var r=function(){var p=C.none(),y=h.data,S=t.queryCommandValue("FontSize");if(S)for(var E=function(R){var W=vL(S,R),ee=dL(W);p=pt(y,function(pe){return pe.format===S||pe.format===W||pe.format===ee})},F=3;p.isNone()&&F>=0;F--)E(F);return{matchOpt:p,size:S}},o=function(p){return function(y){return y.exists(function(S){return S.format===p})}},s=function(){var p=r().matchOpt;return p},l=I(C.none),f=function(p){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,p.format)})}},d=function(p){var y=r(),S=y.matchOpt,E=y.size,F=S.fold(I(E),function(R){return R.title});er(p,Pv,{text:F})},h=uN(t,"fontsize_formats",sL,S0.Space);return{tooltip:"Font sizes",text:C.some("12pt"),icon:C.none(),isSelectedFor:o,getPreviewFor:l,getCurrentValue:s,onAction:f,updateText:d,dataset:h,shouldHide:!1,isInvalid:Ue}},mL=function(t,r){return GC(t,r,TI(t))},gL=function(t,r){var o=x0(t,r,TI(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},OI=function(t,r){var o=r(),s=dt(o,function(l){return l.format});return C.from(t.formatter.closest(s)).bind(function(l){return pt(o,function(f){return f.format===l})}).orThunk(function(){return wa(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},hL="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",AI=function(t){var r="Paragraph",o=function(d){return function(){return t.formatter.match(d)}},s=function(d){return function(){var h=t.formatter.get(d);return C.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(d))})}},l=function(d){var h=OI(t,function(){return f.data}),p=h.fold(I(r),function(y){return y.title});er(d,Pv,{text:p})},f=uN(t,"block_formats",hL,S0.SemiColon);return{tooltip:"Blocks",text:C.some(r),icon:C.none(),isSelectedFor:o,getCurrentValue:C.none,getPreviewFor:s,onAction:xI(t),updateText:l,dataset:f,shouldHide:!1,isInvalid:function(d){return!t.formatter.canApply(d.format)}}},pL=function(t,r){return GC(t,r,AI(t))},bL=function(t,r){var o=x0(t,r,AI(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},DI=function(t,r){var o="Paragraph",s=function(d){return function(){return t.formatter.match(d)}},l=function(d){return function(){var h=t.formatter.get(d);return h!==void 0?C.some({tag:h.length>0&&(h[0].inline||h[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(d))}):C.none()}},f=function(d){var h=function(E){var F=E.items;return F!==void 0&&F.length>0?vt(F,h):[{title:E.title,format:E.format}]},p=vt(EO(t),h),y=OI(t,I(p)),S=y.fold(I(o),function(E){return E.title});er(d,Pv,{text:S})};return{tooltip:"Formats",text:C.some(o),icon:C.none(),isSelectedFor:s,getCurrentValue:C.none,getPreviewFor:l,onAction:xI(t),updateText:f,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(d){return!t.formatter.canApply(d.format)},dataset:r}},yL=function(t,r){var o=$({type:"advanced"},r.styleselect);return GC(t,r,DI(t,o))},wL=function(t,r){var o=$({type:"advanced"},r.styleselect),s=x0(t,r,DI(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},CL=function(t,r){var o=function(s,l){t.updateState.each(function(f){var d=f(s,l);r.set(d)}),t.renderComponents.each(function(f){var d=f(l,r.get()),h=dt(d,s.getSystem().build);HS(s,h)})};return ya([It(ts(),function(s,l){var f=l;if(!f.universal){var d=t.channel;Zt(f.channels,d)&&o(s,f.data)}}),Ka(function(s,l){t.initialData.each(function(f){o(s,f)})})])},xL=Object.freeze({__proto__:null,events:CL}),SL=function(t,r,o){return o},kL=Object.freeze({__proto__:null,getState:SL}),EL=[Nt("channel"),ea("renderComponents"),ea("updateState"),ea("initialData")],TL=function(){var t=Qn(C.none()),r=function(){return t.set(C.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},OL=Object.freeze({__proto__:null,init:TL}),ds=vo({fields:EL,name:"reflecting",active:xL,apis:kL,state:OL}),AL=I([Nt("toggleClass"),Nt("fetch"),Kf("onExecute"),Se("getHotspot",C.some),Se("getAnchorOverrides",I({})),lf(),Kf("onItemExecute"),ea("lazySink"),Nt("dom"),Fr("onOpen"),Mo("splitDropdownBehaviours",[Qa,tr,fr]),Se("matchWidth",!1),Se("useMinWidth",!1),Se("eventOrder",{}),ea("role")].concat(Aw())),DL=oi({factory:hi,schema:[Nt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:fn([fr.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(pl)},buttonBehaviours:fn([Ur.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),_L=oi({factory:hi,schema:[Nt("dom")],name:"button",defaults:function(){return{buttonBehaviours:fn([fr.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),PL=I([DL,_L,rc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Nt("text")],name:"aria-descriptor"}),Os({schema:[Jh()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,r,o)})}}}}),kw()]),BL=function(t,r,o,s){var l,f=function(E){$r.getCurrent(E).each(function(F){Qr.highlightFirst(F),tr.focusIn(F)})},d=function(E){var F=f;tm(t,je,E,s,F,Ds.HighlightFirst).get(ve)},h=function(E){return d(E),C.some(!0)},p=function(E){var F=$c(E,t,"button");return pl(F),C.some(!0)},y=$($({},ya([Ka(function(E,F){var R=va(E,t,"aria-descriptor");R.each(function(W){var ee=Bn("aria");Dr(W.element,"id",ee),Dr(E.element,"aria-describedby",ee)})})])),kg(C.some(d))),S={repositionMenus:function(E){Ur.isOn(E)&&Fl(E)}};return{uid:t.uid,dom:t.dom,components:r,apis:S,eventOrder:$($({},t.eventOrder),(l={},l[Fu()]=["disabling","toggling","alloy.base.behaviour"],l)),events:y,behaviours:Ro(t.splitDropdownBehaviours,[Qa.config({others:{sandbox:function(E){var F=$c(E,t,"arrow"),R={onOpen:function(){Ur.on(F),Ur.on(E)},onClose:function(){Ur.off(F),Ur.off(E)}};return Ow(t,E,R)}}}),tr.config({mode:"special",onSpace:p,onEnter:p,onDown:h}),fr.config({}),Ur.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},mA=Gi({name:"SplitDropdown",configFields:AL(),partFields:PL(),factory:BL,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),FL=function(t){return{isDisabled:function(){return Yn.isDisabled(t)},setDisabled:function(r){return Yn.set(t,r)}}},ML=function(t){return{setActive:function(r){Ur.set(t,r)},isActive:function(){return Ur.isOn(t)},isDisabled:function(){return Yn.isDisabled(t)},setDisabled:function(r){return Yn.set(t,r)}}},_I=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},PI=Bn("focus-button"),cN=function(t,r,o,s,l,f){var d;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:_I(o,f)},components:bv([t.map(function(h){return a0(h,f.icons)}),r.map(function(h){return o0(h,"tox-tbtn",f)})]),eventOrder:(d={},d[ws()]=["focusing","alloy.base.behaviour","common-button-display-events"],d),buttonBehaviours:fn([Lu.toolbarButton(f.isDisabled),xo(),Ar("common-button-display-events",[It(ws(),function(h,p){p.event.prevent(),Ir(h,PI)})])].concat(s.map(function(h){return ds.config({channel:h,initialData:{icon:t,text:r},renderComponents:function(p,y){return bv([p.icon.map(function(S){return a0(S,f.icons)}),p.text.map(function(S){return o0(S,"tox-tbtn",f)})])}})}).toArray()).concat(l.getOr([])))}},RL=function(t,r,o,s){var l=r.shared;return vc.sketch({lazySink:l.getSink,fetch:function(){return Go.nu(function(f){f(dt(o(t.items),kr))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:cN(t.icon,t.text,t.tooltip,C.none(),C.none(),l.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},BI=function(t,r,o){var s=Qn(ve),l=cN(t.icon,t.text,t.tooltip,C.none(),C.none(),o);return hi.sketch({dom:l.dom,components:l.components,eventOrder:cC,buttonBehaviours:fn([Ar("toolbar-button-events",[O8({onAction:t.onAction,getApi:r.getApi}),Ig(r,s),$g(r,s)]),Lu.toolbarButton(function(){return t.disabled||o.isDisabled()}),xo()].concat(r.toolbarButtonBehaviours))})},NL=function(t,r){return FI(t,r,[])},FI=function(t,r,o){return BI(t,{toolbarButtonBehaviours:[].concat(o.length>0?[Ar("toolbarButtonWith",o)]:[]),getApi:FL,onSetup:t.onSetup},r)},IL=function(t,r){return MI(t,r,[])},MI=function(t,r,o){return wt(BI(t,{toolbarButtonBehaviours:[yr.config({}),Ur.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Ar("toolbarToggleButtonWith",o)]:[]),getApi:ML,onSetup:t.onSetup},r))},$L=function(t,r,o){return function(s){return Go.nu(function(l){return r.fetch(l)}).map(function(l){return C.from(pE(wt(x1(Bn("menu-value"),l,function(f){r.onItemAction(t(s),f)},r.columns,r.presets,ic.CLOSE_ON_EXECUTE,r.select.getOr(Ue),o),{movement:Ug(r.columns,r.presets),menuBehaviours:d1.unnamedEvents(r.columns!=="auto"?[]:[Ka(function(f,d){z2(f,4,t4(r.presets)).each(function(h){var p=h.numRows,y=h.numColumns;tr.setGridSize(f,p,y)})})])})))})}},zL=function(t,r){var o,s=Bn("channel-update-split-dropdown-display"),l=function(h){return{isDisabled:function(){return Yn.isDisabled(h)},setDisabled:function(p){return Yn.set(h,p)},setIconFill:function(p,y){Co(h.element,'svg path[id="'+p+'"], rect[id="'+p+'"]').each(function(S){Dr(S,"fill",y)})},setIconStroke:function(p,y){Co(h.element,'svg path[id="'+p+'"], rect[id="'+p+'"]').each(function(S){Dr(S,"stroke",y)})},setActive:function(p){Dr(h.element,"aria-pressed",p),Co(h.element,"span").each(function(y){h.getSystem().getByDom(y).each(function(S){return Ur.set(S,p)})})},isActive:function(){return Co(h.element,"span").exists(function(p){return h.getSystem().getByDom(p).exists(Ur.isOn)})}}},f=Qn(ve),d={getApi:l,onSetup:t.onSetup};return mA.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:$({"aria-pressed":!1},_I(t.tooltip,r.providers))},onExecute:function(h){t.onAction(l(h))},onItemExecute:function(h,p,y){},splitDropdownBehaviours:fn([Lu.splitButton(r.providers.isDisabled),xo(),Ar("split-dropdown-events",[It(PI,fr.focus),Ig(d,f),$g(d,f)]),Zg.config({})]),eventOrder:(o={},o[Mu()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:$L(l,t,r.providers),parts:{menu:s1(!1,t.columns,t.presets)},components:[mA.parts.button(cN(t.icon,t.text,C.none(),C.some(s),C.some([Ur.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),mA.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:N3("chevron-down",r.providers.icons)},buttonBehaviours:fn([Lu.splitButton(r.providers.isDisabled),xo(),l2()])}),mA.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},LL=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],KC=function(t,r){return function(o,s,l){var f=t(o).mapError(function(d){return Nf(d)}).getOrDie();return r(f,s,l)}},k0={button:KC(i1,function(t,r){return NL(t,r.backstage.shared.providers)}),togglebutton:KC(j3,function(t,r){return IL(t,r.backstage.shared.providers)}),menubutton:KC(nA,function(t,r){return mC(t,"tox-tbtn",r.backstage,C.none())}),splitbutton:KC(w0,function(t,r){return zL(t,r.backstage.shared)}),grouptoolbarbutton:KC(q7,function(t,r,o){var s,l=o.ui.registry.getAll().buttons,f=function(h){return gA(o,{buttons:l,toolbar:h,allowToolbarGroups:!1},r,C.none())},d=(s={},s[Lb]=r.backstage.shared.header.isPositionedAtTop()?El.TopToBottom:El.BottomToTop,s);switch(Mg(o)){case zu.floating:return RL(t,r.backstage,f,d);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return yL(t,r.backstage)},fontsizeSelectButton:function(t,r){return mL(t,r.backstage)},fontSelectButton:function(t,r){return iL(t,r.backstage)},formatButton:function(t,r){return pL(t,r.backstage)},alignMenuButton:function(t,r){return tL(t,r.backstage)}},HL=function(t,r,o){return it(k0,t.type).fold(function(){return console.error("skipping button defined by",t),C.none()},function(s){return C.some(s(t,r,o))})},RI={styleselect:k0.styleSelectButton,fontsizeselect:k0.fontsizeSelectButton,fontselect:k0.fontSelectButton,formatselect:k0.formatButton,align:k0.alignMenuButton},VL=function(t){var r=dt(LL,function(o){var s=De(o.items,function(l){return Ut(t,l)||Ut(RI,l)});return{name:o.name,items:s}});return De(r,function(o){return o.items.length>0})},UL=function(t){var r=t.split("|");return dt(r,function(o){return{items:o.trim().split(" ")}})},WL=function(t){return Xe(t,function(r){return Ut(r,"name")&&Ut(r,"items")})},jL=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?VL(o):ue(r)?UL(r):WL(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},qL=function(t,r,o,s,l,f){return it(r,o.toLowerCase()).orThunk(function(){return f.bind(function(d){return Le(d,function(h){return it(r,h+o.toLowerCase())})})}).fold(function(){return it(RI,o.toLowerCase()).map(function(d){return d(t,l)}).orThunk(function(){return C.none()})},function(d){return d.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),C.none()):HL(d,l,t)})},gA=function(t,r,o,s){var l=jL(r),f=dt(l,function(d){var h=vt(d.items,function(p){return p.trim().length===0?[]:qL(t,r.buttons,p,r.allowToolbarGroups,o,s).toArray()});return{title:C.from(t.translate(d.name)),items:h}});return De(f,function(d){return d.items.length>0})},NI=function(t,r,o,s){var l=r.outerContainer,f=o.toolbar,d=o.buttons;if(Xe(f,ue)){var h=f.map(function(p){var y={toolbar:p,buttons:d,allowToolbarGroups:o.allowToolbarGroups};return gA(t,y,{backstage:s},C.none())});oo.setToolbars(l,h)}else oo.setToolbar(l,gA(t,o,{backstage:s},C.none()))},II=Jn(),GL=II.os.isiOS()&&II.os.version.major<=12,KL=function(t,r){var o=t.dom,s=t.getWin(),l=t.getDoc().documentElement,f=Qn(pa(s.innerWidth,s.innerHeight)),d=Qn(pa(l.offsetWidth,l.offsetHeight)),h=function(){var F=f.get();(F.left!==s.innerWidth||F.top!==s.innerHeight)&&(f.set(pa(s.innerWidth,s.innerHeight)),uw(t))},p=function(){var F=t.getDoc().documentElement,R=d.get();(R.left!==F.offsetWidth||R.top!==F.offsetHeight)&&(d.set(pa(F.offsetWidth,F.offsetHeight)),uw(t))},y=function(F){return S6(t,F)};o.bind(s,"resize",h),o.bind(s,"scroll",y);var S=dp(Q.fromDom(t.getBody()),"load",p),E=r.uiMothership.element;t.on("hide",function(){mr(E,"display","none")}),t.on("show",function(){la(E,"display")}),t.on("NodeChange",p),t.on("remove",function(){S.unbind(),o.unbind(s,"resize",h),o.unbind(s,"scroll",y),s=null})},XL=function(t,r,o,s,l){var f=Qn(0),d=r.outerContainer;Xz(t);var h=Q.fromDom(l.targetNode),p=Cn(cr(h));uu(h,r.mothership),Ts(p,r.uiMothership),t.on("PostRender",function(){NI(t,r,o,s),f.set(t.getWin().innerWidth),oo.setMenubar(d,bI(t,o)),oo.setSidebar(d,o.sidebar),KL(t,r)});var y=oo.getSocket(d).getOrDie("Could not find expected socket element");if(GL){Us(y.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var S=QP(function(){t.fire("ScrollContent")},20),E=mo(y.element,"scroll",S.throttle);t.on("remove",E.unbind)}M4(t,r),t.addCommand("ToggleSidebar",function(ee,pe){oo.toggleSidebar(d,pe),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return oo.whichSidebar(d)});var F=Mg(t),R=function(){oo.refreshToolbar(r.outerContainer)};(F===zu.sliding||F===zu.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var ee=t.getWin().innerWidth;ee!==f.get()&&(R(),f.set(ee))});var W={enable:function(){Kd(r,!1)},disable:function(){Kd(r,!0)},isDisabled:function(){return Yn.isDisabled(d)}};return{iframeContainer:y.element.dom,editorContainer:d.element.dom,api:W}},YL=Object.freeze({__proto__:null,render:XL}),lN=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?C.some(parseInt(""+t,10)):C.none()},fN=function(t){return Be(t)?t+"px":t},hA=function(t,r,o){var s=r.filter(function(f){return t<f}),l=o.filter(function(f){return t>f});return s.or(l).getOr(t)},ZL=function(t){var r=S4(t),o=E4(t),s=j2(t);return lN(r).map(function(l){return hA(l,o,s)})},JL=function(t){var r=ZL(t);return r.getOr(S4(t))},$I=function(t){var r=U2(t),o=k4(t),s=W2(t);return lN(r).map(function(l){return hA(l,o,s)})},QL=function(t){var r=$I(t);return r.getOr(U2(t))},e9=function(t,r,o,s,l){var f=o.uiMothership,d=o.outerContainer,h=Fg.DOM,p=g1(t),y=h1(t),S=W2(t).or($I(t)),E=s.shared.header,F=E.isPositionedAtTop,R=Mg(t),W=R===zu.sliding||R===zu.floating,ee=Qn(!1),pe=function(){return ee.get()&&!t.removed},K=function(zt){return W?zt.fold(I(0),function(Et){return Et.components().length>1?To(Et.components()[1].element):0}):0},Ce=function(zt){switch(K2(t)){case pv.auto:var Et=oo.getToolbar(d),pn=K(Et),zn=To(zt.element)-pn,Bt=Bo(r),Rn=Bt.y>zn;if(Rn)return"top";var Un=xt(r),zr=Math.max(Un.dom.scrollHeight,To(Un)),aa=Bt.bottom<zr-zn;if(aa)return"bottom";var $a=_u(),mc=$a.bottom<Bt.bottom-zn;return mc?"bottom":"top";case pv.bottom:return"bottom";case pv.top:default:return"top"}},mt=function(zt){var Et=l.get();Ko.setModes(Et,[zt]),E.setDockingMode(zt);var pn=F()?El.TopToBottom:El.BottomToTop;Dr(Et.element,Lb,pn)},bt=function(){var zt=S.getOrThunk(function(){var Et=lN(no(ia(),"margin-left")).getOr(0);return Si(ia())-$i(r).left+Et});mr(l.get().element,"max-width",zt+"px")},ye=function(){var zt=oo.getToolbar(d),Et=K(zt),pn=Bo(r),zn=F()?Math.max(pn.y-To(l.get().element)+Et,0):pn.bottom;Us(d.element,{position:"absolute",top:Math.round(zn)+"px",left:Math.round(pn.x)+"px"})},tt=function(){f.broadcastOn([Td()],{})},Ot=function(zt){if(zt===void 0&&(zt=!1),!!pe()){if(p||bt(),W&&oo.refreshToolbar(d),p||ye(),y){var Et=l.get();zt?Ko.reset(Et):Ko.refresh(Et)}tt()}},yn=function(zt){if(zt===void 0&&(zt=!0),!(p||!y||!pe())){var Et=E.getDockingMode(),pn=Ce(l.get());pn!==Et&&(mt(pn),zt&&Ot(!0))}},At=function(){ee.set(!0),mr(d.element,"display","flex"),h.addClass(t.getBody(),"mce-edit-focus"),la(f.element,"display"),yn(!1),Ot()},wn=function(){ee.set(!1),o.outerContainer&&(mr(d.element,"display","none"),h.removeClass(t.getBody(),"mce-edit-focus")),mr(f.element,"display","none")};return{isVisible:pe,isPositionedAtTop:F,show:At,hide:wn,update:Ot,updateMode:yn,repositionPopups:tt}},zI=function(t,r){var o=Bo(t);return{pos:r?o.y:o.bottom,bounds:o}},t9=function(t,r,o,s){var l=Qn(zI(r,o.isPositionedAtTop())),f=function(h){var p=zI(r,o.isPositionedAtTop()),y=p.pos,S=p.bounds,E=l.get(),F=E.pos,R=E.bounds,W=S.height!==R.height||S.width!==R.width;l.set({pos:y,bounds:S}),W&&uw(t,h),o.isVisible()&&(F!==y?o.update(!0):W&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(h){_l.requestAnimationFrame(function(){return f(h)})}),t.on("ScrollWindow",function(){return o.updateMode()});var d=Xf();d.set(dp(Q.fromDom(t.getBody()),"load",f)),t.on("remove",function(){d.clear()})},n9=function(t,r,o,s,l){var f=r.mothership,d=r.uiMothership,h=r.outerContainer,p=Qn(null),y=Q.fromDom(l.targetNode),S=e9(t,y,r,s,p),E=GB(t);Yz(t);var F=function(){if(p.get()){S.show();return}p.set(oo.getHeader(h).getOrDie());var ee=Rg(t);Ts(ee,f),Ts(ee,d),NI(t,r,o,s),oo.setMenubar(h,bI(t,o)),S.show(),t9(t,y,S,E),t.nodeChanged()},R=function(){return _l.setEditorTimeout(t,F,0)};t.on("show",F),t.on("hide",S.hide),E||(t.on("focus",R),t.on("blur",S.hide)),t.on("init",function(){(t.hasFocus()||E)&&R()}),M4(t,r);var W={show:function(){S.show()},hide:function(){S.hide()},enable:function(){Kd(r,!1)},disable:function(){Kd(r,!0)},isDisabled:function(){return Yn.isDisabled(h)}};return{editorContainer:h.element.dom,api:W}},r9=Object.freeze({__proto__:null,render:n9}),a9="contexttoolbar-show",LI="contexttoolbar-hide",o9=function(t){return{hide:function(){return Ir(t,zm())},getValue:function(){return xn.getValue(t)}}},HI=function(t,r){return It(sC,function(o,s){var l=t.get(o),f=o9(l);r.onAction(f,s.event.buttonApi)})},i9=function(t,r,o){var s=r.original;s.primary;var l=ae(s,["primary"]),f=qs(i1($($({},l),{type:"button",onAction:ve})));return FI(f,o.backstage.shared.providers,[HI(t,r)])},u9=function(t,r,o){var s=r.original;s.primary;var l=ae(s,["primary"]),f=qs(j3($($({},l),{type:"togglebutton",onAction:ve})));return MI(f,o.backstage.shared.providers,[HI(t,r)])},s9=function(t,r,o){var s={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?u9(t,r,s):i9(t,r,s)},c9=function(t,r,o){var s=dt(r,function(d){return Jr(s9(t,d,o))}),l=function(){return dt(s,function(d){return d.asSpec()})},f=function(d){return Le(r,function(h,p){return h.primary?C.from(s[p]).bind(function(y){return y.getOpt(d)}).filter(et(Yn.isDisabled)):C.none()})};return{asSpecs:l,findPrimary:f}},VI=function(t,r){var o=t.label.fold(function(){return{}},function(f){return{"aria-label":f}}),s=Jr(Yg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:fn([tr.config({mode:"special",onEnter:function(f){return l.findPrimary(f).map(function(d){return pl(d),!0})},onLeft:function(f,d){return d.cut(),C.none()},onRight:function(f,d){return d.cut(),C.none()}})])})),l=c9(s,t.commands,r);return[{title:C.none(),items:[s.asSpec()]},{title:C.none(),items:l.asSpecs()}]},l9=function(t,r,o){return fA({type:t,uid:Bn("context-toolbar"),initGroups:VI(r,o),onEscape:C.none,cyclicKeying:!0,providers:o})},f9={renderContextForm:l9,buildInitGroups:VI},UI=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},v9=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=ce(Q.fromDom(t.startContainer),t.startOffset).element,s=H(o)?Eo(o):C.some(o);return s.filter(O).map(function(l){return l.dom.getBoundingClientRect()}).getOr(r)}else return r},vN=function(t){var r=t.selection.getRng(),o=v9(r);if(t.inline){var s=Au();return Po(s.left+o.left,s.top+o.top,o.width,o.height)}else{var l=Cc(Q.fromDom(t.getBody()));return Po(l.x+o.left,l.y+o.top,o.width,o.height)}},d9=function(t,r){return r.filter(pr).map(Cc).getOrThunk(function(){return vN(t)})},m9=function(t,r,o){var s=Math.max(t.x+o,r.x),l=Math.min(t.right-o,r.right);return{x:s,width:l-s}},g9=function(t,r,o,s,l,f){var d=Q.fromDom(t.getContainer()),h=Co(d,".tox-editor-header").getOr(d),p=Bo(h),y=p.y>=r.bottom,S=s&&!y;if(t.inline&&S)return{y:Math.max(p.bottom+f,o.y),bottom:o.bottom};if(t.inline&&!S)return{y:o.y,bottom:Math.min(p.y-f,o.bottom)};var E=l==="line"?Bo(d):r;return S?{y:Math.max(p.bottom+f,o.y),bottom:Math.min(E.bottom-f,o.bottom)}:{y:Math.max(E.y+f,o.y),bottom:Math.min(p.y-f,o.bottom)}},WI=function(t,r,o,s){s===void 0&&(s=0);var l=Ff(window),f=Bo(Q.fromDom(t.getContentAreaContainer())),d=q2(t)||G2(t)||m1(t),h=m9(f,l,s),p=h.x,y=h.width;if(t.inline&&!d)return Po(p,l.y,y,l.height);var S=r.header.isPositionedAtTop(),E=g9(t,f,l,S,o,s),F=E.y,R=E.bottom;return Po(p,F,y,R-F)},pA=12,jI={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},qI={maxHeightFunction:Qm(),maxWidthFunction:vs()},h9=function(t,r){var o=t.selection.getRng(),s=ce(Q.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&_a(s.element,r)},p9=function(t,r,o){var s=Vo(t,"position");mr(t,"position",r);var l=o(t);return s.each(function(f){return mr(t,"position",f)}),l},GI=function(t){return t==="node"},b9=function(t,r,o,s,l){var f=vN(t),d=s.lastElement().exists(function(y){return _a(o,y)});if(h9(t,o))return d?B3:As;if(d)return p9(r,s.getMode(),function(){var y=UI(f,Bo(r));return y&&!s.isReposition()?GP:B3});var h=s.getMode()==="fixed"?l.y+Au().top:l.y,p=To(r)+pA;return h+p<=f.y?As:vv},y9=function(t,r,o,s){var l=function(p){return function(y,S,E,F,R){var W=b9(t,F,p,o,R),ee=$($({},y),{y:R.y,height:R.height});return $($({},W(ee,S,E,F,R)),{alwaysFit:!0})}},f=function(p){return GI(s)?[l(p)]:[]},d={onLtr:function(p){return[iu,ni,Wi,mi,jo,ti].concat(f(p))},onRtl:function(p){return[iu,ni,jo,ti,Wi,mi].concat(f(p))}},h={onLtr:function(p){return[ni,mi,ti,Wi,jo,iu].concat(f(p))},onRtl:function(p){return[ni,ti,mi,jo,Wi,iu].concat(f(p))}};return r?h:d},w9=function(t,r,o,s){return r==="line"?{bubble:Yf(pA,0,jI),layouts:{onLtr:function(){return[ip]},onRtl:function(){return[af]}},overrides:qI}:{bubble:Yf(0,pA,jI,1/pA),layouts:y9(t,o,s,r),overrides:qI}},dN=function(t,r){var o=De(r,function(d){return d.predicate(t.dom)}),s=Ne(o,function(d){return d.type==="contexttoolbar"}),l=s.pass,f=s.fail;return{contextToolbars:l,contextForms:f}},C9=function(t){if(t.length<=1)return t;var r=function(h){return Qt(t,function(p){return p.position===h})},o=function(h){return De(t,function(p){return p.position===h})},s=r("selection"),l=r("node");if(s||l)if(l&&s){var f=o("node"),d=dt(o("selection"),function(h){return $($({},h),{position:"node"})});return f.concat(d)}else return o(s?"selection":"node");else return o("line")},x9=function(t){if(t.length<=1)return t;var r=function(s){return pt(t,function(l){return l.position===s})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return De(t,function(l){return l.position===s})})},S9=function(t,r,o){var s=dN(t,r);if(s.contextForms.length>0)return C.some({elem:t,toolbars:[s.contextForms[0]]});var l=dN(t,o);if(l.contextForms.length>0)return C.some({elem:t,toolbars:[l.contextForms[0]]});if(s.contextToolbars.length>0||l.contextToolbars.length>0){var f=C9(s.contextToolbars.concat(l.contextToolbars));return C.some({elem:t,toolbars:f})}else return C.none()},k9=function(t,r,o){return t(r)?C.none():G0(r,function(s){if(O(s)){var l=dN(s,o.inNodeScope),f=l.contextToolbars,d=l.contextForms,h=d.length>0?d:x9(f);return h.length>0?C.some({elem:s,toolbars:h}):C.none()}else return C.none()},t)},E9=function(t,r){var o=Q.fromDom(r.getBody()),s=function(d){return _a(d,o)},l=function(d){return!s(d)&&!Ni(o,d)},f=Q.fromDom(r.selection.getNode());return l(f)?C.none():S9(f,t.inNodeScope,t.inEditorScope).orThunk(function(){return k9(s,f,t)})},T9=function(t,r){var o={},s=[],l=[],f={},d={},h=function(S,E){var F=qs(x2(E));o[S]=F,F.launch.map(function(R){f["form:"+S]=$($({},E.launch),{type:R.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(F)}})}),F.scope==="editor"?l.push(F):s.push(F),d[S]=F},p=function(S,E){X3(E).each(function(F){E.scope==="editor"?l.push(F):s.push(F),d[S]=F})},y=Ye(t);return Fe(y,function(S){var E=t[S];E.type==="contextform"?h(S,E):E.type==="contexttoolbar"&&p(S,E)}),{forms:o,inNodeScope:s,inEditorScope:l,lookupTable:d,formNavigators:f}},KI=Bn("forward-slide"),XI=Bn("backward-slide"),mN=Bn("change-slide-event"),gN="tox-pop--resizing",O9=function(t){var r=Qn([]);return Na.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),Na.getContent(o).each(function(s){la(s.element,"visibility")}),wo(o.element,gN),la(o.element,"width")},inlineBehaviours:fn([Ar("context-toolbar-events",[bl(Im(),function(o,s){s.event.raw.propertyName==="width"&&(wo(o.element,gN),la(o.element,"width"))}),It(mN,function(o,s){var l=o.element;la(l,"width");var f=Si(l);Na.setContent(o,s.event.contents),Wo(l,gN);var d=Si(l);mr(l,"width",f+"px"),Na.getContent(o).each(function(h){s.event.focus.bind(function(p){return Fc(p),Ss(l)}).orThunk(function(){return tr.focusIn(h),Sl(cr(l))})}),_l.setTimeout(function(){mr(o.element,"width",d+"px")},0)}),It(KI,function(o,s){Na.getContent(o).each(function(l){r.set(r.get().concat([{bar:l,focus:Sl(cr(o.element))}]))}),er(o,mN,{contents:s.event.forwardContents,focus:C.none()})}),It(XI,function(o,s){Pt(r.get()).each(function(l){r.set(r.get().slice(0,r.get().length-1)),er(o,mN,{contents:Nu(l.bar),focus:l.focus})})})]),tr.config({mode:"special",onEscape:function(o){return Pt(r.get()).fold(function(){return t.onEscape()},function(s){return Ir(o,XI),C.some(!0)})}})]),lazySink:function(){return Or.value(t.sink)}})},hN="tox-pop--transition",A9=function(t,r,o,s){var l=s.backstage,f=l.shared,d=Jn().deviceType.isTouch,h=Za(),p=Za(),y=Za(),S=di(O9({sink:o,onEscape:function(){return t.focus(),C.some(!0)}})),E=function(){var At=y.get().getOr("node"),wn=GI(At)?1:0;return WI(t,f,At,wn)},F=function(){return!t.removed&&!(d()&&l.isContextMenuOpen())},R=function(At){return sr(sa(At,h.get(),_a),!0)},W=function(){if(F()){var At=E(),wn=sr(y.get(),"node")?d9(t,h.get()):vN(t);return At.height<=0||!UI(wn,At)}else return!0},ee=function(){h.clear(),p.clear(),y.clear(),Na.hide(S)},pe=function(){if(Na.isOpen(S)){var At=S.element;la(At,"display"),W()?mr(At,"display","none"):(p.set(0),Na.reposition(S))}},K=function(At){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[At],behaviours:fn([tr.config({mode:"acyclic"}),Ar("pop-dialog-wrap-events",[Ka(function(wn){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return tr.focusIn(wn)})}),Ru(function(wn){t.shortcuts.remove("ctrl+F9")})])])}},Ce=Ve(function(){return T9(r,function(At){var wn=ye([At]);er(S,KI,{forwardContents:K(wn)})})}),mt=function(At,wn){return gA(t,{buttons:At,toolbar:wn.items,allowToolbarGroups:!1},s,C.some(["form:"]))},bt=function(At,wn){return f9.buildInitGroups(At,wn)},ye=function(At){var wn=t.ui.registry.getAll().buttons,zt=Ce(),Et=$($({},wn),zt.formNavigators),pn=Mg(t)===zu.scrolling?zu.scrolling:zu.default,zn=le(dt(At,function(Bt){return Bt.type==="contexttoolbar"?mt(Et,Bt):bt(Bt,f.providers)}));return fA({type:pn,uid:Bn("context-toolbar"),initGroups:zn,onEscape:C.none,cyclicKeying:!0,providers:f.providers})},tt=function(At,wn){var zt=At==="node"?f.anchors.node(wn):f.anchors.cursor(),Et=w9(t,At,d(),{lastElement:h.get,isReposition:function(){return sr(p.get(),0)},getMode:function(){return qi.getMode(o)}});return wt(zt,Et)},Ot=function(At,wn){if(yn.cancel(),!!F()){var zt=ye(At),Et=At[0].position,pn=tt(Et,wn);y.set(Et),p.set(1);var zn=S.element;la(zn,"display"),R(wn)||(wo(zn,hN),qi.reset(o,S)),Na.showWithinBounds(S,K(zt),{anchor:pn,transition:{classes:[hN],mode:"placement"}},function(){return C.some(E())}),wn.fold(h.clear,h.set),W()&&mr(zn,"display","none")}},yn=d2(function(){if(!(!t.hasFocus()||t.removed))if(Vi(S.element,hN))yn.throttle();else{var At=Ce();E9(At,t).fold(ee,function(wn){Ot(wn.toolbars,C.some(wn.elem))})}},17);t.on("init",function(){t.on("remove",ee),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",pe),t.on("click keyup focus SetContent",yn.throttle),t.on(LI,ee),t.on(a9,function(At){var wn=Ce();it(wn.lookupTable,At.toolbarKey).each(function(zt){Ot([zt],wa(At.target!==t,At.target)),Na.getContent(S).each(tr.focusIn)})}),t.on("focusout",function(At){_l.setEditorTimeout(t,function(){Ss(o.element).isNone()&&Ss(S.element).isNone()&&ee()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&ee()}),t.on("AfterProgressState",function(At){At.state?ee():t.hasFocus()&&yn.throttle()}),t.on("NodeChange",function(At){Ss(S.element).fold(yn.throttle,ve)})})},D9=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Fe(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:dc(t,o.cmd),onSetup:vA(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:dc(t,"JustifyNone")})},_9={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},P9=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,s="\\.",l=function(h){return"(?:"+h+")?"},f=["Infinity",t+s+l(t)+l(o),s+t+l(o),t+l(o)].join("|"),d="[+-]?(?:"+f+")";return new RegExp("^("+d+")(.*)$")}(),B9=function(t,r){return Qt(r,function(o){return Qt(_9[o],function(s){return t===s})})},F9=function(t,r){var o=C.from(P9.exec(t));return o.bind(function(s){var l=Number(s[1]),f=s[2];return B9(f,r)?C.some({value:l,unit:f}):C.none()})},M9=function(t,r){return F9(t,r).map(function(o){var s=o.value,l=o.unit;return s+l})},YI=function(t,r){var o=function(){var s=r.getOptions(t),l=r.getCurrent(t).map(r.hash),f=Za();return dt(s,function(d){return{type:"togglemenuitem",text:r.display(d),onSetup:function(h){var p=function(S){S&&(f.on(function(E){return E.setActive(!1)}),f.set(h)),h.setActive(S)};p(sr(l,r.hash(d)));var y=r.watcher(t,d,p);return function(){f.clear(),y()}},onAction:function(){return r.setCurrent(t,d)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},R9={name:"lineheight",text:"Line height",icon:"line-height",getOptions:HB,hash:function(t){return M9(t,["fixed","relative","empty"]).getOr(t)},display:je,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return C.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},N9=function(t){var r=C.from(VB(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:I(o),hash:function(s){return Ft(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,l,f){return s.formatter.formatChanged("lang",f,!1,{value:l.code,customValue:l.customCode}).unbind},getCurrent:function(s){var l=Q.fromDom(s.selection.getNode());return K0(l,function(f){return C.some(f).filter(O).bind(function(d){var h=so(d,"lang");return h.map(function(p){var y=so(d,"data-mce-lang").getOrUndefined();return{code:p,customCode:y,title:""}})})})},setCurrent:function(s,l){return s.execCommand("Lang",!1,l)},onToolbarSetup:function(s){var l=Xf();return s.setActive(t.formatter.match("lang",{},void 0,!0)),l.set(t.formatter.formatChanged("lang",s.setActive,!0)),l.clear}}})},I9=function(t){YI(t,R9),N9(t).each(function(r){return YI(t,r)})},$9=function(t,r){nL(t,r),uL(t,r),wL(t,r),bL(t,r),gL(t,r)},z9=function(t){return dA(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},L9=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:z9(t),onAction:dc(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:dc(t,"indent")})},H9=function(t){L9(t)},pN=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},V9=function(t){Gc.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,l){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:vA(t,s.name),onAction:pN(t,s.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:vA(t,o),onAction:pN(t,o)})}},U9=function(t){Gc.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:dc(t,r.action)})})},W9=function(t){Gc.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:dc(t,r.action),onSetup:vA(t,r.name)})})},j9=function(t){V9(t),U9(t),W9(t)},q9=function(t){Gc.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:dc(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:pN(t,"code")})},G9=function(t){j9(t),q9(t)},bA=function(t,r){return dA(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},K9=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:bA(t,"hasUndo"),onAction:dc(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:bA(t,"hasRedo"),onAction:dc(t,"redo")})},X9=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:bA(t,"hasUndo"),onAction:dc(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:bA(t,"hasRedo"),onAction:dc(t,"redo")})},Y9=function(t){K9(t),X9(t)},Z9=function(t){return dA(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},J9=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Z9(t),onAction:dc(t,"mceToggleVisualAid")})},Q9=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:dc(t,"mceToggleVisualAid")})},eH=function(t){Q9(t),J9(t)},tH=function(t,r){D9(t),G9(t),$9(t,r),Y9(t),F6(t),eH(t),H9(t),I9(t)},XC=function(t,r){return{type:"makeshift",x:t,y:r}},nH=function(t,r,o){return XC(t.x+r,t.y+o)},ZI=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},rH=function(t){if(ZI(t)){var r=t.touches[0];return XC(r.pageX,r.pageY)}else return XC(t.pageX,t.pageY)},aH=function(t){if(ZI(t)){var r=t.touches[0];return XC(r.clientX,r.clientY)}else return XC(t.clientX,t.clientY)},oH=function(t,r){var o=Fg.DOM.getPos(t);return nH(r,o.x,o.y)},iH=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?rH(r):oH(t.getContentAreaContainer(),aH(r)):JI(t)},JI=function(t){return{type:"selection",root:Q.fromDom(t.selection.getNode())}},uH=function(t){return{type:"node",node:C.some(Q.fromDom(t.selection.getNode())),root:Q.fromDom(t.getBody())}},QI=function(t,r,o){switch(o){case"node":return uH(t);case"point":return iH(t,r);case"selection":return JI(t)}},sH=function(t,r,o,s,l,f){var d=o(),h=QI(t,r,f);lm(d,ic.CLOSE_ON_EXECUTE,s,!1).map(function(p){r.preventDefault(),Na.showMenuAt(l,{anchor:h},{menu:{markers:Pl("normal")},data:p})})},cH={onLtr:function(){return[ni,mi,ti,Wi,jo,iu,As,vv,fv,n1,Ag,Og]},onRtl:function(){return[ni,ti,mi,jo,Wi,iu,As,vv,Ag,Og,fv,n1]}},lH=12,fH={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},vH=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],l=o.getRng(),f=Kb(t.getWin(),tg.domRange(l));return f.exists(function(d){return d.left<=s.clientX&&d.right>=s.clientX&&d.top<=s.clientY&&d.bottom>=s.clientY})},dH=function(t){var r=t.selection.getRng(),o=function(){_l.setEditorTimeout(t,function(){t.selection.setRng(r)},10),f()};t.once("touchend",o);var s=function(d){d.preventDefault(),d.stopImmediatePropagation()};t.on("mousedown",s,!0);var l=function(){return f()};t.once("longpresscancel",l);var f=function(){t.off("touchend",o),t.off("longpresscancel",l),t.off("mousedown",s)}},mH=function(t,r,o){var s=QI(t,r,o),l=o==="point"?lH:0;return $({bubble:Yf(0,l,fH),layouts:cH,overrides:{maxWidthFunction:vs(),maxHeightFunction:Qm()}},s)},gH=function(t,r,o,s,l,f,d){var h=mH(t,r,f);lm(o,ic.CLOSE_ON_EXECUTE,s,!0).map(function(p){r.preventDefault(),Na.showMenuWithinBounds(l,{anchor:h},{menu:{markers:Pl("normal"),highlightImmediately:d},data:p,type:"horizontal"},function(){return C.some(WI(t,s.shared,f==="node"?"node":"selection"))}),t.fire(LI)})},hH=function(t,r,o,s,l,f){var d=Jn(),h=d.os.isiOS(),p=d.os.isOSX(),y=d.os.isAndroid(),S=d.deviceType.isTouch(),E=function(){return!(y||h||p&&S)},F=function(){var W=o();gH(t,r,W,s,l,f,E())};if((p||h)&&f!=="node"){var R=function(){dH(t),F()};vH(t,r)?R():(t.once("selectionchange",R),t.once("touchend",function(){return t.off("selectionchange",R)}))}else F()},e$=function(t){return typeof t=="string"?t.split(/[ ,]/):t},t$=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},pH=function(t,r,o){var s=t.ui.registry.getAll().contextMenus;return C.from(t.getParam(r)).map(e$).getOrThunk(function(){return De(e$(o),function(l){return Ut(s,l)})})},bH=function(t){return t.getParam("contextmenu")===!1},yH=function(t){return pH(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},wH=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},n$=function(t){return ue(t)?t==="|":t.type==="separator"},bN={type:"separator"},r$=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(ue(t))return t;switch(t.type){case"separator":return bN;case"submenu":return $($({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return ue(o)?o:dt(o,r$)}});default:return $($({type:"menuitem"},r(t)),{onAction:yt(t.onAction)})}},a$=function(t,r){if(r.length===0)return t;var o=Pt(t).filter(function(l){return!n$(l)}),s=o.fold(function(){return[]},function(l){return[bN]});return t.concat(s).concat(r).concat([bN])},CH=function(t,r,o){var s=Dt(r,function(l,f){return it(t,f.toLowerCase()).map(function(d){var h=d.update(o);if(ue(h))return a$(l,h.split(" "));if(h.length>0){var p=dt(h,r$);return a$(l,p)}else return l}).getOrThunk(function(){return l.concat([f])})},[]);return s.length>0&&n$(s[s.length-1])&&s.pop(),s},xH=function(t,r){return r.ctrlKey&&!t$(t)},o$=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},i$=function(t,r){return o$(t,r)?t.selection.getStart(!0):r.target},SH=function(t,r){var o=wH(t),s=o$(t,r)?"selection":"point";if(zo(o)){var l=i$(t,r),f=qg(Q.fromDom(l),o);return f?"node":s}else return s},kH=function(t,r,o){var s=Jn(),l=s.deviceType.isTouch,f=di(Na.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:fn([Ar("dismissContextMenu",[It(Ys(),function(p,y){Vr.close(p),t.focus()})])])})),d=function(p){return Na.hide(f)},h=function(p){if(t$(t)&&p.preventDefault(),!(xH(t,p)||bH(t))){var y=SH(t,p),S=function(){var F=i$(t,p),R=t.ui.registry.getAll(),W=yH(t);return CH(R.contextMenus,W,F)},E=l()?hH:sH;E(t,p,S,o,f,y)}};t.on("init",function(){var p="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");t.on(p,d),t.on("longpress contextmenu",h)})},yN=es.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),yA=function(t){return function(r){return r.translate(-t.left,-t.top)}},wA=function(t){return function(r){return r.translate(t.left,t.top)}},Hv=function(t){return function(r,o){return Dt(t,function(s,l){return l(s)},pa(r,o))}},CA=function(t,r,o){return t.fold(Hv([wA(o),yA(r)]),Hv([yA(r)]),Hv([]))},E0=function(t,r,o){return t.fold(Hv([wA(o)]),Hv([]),Hv([wA(r)]))},u$=function(t,r,o){return t.fold(Hv([]),Hv([yA(o)]),Hv([wA(r),yA(o)]))},EH=function(t,r,o,s,l,f){var d=E0(t,l,f),h=E0(r,l,f);return Math.abs(d.left-h.left)<=o&&Math.abs(d.top-h.top)<=s},TH=function(t,r,o,s,l,f){var d=E0(t,l,f),h=E0(r,l,f),p=Math.abs(d.left-h.left),y=Math.abs(d.top-h.top);return pa(p,y)},s$=function(t,r,o){var s=t.fold(function(l,f){return{position:C.some("absolute"),left:C.some(l+"px"),top:C.some(f+"px")}},function(l,f){return{position:C.some("absolute"),left:C.some(l-o.left+"px"),top:C.some(f-o.top+"px")}},function(l,f){return{position:C.some("fixed"),left:C.some(l+"px"),top:C.some(f+"px")}});return $({right:C.none(),bottom:C.none()},s)},OH=function(t,r,o){return t.fold(function(s,l){return xA(s+r,l+o)},function(s,l){return ym(s+r,l+o)},function(s,l){return Ch(s+r,l+o)})},wN=function(t,r,o,s){var l=function(f,d){return function(h,p){var y=f(r,o,s);return d(h.getOr(y.left),p.getOr(y.top))}};return t.fold(l(u$,xA),l(E0,ym),l(CA,Ch))},xA=yN.offset,ym=yN.absolute,Ch=yN.fixed,c$=function(t,r){var o=Ma(t,r);return Ft(o)?NaN:parseInt(o,10)},AH=function(t,r){var o=t.element,s=c$(o,r.leftAttr),l=c$(o,r.topAttr);return isNaN(s)||isNaN(l)?C.none():C.some(pa(s,l))},DH=function(t,r,o){var s=t.element;Dr(s,r.leftAttr,o.left+"px"),Dr(s,r.topAttr,o.top+"px")},_H=function(t,r){var o=t.element;Ho(o,r.leftAttr),Ho(o,r.topAttr)},PH=function(t,r,o,s){return AH(t,r).fold(function(){return o},function(l){return Ch(l.left+s.left,l.top+s.top)})},BH=function(t,r,o,s,l,f){var d=PH(t,r,o,s),h=r.mustSnap?MH(t,r,d,l,f):RH(t,r,d,l,f),p=CA(d,l,f);return DH(t,r,p),h.fold(function(){return{coord:Ch(p.left,p.top),extra:C.none()}},function(y){return{coord:y.output,extra:y.extra}})},FH=function(t,r){_H(t,r)},l$=function(t,r,o,s){return Le(t,function(l){var f=l.sensor,d=EH(r,f,l.range.left,l.range.top,o,s);return d?C.some({output:wN(l.output,r,o,s),extra:l.extra}):C.none()})},MH=function(t,r,o,s,l){var f=r.getSnapPoints(t),d=l$(f,o,s,l);return d.orThunk(function(){var h=Dt(f,function(p,y){var S=y.sensor,E=TH(o,S,y.range.left,y.range.top,s,l);return p.deltas.fold(function(){return{deltas:C.some(E),snap:C.some(y)}},function(F){var R=(E.left+E.top)/2,W=(F.left+F.top)/2;return R<=W?{deltas:C.some(E),snap:C.some(y)}:p})},{deltas:C.none(),snap:C.none()});return h.snap.map(function(p){return{output:wN(p.output,o,s,l),extra:p.extra}})})},RH=function(t,r,o,s,l){var f=r.getSnapPoints(t);return l$(f,o,s,l)},NH=function(t,r,o){return{coord:wN(t.output,t.output,r,o),extra:t.extra}},IH=function(t,r,o,s){var l=r.getTarget(t.element);if(r.repositionTarget){var f=si(t.element),d=Au(f),h=Af(l),p=NH(s,d,h),y=s$(p.coord,d,h);yc(l,y)}},$H=Object.freeze({__proto__:null,snapTo:IH}),CN="data-initial-z-index",zH=function(t){Eo(t.element).filter(O).each(function(r){so(r,CN).fold(function(){return la(r,"z-index")},function(o){return mr(r,"z-index",o)}),Ho(r,CN)})},LH=function(t){Eo(t.element).filter(O).each(function(r){Vo(r,"z-index").each(function(o){Dr(r,CN,o)}),mr(r,"z-index",no(t.element,"z-index"))})},f$=function(t,r){t.getSystem().addToGui(r),LH(r)},HH=function(t){zH(t),t.getSystem().removeFromGui(t)},v$=function(t,r,o){return t.getSystem().build(pi.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},VH=Bu("snaps",[Nt("getSnapPoints"),Fr("onSensor"),Nt("leftAttr"),Nt("topAttr"),Se("lazyViewport",_u),Se("mustSnap",!1)]),xN=[Se("useFixed",Ue),Nt("blockerClass"),Se("getTarget",je),Se("onDrag",ve),Se("repositionTarget",!0),Se("onDrop",ve),ba("getBounds",_u),VH],UH=function(t){return bo(Vo(t,"left"),Vo(t,"top"),Vo(t,"position"),function(r,o,s){var l=s==="fixed"?Ch:xA;return l(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=$i(t);return ym(r.left,r.top)})},WH=function(t,r,o,s,l){var f=l.bounds,d=E0(r,o,s),h=ou(d.left,f.x,f.x+f.width-l.width),p=ou(d.top,f.y,f.y+f.height-l.height),y=ym(h,p);return r.fold(function(){var S=u$(y,o,s);return xA(S.left,S.top)},I(y),function(){var S=CA(y,o,s);return Ch(S.left,S.top)})},jH=function(t,r,o,s,l,f,d){var h=r.fold(function(){var p=OH(o,f.left,f.top),y=CA(p,s,l);return Ch(y.left,y.top)},function(p){var y=BH(t,p,o,f,s,l);return y.extra.each(function(S){p.onSensor(t,S)}),y.coord});return WH(t,h,s,l,d)},qH=function(t,r,o,s){var l=r.getTarget(t.element);if(r.repositionTarget){var f=si(t.element),d=Au(f),h=Af(l),p=UH(l),y=jH(t,r.snaps,p,d,h,s,o),S=s$(y,d,h);yc(l,S)}r.onDrag(t,l,s)},d$=function(t,r){return{bounds:t.getBounds(),height:Tu(r.element),width:wc(r.element)}},SN=function(t,r,o,s,l){var f=o.update(s,l),d=o.getStartData().getOrThunk(function(){return d$(r,t)});f.each(function(h){qH(t,r,d,h)})},m$=function(t,r,o,s){r.each(HH),o.snaps.each(function(f){FH(t,f)});var l=o.getTarget(t.element);s.reset(),o.onDrop(t,l)},kN=function(t){return function(r,o){var s=function(l){o.setStartData(d$(r,l))};return ya(Oe([It(ab(),function(l){o.getStartData().each(function(){return s(l)})})],t(r,o,s),!0))}},GH=function(t){return ya([It(ws(),t.forceDrop),It(Z0(),t.drop),It(zf(),function(r,o){t.move(o.event)}),It(Y0(),t.delayDrop)])},KH=function(t){return C.from(pa(t.x,t.y))},XH=function(t,r){return pa(r.left-t.left,r.top-t.top)},YH=Object.freeze({__proto__:null,getData:KH,getDelta:XH}),g$=function(t,r,o){return[It(ws(),function(s,l){var f=l.event.raw;if(f.button===0){l.stop();var d=function(){return m$(s,C.some(y),t,r)},h=bE(d,200),p={drop:d,delayDrop:h.schedule,forceDrop:d,move:function(E){h.cancel(),SN(s,t,r,YH,E)}},y=v$(s,t.blockerClass,GH(p)),S=function(){o(s),f$(s,y)};S()}})]},ZH=Oe(Oe([],xN,!0),[ga("dragger",{handlers:kN(g$)})],!1),JH=function(t){return ya([It(hl(),t.forceDrop),It(Rm(),t.drop),It(yx(),t.drop),It(Ks(),function(r,o){t.move(o.event)})])},QH=function(t){var r=t[0];return C.some(pa(r.clientX,r.clientY))},eV=function(t){var r=t.raw,o=r.touches;return o.length===1?QH(o):C.none()},tV=function(t,r){return pa(r.left-t.left,r.top-t.top)},h$=Object.freeze({__proto__:null,getData:eV,getDelta:tV}),p$=function(t,r,o){var s=Za(),l=function(f){m$(f,s.get(),t,r),s.clear()};return[It(hl(),function(f,d){d.stop();var h=function(){return l(f)},p={drop:h,delayDrop:ve,forceDrop:h,move:function(E){SN(f,t,r,h$,E)}},y=v$(f,t.blockerClass,JH(p));s.set(y);var S=function(){o(f),f$(f,y)};S()}),It(Ks(),function(f,d){d.stop(),SN(f,t,r,h$,d.event)}),It(Rm(),function(f,d){d.stop(),l(f)}),It(yx(),l)]},nV=Oe(Oe([],xN,!0),[ga("dragger",{handlers:kN(p$)})],!1),rV=function(t,r,o){return Oe(Oe([],g$(t,r,o),!0),p$(t,r,o),!0)},aV=Oe(Oe([],xN,!0),[ga("dragger",{handlers:kN(rV)})],!1),oV=ZH,iV=nV,uV=aV,sV=Object.freeze({__proto__:null,mouse:oV,touch:iV,mouseOrTouch:uV}),cV=function(){var t=C.none(),r=C.none(),o=function(){t=C.none(),r=C.none()},s=function(p,y){var S=t.map(function(E){return p.getDelta(E,y)});return t=C.some(y),S},l=function(p,y){return p.getData(y).bind(function(S){return s(p,S)})},f=function(p){r=C.some(p)},d=function(){return r},h=I({});return Li({readState:h,reset:o,update:l,getStartData:d,setStartData:f})},lV=Object.freeze({__proto__:null,init:cV}),xh=pd({branchKey:"mode",branches:sV,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:C.from(t.extra)}}},state:lV,apis:$H}),EN=40,SA=EN/2,b$=function(t,r,o,s,l,f){return t.fold(function(){return xh.snap({sensor:ym(o-SA,s-SA),range:pa(l,f),output:ym(C.some(o),C.some(s)),extra:{td:r}})},function(d){var h=o-SA,p=s-SA,y=EN,S=EN,E=d.element.dom.getBoundingClientRect();return xh.snap({sensor:ym(h,p),range:pa(y,S),output:ym(C.some(o-E.width/2),C.some(s-E.height/2)),extra:{td:r}})})},y$=function(t,r,o){var s=function(l,f){return l.exists(function(d){return _a(d,f)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(l,f){var d=f.td;s(r.get(),d)||(r.set(d),o(d))},mustSnap:!0}},w$=function(t){return Jr(hi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:fn([xh.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Zg.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},fV=function(t,r){var o=Qn([]),s=Qn([]),l=Qn(!1),f=Za(),d=Za(),h=function(Ot){var yn=Cc(Ot);return b$(R.getOpt(r),Ot,yn.x,yn.y,yn.width,yn.height)},p=function(){return dt(o.get(),function(Ot){return h(Ot)})},y=function(Ot){var yn=Cc(Ot);return b$(W.getOpt(r),Ot,yn.right,yn.bottom,yn.width,yn.height)},S=function(){return dt(s.get(),function(Ot){return y(Ot)})},E=y$(p,f,function(Ot){d.get().each(function(yn){t.fire("TableSelectorChange",{start:Ot,finish:yn})})}),F=y$(S,d,function(Ot){f.get().each(function(yn){t.fire("TableSelectorChange",{start:yn,finish:Ot})})}),R=w$(E),W=w$(F),ee=di(R.asSpec()),pe=di(W.asSpec()),K=function(Ot,yn,At,wn){var zt=yn.dom.getBoundingClientRect();la(Ot.element,"display");var Et=Hs(Q.fromDom(t.getBody())).dom.innerHeight,pn=At(zt),zn=wn(zt,Et);(pn||zn)&&mr(Ot.element,"display","none")},Ce=function(Ot,yn,At,wn){var zt=At(yn);xh.snapTo(Ot,zt);var Et=function(zn){return zn[wn]<0},pn=function(zn,Bt){return zn[wn]>Bt};K(Ot,yn,Et,pn)},mt=function(Ot){return Ce(ee,Ot,h,"top")},bt=function(){return f.get().each(mt)},ye=function(Ot){return Ce(pe,Ot,y,"bottom")},tt=function(){return d.get().each(ye)};Jn().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Ot){l.get()||(gi(r,ee),gi(r,pe),l.set(!0)),f.set(Ot.start),d.set(Ot.finish),Ot.otherCells.each(function(yn){o.set(yn.upOrLeftCells),s.set(yn.downOrRightCells),mt(Ot.start),ye(Ot.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){bt(),tt()}),t.on("TableSelectionClear",function(){l.get()&&(ks(ee),ks(pe),l.set(!1)),f.clear(),d.clear()}))},vV=function(t){return t.nodeType===1&&(t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark")},dV=function(t,r,o){r.delimiter||(r.delimiter="\xBB");var s=function(f){var d=f||[],h=dt(d,function(y,S){return hi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":S,"tab-index":-1,"aria-level":S+1},innerHtml:y.name},action:function(E){t.focus(),t.selection.select(y.element),t.nodeChanged()},buttonBehaviours:fn([Lu.button(o.isDisabled),xo()])})}),p={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return Dt(h.slice(1),function(y,S){var E=y;return E.push(p),E.push(S),E},[h[0]])},l=function(f){for(var d=[],h=f.length;h-- >0;){var p=f[h];if(p.nodeType===1&&!vV(p)){var y=t.fire("ResolveName",{name:p.nodeName.toLowerCase(),target:p});if(y.isDefaultPrevented()||d.push({name:y.name,element:p}),y.isPropagationStopped())break}}return d};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:fn([tr.config({mode:"flow",selector:"div[role=button]"}),Yn.config({disabled:o.isDisabled}),xo(),Ja.config({}),yr.config({}),Ar("elementPathEvents",[Ka(function(f,d){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return tr.focusIn(f)}),t.on("NodeChange",function(h){var p=l(h.parents);p.length>0?yr.set(f,s(p)):yr.set(f,[])})})])]),components:[]}},Sh;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Sh||(Sh={}));var mV=function(t,r,o,s,l){var f={};return f.height=hA(s+r.top,E4(t),j2(t)),o===Sh.Both&&(f.width=hA(l+r.left,k4(t),W2(t))),f},C$=function(t,r,o){var s=Q.fromDom(t.getContainer()),l=mV(t,r,o,To(s),Si(s));dn(l,function(f,d){return mr(s,d,fN(f))}),Q4(t)},gV=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?Sh.None:o==="both"?Sh.Both:Sh.Vertical},kA=function(t,r,o,s){var l=20,f=pa(o*l,s*l);return C$(t,f,r),C.some(!0)},hV=function(t,r){var o=gV(t);return o===Sh.None?C.none():C.some(oc("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[xh.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,l,f){return C$(t,f,o)},blockerClass:"tox-blocker"}),tr.config({mode:"special",onLeft:function(){return kA(t,o,-1,0)},onRight:function(){return kA(t,o,1,0)},onUp:function(){return kA(t,o,0,-1)},onDown:function(){return kA(t,o,0,1)}}),Ja.config({}),fr.config({})]},r.icons))},pV=function(t,r){var o,s=function(l,f,d){return yr.set(l,[Uf(r.translate(["{0} "+d,f[d]]))])};return hi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:fn([Lu.button(r.isDisabled),xo(),Ja.config({}),yr.config({}),xn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ar("wordcount-events",[Ec(function(l){var f=xn.getValue(l),d=f.mode==="words"?"characters":"words";xn.setValue(l,{mode:d,count:f.count}),s(l,f.count,d)}),Ka(function(l){t.on("wordCountUpdate",function(f){var d=xn.getValue(l).mode;xn.setValue(l,{mode:d,count:f.wordCount}),s(l,f.wordCount,d)})})])]),eventOrder:(o={},o[Fu()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},bV=function(t,r){var o=function(){var f=$u.translate(["Powered by {0}","Tiny"]),d='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+f+'">'+f+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:d}}},s=function(){var f=[];return t.getParam("elementpath",!0,"boolean")&&f.push(dV(t,{},r)),t.hasPlugin("wordcount")&&f.push(pV(t,r)),t.getParam("branding",!0,"boolean")&&f.push(o()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:f}]:[]},l=function(){var f=s(),d=hV(t,r);return f.concat(d.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:l()}},yV=function(t){var r,o=t.inline,s=o?r9:YL,l=h1(t)?W7:m0,f=C.none(),d=Jn(),h=d.browser.isIE(),p=h?["tox-platform-ie"]:[],y=d.deviceType.isTouch(),S="tox-platform-touch",E=y?[S]:[],F=D4(t),R=Rg(t),W=$u.isRtl()?{attributes:{dir:"rtl"}}:{},ee={attributes:(r={},r[Lb]=F?El.BottomToTop:El.TopToBottom,r)},pe=function(){return f.bind(oo.getHeader)},K=function(){return l.isDocked(pe)},Ce=function(){mr(Uu.element,"width",document.body.clientWidth+"px")},mt=function(){var Fi=_a(ia(),R)&&no(R,"display")==="grid",wm={dom:$({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(p).concat(E)},W),behaviours:fn([qi.config({useFixed:function(){return K()}})])},O0={dom:{styles:{width:document.body.clientWidth+"px"}},events:ya([It(Xs(),Ce)])};return wt(wm,Fi?O0:{})},bt=di(mt()),ye=function(){return Or.value(bt)},tt=Jr({dom:{tag:"div",classes:["tox-anchorbar"]}}),Ot=function(){return f.bind(function(Fi){return tt.getOpt(Fi)}).getOrDie("Could not find a anchor bar element")},yn=function(){return f.bind(function(Fi){return oo.getToolbar(Fi)}).getOrDie("Could not find more toolbar element")},At=function(){return f.bind(function(Fi){return oo.getThrobber(Fi)}).getOrDie("Could not find throbber element")},wn=Nv(bt,t,Ot),zt=oo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:wn,onEscape:function(){t.focus()}}),Et=Mg(t),pn=oo.parts.toolbar($({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ye,providers:wn.shared.providers,onEscape:function(){t.focus()},type:Et,lazyToolbar:yn,lazyHeader:function(){return pe().getOrDie("Could not find header element")}},ee)),zn=oo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:wn.shared.providers,onEscape:function(){t.focus()},type:Et}),Bt=oo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Rn=oo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Un=oo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:wn}),zr=t.getParam("statusbar",!0,"boolean"),aa=zr&&!o?C.some(bV(t,wn.shared.providers)):C.none(),$a={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Bt,Rn]},mc=m1(t),Ns=G2(t),$N=q2(t),zN=function(){return mc?[zn]:Ns?[pn]:[]},TA=oo.parts.header({dom:$({tag:"div",classes:["tox-editor-header"]},ee),components:le([$N?[zt]:[],zN(),g1(t)?[]:[tt.asSpec()]]),sticky:h1(t),editor:t,sharedBackstage:wn.shared}),LN=le([F?[]:[TA],o?[]:[$a],F?[TA]:[]]),ZC={dom:{tag:"div",classes:["tox-editor-container"]},components:LN},OA=le([[ZC],o?[]:aa.toArray(),[Un]]),JC=X2(t),AA=$($({role:"application"},$u.isRtl()?{dir:"rtl"}:{}),JC?{"aria-hidden":"true"}:{}),el=di(oo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(F?["tox-tinymce--toolbar-bottom"]:[]).concat(E).concat(p),styles:$({visibility:"hidden"},JC?{opacity:"0",border:"0"}:{}),attributes:AA},components:OA,behaviours:fn([xo(),Yn.config({disableClass:"tox-tinymce--disabled"}),tr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));f=C.some(el),t.shortcuts.add("alt+F9","focus menubar",function(){oo.focusMenubar(el)}),t.shortcuts.add("alt+F10","focus toolbar",function(){oo.focusToolbar(el)}),t.addCommand("ToggleToolbarDrawer",function(){oo.toggleToolbarDrawer(el)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return oo.isToolbarDrawerToggled(el)});var QC=EE(el),Uu=EE(bt);k7(t,QC,Uu);var HN=function(){var Fi={broadcastAll:Uu.broadcast,broadcastOn:Uu.broadcastOn,register:ve};return{channels:Fi}},VN=function(){var Fi=fN(JL(t)),wm=fN(QL(t));return t.inline||(Vl("div","width",wm)&&mr(el.element,"width",wm),Vl("div","height",Fi)?mr(el.element,"height",Fi):mr(el.element,"height","200px")),Fi},UN=function(){l.setup(t,wn.shared,pe),tH(t,wn),kH(t,ye,wn),ie(t),ut(t,At,wn.shared),Jt(WB(t),function(ju,gc){t.ui.registry.addGroupToolbarButton(gc,ju)});var Fi=t.ui.registry.getAll(),wm=Fi.buttons,O0=Fi.menuItems,WN=Fi.contextToolbars,A0=Fi.sidebars,jN=A4(t),An={menuItems:O0,menus:YB(t),menubar:ZB(t),toolbar:jN.getOrThunk(function(){return Y2(t)}),allowToolbarGroups:Et===zu.floating,buttons:wm,sidebar:A0};A9(t,WN,bt,{backstage:wn}),fV(t,bt);var _r=t.getElement(),ua=VN(),eo={mothership:QC,uiMothership:Uu,outerContainer:el},Wu={targetNode:_r,height:ua};return s.render(t,eo,An,wn,Wu)};return{mothership:QC,uiMothership:Uu,backstage:wn,renderUI:UN,getUi:HN}},wV=function(t,r){var o=C.from(Ma(t,"id")).fold(function(){var s=Bn("dialog-describe");return Dr(r,"id",s),s},je);Dr(t,"aria-describedby",o)},CV=function(t,r){var o=so(t,"id").fold(function(){var s=Bn("dialog-label");return Dr(r,"id",s),s},je);Dr(t,"aria-labelledby",o)},xV=I([Nt("lazySink"),ea("dragBlockClass"),ba("getBounds",_u),Se("useTabstopAt",Ee),Se("eventOrder",{}),Mo("modalBehaviours",[tr]),Xa("onExecute"),tf("onEscape")]),TN={sketch:je},SV=I([rc({name:"draghandle",overrides:function(t,r){return{behaviours:fn([xh.config({mode:"mouse",getTarget:function(o){return Zh(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),oi({schema:[Nt("dom")],name:"title"}),oi({factory:TN,schema:[Nt("dom")],name:"close"}),oi({factory:TN,schema:[Nt("dom")],name:"body"}),rc({factory:TN,schema:[Nt("dom")],name:"footer"}),Os({factory:{sketch:function(t,r){return $($({},t),{dom:r.dom,components:r.components})}},schema:[Se("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Se("components",[])],name:"blocker"})]),kV=function(t,r,o,s){var l,f=Za(),d=function(W){f.set(W);var ee=t.lazySink(W).getOrDie(),pe=s.blocker(),K=ee.getSystem().build($($({},pe),{components:pe.components.concat([Nu(W)]),behaviours:fn([fr.config({}),Ar("dialog-blocker-events",[bl(Kl(),function(){tr.focusIn(W)})])])}));gi(ee,K),tr.focusIn(W)},h=function(W){f.clear(),Eo(W.element).each(function(ee){W.getSystem().getByDom(ee).each(function(pe){ks(pe)})})},p=function(W){return $c(W,t,"body")},y=function(W){return $c(W,t,"footer")},S=function(W,ee){Dn.block(W,ee)},E=function(W){Dn.unblock(W)},F=Bn("modal-events"),R=$($({},t.eventOrder),(l={},l[Mu()]=[F].concat(t.eventOrder["alloy.system.attached"]||[]),l));return{uid:t.uid,dom:t.dom,components:r,apis:{show:d,hide:h,getBody:p,getFooter:y,setIdle:E,setBusy:S},eventOrder:R,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ro(t.modalBehaviours,[yr.config({}),tr.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Dn.config({getRoot:f.get}),Ar(F,[Ka(function(W){CV(W.element,$c(W,t,"title").element),wV(W.element,$c(W,t,"body").element)})])])}},Io=Gi({name:"ModalDialog",configFields:xV(),partFields:SV(),factory:kV,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),EV=Xn([dr("type"),dr("name")].concat(hv)),TV=Uo,x$=[Fo("name","name",Gr(function(){return Bn("button-name")}),lo),xa("icon"),Ju("align","end",["start","end"]),qa("primary",!1),qa("disabled",!1)],S$=Oe(Oe([],x$,!0),[dr("text")],!1),ON=Oe([Zu("type",["submit","cancel","custom"])],S$,!0),OV=Oe([Zu("type",["menu"]),xa("text"),xa("tooltip"),xa("icon"),zi("items",EV)],x$,!0),AV=Yu("type",{submit:ON,cancel:ON,custom:ON,menu:OV}),DV=[dr("type"),dr("text"),Zu("level",["info","warn","error","success"]),dr("icon"),Se("url","")],_V=Xn(DV),PV=function(t){return[dr("type"),t]},BV=[dr("type"),dr("text"),qa("disabled",!1),qa("primary",!1),Fo("name","name",Gr(function(){return Bn("button-name")}),lo),xa("icon"),qa("borderless",!1)],FV=Xn(BV),MV=[dr("type"),dr("name"),dr("label"),qa("disabled",!1)],RV=Xn(MV),NV=Uo,AN=[dr("type"),dr("name")],Qc=AN.concat([xa("label")]),IV=Qc.concat([Se("columns","auto")]),$V=Xn(IV),zV=V0([dr("value"),dr("text"),dr("icon")]),LV=Qc,HV=Xn(LV),VV=lo,UV=Qc,WV=Xn(UV),jV=lo,qV=AN.concat([od("tag","textarea"),dr("scriptId"),dr("scriptUrl"),Qu("settings",void 0)]),GV=AN.concat([od("tag","textarea"),Ti("init")]),KV=rd(function(t){return ja("customeditor.old",Pu(GV),t).orThunk(function(){return ja("customeditor.new",Pu(qV),t)})}),XV=lo,YV=Qc,ZV=Xn(YV),JV=qA(),QV=function(t){return[dr("type"),ql("columns"),t]},eU=[dr("type"),dr("html"),Ju("presets","presentation",["presentation","document"])],tU=Xn(eU),nU=Qc.concat([qa("sandboxed",!0)]),rU=Xn(nU),aU=lo,oU=Qc.concat([vu("currentState",Xn([Nt("blob"),dr("url")]))]),iU=Xn(oU),uU=Qc.concat([xa("inputMode"),xa("placeholder"),qa("maximized",!1),qa("disabled",!1)]),sU=Xn(uU),cU=lo,lU=function(t){return[dr("type"),dr("label"),t]},fU=[dr("text"),dr("value")],vU=[dr("text"),zi("items",GA("items",function(){return k$}))],k$=H0([Xn(fU),Xn(vU)]),dU=Qc.concat([zi("items",k$),qa("disabled",!1)]),mU=Xn(dU),gU=lo,hU=Qc.concat([Fh("items",[dr("text"),dr("value")]),xc("size",1),qa("disabled",!1)]),pU=Xn(hU),bU=lo,yU=Qc.concat([qa("constrain",!0),qa("disabled",!1)]),wU=Xn(yU),E$=Xn([dr("width"),dr("height")]),CU=[dr("type"),zi("header",lo),zi("cells",ml(lo))],xU=Xn(CU),SU=Qc.concat([xa("placeholder"),qa("maximized",!1),qa("disabled",!1)]),kU=Xn(SU),EU=lo,TU=Qc.concat([Ju("filetype","file",["image","media","file"]),Se("disabled",!1)]),OU=Xn(TU),AU=Xn([dr("value"),Se("meta",{})]),DN=function(t){return Fo("items","items",br(),ml(rd(function(r){return ja("Checking item of "+t,_N,r).fold(function(o){return Or.error(Nf(o))},function(o){return Or.value(o)})})))},_N=fx(function(){return Bh("type",{alertbanner:_V,bar:Xn(PV(DN("bar"))),button:FV,checkbox:RV,colorinput:HV,colorpicker:WV,dropzone:ZV,grid:Xn(QV(DN("grid"))),iframe:rU,input:sU,listbox:mU,selectbox:pU,sizeinput:wU,textarea:kU,urlinput:OU,customeditor:KV,htmlpanel:tU,imagetools:iU,collection:$V,label:Xn(lU(DN("label"))),table:xU,panel:T$})}),DU=[dr("type"),Se("classes",[]),zi("items",_N)],T$=Xn(DU),_U=[Fo("name","name",Gr(function(){return Bn("tab-name")}),lo),dr("title"),zi("items",_N)],PU=[dr("type"),Fh("tabs",_U)],BU=Xn(PU),FU=S$,MU=AV,RU=Xn([dr("title"),vu("body",Bh("type",{panel:T$,tabpanel:BU})),od("size","normal"),zi("buttons",MU),Se("initialData",{}),ba("onAction",ve),ba("onChange",ve),ba("onSubmit",ve),ba("onClose",ve),ba("onCancel",ve),Se("onTabChange",ve)]),NU=function(t){return ja("dialog",RU,t)},IU=Xn(Oe([Zu("type",["cancel","custom"])],FU,!0)),$U=Xn([dr("title"),dr("url"),Fm("height"),Fm("width"),du("buttons",IU),ba("onAction",ve),ba("onCancel",ve),ba("onClose",ve),ba("onMessage",ve)]),zU=function(t){return ja("dialog",$U,t)},PN=function(t){return Pe(t)?[t].concat(vt(Ct(t),PN)):at(t)?vt(t,PN):[]},LU=function(t){return ue(t.type)&&ue(t.name)},HU={checkbox:NV,colorinput:VV,colorpicker:jV,dropzone:JV,input:cU,iframe:aU,sizeinput:E$,selectbox:bU,listbox:gU,size:E$,textarea:EU,urlinput:AU,customeditor:XV,collection:zV,togglemenuitem:TV},VU=function(t){return C.from(HU[t.type])},UU=function(t){return De(PN(t),LU)},WU=function(t){var r=UU(t),o=vt(r,function(s){return VU(s).fold(function(){return[]},function(l){return[vu(s.name,l)]})});return Xn(o)},O$=function(t){var r=qs(NU(t)),o=WU(t),s=t.initialData;return{internalDialog:r,dataValidator:o,initialData:s}},YC={open:function(t,r){var o=O$(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=qs(zU(r));return t(o)},redial:function(t){return O$(t)}},A$=function(t){var r=[],o={};return dn(t,function(s,l){s.fold(function(){r.push(l)},function(f){o[l]=f})}),r.length>0?Or.error(r):Or.value(o)},jU=function(t,r){var o=Jr(im.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:dt(t.items,function(l){return OC(s,l,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:fn([tr.config({mode:"acyclic",useTabstopAt:et(um)}),lc.memento(o),_v.memento(o,{postprocess:function(s){return A$(s).fold(function(l){return console.error(l),{}},je)}})])}},qU=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:kg(t.action),behaviours:Ro(t.tabButtonBehaviours,[fr.config({}),tr.config({mode:"execution",useSpace:!0,useEnter:!0}),xn.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},GU=pu({name:"TabButton",configFields:[Se("uid",void 0),Nt("value"),Fo("dom","dom",Ei(function(){return{attributes:{role:"tab",id:Bn("aria"),"aria-selected":"false"}}}),js()),ea("action"),Se("domModification",{}),Mo("tabButtonBehaviours",[fr,tr,xn]),Nt("view")],factory:qU}),KU=I([Nt("tabs"),Nt("dom"),Se("clickToDismiss",!1),Mo("tabbarBehaviours",[Qr,tr]),Gf(["tabClass","selectedClass"])]),XU=dg({factory:GU,name:"tabs",unit:"tab",overrides:function(t){var r=function(s,l){Qr.dehighlight(s,l),er(s,Jo(),{tabbar:s,button:l})},o=function(s,l){Qr.highlight(s,l),er(s,Cx(),{tabbar:s,button:l})};return{action:function(s){var l=s.getSystem().getByUid(t.uid).getOrDie(),f=Qr.isHighlighted(l,s),d=function(){return f&&t.clickToDismiss?r:f?ve:o}();d(l,s)},domModification:{classes:[t.markers.tabClass]}}}}),YU=I([XU]),ZU=function(t,r,o,s){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ro(t.tabbarBehaviours,[Qr.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(l,f){Dr(f.element,"aria-selected","true")},onDehighlight:function(l,f){Dr(f.element,"aria-selected","false")}}),tr.config({mode:"flow",getInitial:function(l){return Qr.getHighlighted(l).map(function(f){return f.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},D$=Gi({name:"Tabbar",configFields:KU(),partFields:YU(),factory:ZU}),JU=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:Ro(t.tabviewBehaviours,[yr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},QU=pu({name:"Tabview",configFields:[Mo("tabviewBehaviours",[yr])],factory:JU}),eW=I([Se("selectFirst",!0),Fr("onChangeTab"),Fr("onDismissTab"),Se("tabs",[]),Mo("tabSectionBehaviours",[])]),tW=oi({factory:D$,schema:[Nt("dom"),gl("markers",[Nt("tabClass"),Nt("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),nW=oi({factory:QU,name:"tabview"}),rW=I([tW,nW]),aW=function(t,r,o,s){var l=function(d){var h=xn.getValue(d);va(d,t,"tabview").each(function(p){var y=pt(t.tabs,function(S){return S.value===h});y.each(function(S){var E=S.view();so(d.element,"id").each(function(F){Dr(p.element,"aria-labelledby",F)}),yr.set(p,E),t.onChangeTab(p,d,E)})})},f=function(d,h){va(d,t,"tabbar").each(function(p){h(p).each(pl)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:cg(t.tabSectionBehaviours),events:ya(le([t.selectFirst?[Ka(function(d,h){f(d,Qr.getFirst)})]:[],[It(Cx(),function(d,h){var p=h.event.button;l(p)}),It(Jo(),function(d,h){var p=h.event.button;t.onDismissTab(d,p)})]])),apis:{getViewItems:function(d){return va(d,t,"tabview").map(function(h){return yr.contents(h)}).getOr([])},showTab:function(d,h){var p=function(y){var S=Qr.getCandidates(y),E=pt(S,function(F){return xn.getValue(F)===h});return E.filter(function(F){return!Qr.isHighlighted(y,F)})};f(d,p)}}}},T0=Gi({name:"TabSection",configFields:eW(),partFields:rW(),factory:aW,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),oW=function(t,r,o){return dt(t,function(s,l){yr.set(o,t[l].view());var f=r.dom.getBoundingClientRect();return yr.set(o,[]),f.height})},iW=function(t){return _t(Rr(t,function(r,o){return r>o?-1:r<o?1:0}))},uW=function(t,r,o){var s=xt(t).dom,l=Zh(t,".tox-dialog-wrap").getOr(t),f=no(l,"position")==="fixed",d;f?d=Math.max(s.clientHeight,window.innerHeight):d=Math.max(s.offsetHeight,s.scrollHeight);var h=To(r),p=r.dom.offsetLeft>=o.dom.offsetLeft+Si(o),y=p?Math.max(To(o),h):h,S=parseInt(no(t,"margin-top"),10)||0,E=parseInt(no(t,"margin-bottom"),10)||0,F=To(t)+S+E,R=F-y;return d-R},sW=function(t,r){_t(t).each(function(o){return T0.showTab(r,o.value)})},_$=function(t,r){mr(t,"height",r+"px"),Jn().browser.isIE()?la(t,"flex-basis"):mr(t,"flex-basis",r+"px")},EA=function(t,r,o){Zh(t,'[role="dialog"]').each(function(s){Co(s,'[role="tablist"]').each(function(l){o.get().map(function(f){return mr(r,"height","0"),mr(r,"flex-basis","0"),Math.min(f,uW(s,r,l))}).each(function(f){_$(r,f)})})})},BN=function(t){return Co(t,'[role="tabpanel"]')},cW=function(t){var r=function(){var s=Za(),l=[Ka(function(d){var h=d.element;BN(h).each(function(p){mr(p,"visibility","hidden"),d.getSystem().getByDom(p).toOptional().each(function(y){var S=oW(t,p,y),E=iW(S);E.fold(s.clear,s.set)}),EA(h,p,s),la(p,"visibility"),sW(t,d),_l.requestAnimationFrame(function(){EA(h,p,s)})})}),It(Xs(),function(d){var h=d.element;BN(h).each(function(p){EA(h,p,s)})}),It(O1,function(d,h){var p=d.element;BN(p).each(function(y){var S=Sl(cr(y));mr(y,"visibility","hidden");var E=Vo(y,"height").map(function(W){return parseInt(W,10)});la(y,"height"),la(y,"flex-basis");var F=y.dom.getBoundingClientRect().height,R=E.forall(function(W){return F>W});R?(s.set(F),EA(p,y,s)):E.each(function(W){_$(y,W)}),la(y,"visibility"),S.each(Fc)})})],f=!1;return{extraEvents:l,selectFirst:f}}(),o=function(){var s=[],l=!0;return{extraEvents:s,selectFirst:l}}();return{smartTabHeight:r,naiveTabHeight:o}},P$="send-data-to-section",B$="send-data-to-view",lW=function(t,r){var o=Qn({}),s=function(p){var y=xn.getValue(p),S=A$(y).getOr({}),E=o.get(),F=wt(E,S);o.set(F)},l=function(p){var y=o.get();xn.setValue(p,y)},f=Qn(null),d=dt(t.tabs,function(p){return{value:p.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(p.title)},view:function(){return[im.sketch(function(y){return{dom:{tag:"div",classes:["tox-form"]},components:dt(p.items,function(S){return OC(y,S,r)}),formBehaviours:fn([tr.config({mode:"acyclic",useTabstopAt:et(um)}),Ar("TabView.form.events",[Ka(l),Ru(s)]),os.config({channels:$f([{key:P$,value:{onReceive:s}},{key:B$,value:{onReceive:l}}])})])}})]}}}),h=cW(d).smartTabHeight;return T0.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(p,y,S){var E=xn.getValue(y);er(p,DE,{name:E,oldName:f.get()}),f.set(E)},tabs:d,components:[T0.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[D$.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:fn([Ja.config({})])}),T0.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:h.selectFirst,tabSectionBehaviours:fn([Ar("tabpanel",h.extraEvents),tr.config({mode:"acyclic"}),$r.config({find:function(p){return _t(T0.getViewItems(p))}}),xn.config({store:{mode:"manual",getValue:function(p){return p.getSystem().broadcastOn([P$],{}),o.get()},setValue:function(p,y){o.set(y),p.getSystem().broadcastOn([B$],{})}}})])})},FN=Bn("update-dialog"),F$=Bn("update-title"),M$=Bn("update-body"),R$=Bn("update-footer"),N$=Bn("body-send-message"),I$=function(t,r,o,s){var l=function(h){switch(h.body.type){case"tabpanel":return[lW(h.body,o)];default:return[jU(h.body,o)]}},f=function(h,p){return C.some({isTabPanel:function(){return p.body.type==="tabpanel"}})},d={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:$($({},r.map(function(h){return{id:h}}).getOr({})),s?d:{})},components:[],behaviours:fn([lc.childAt(0),ds.config({channel:M$,updateState:f,renderComponents:l,initialData:t})])}},fW=function(t,r,o,s){return I$(t,C.some(r),o,s)},vW=function(t,r){var o=I$(t,C.none(),r,!1);return Io.parts.body(o)},dW=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[DT({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:fn([Ja.config({}),fr.config({})])})]}],behaviours:fn([tr.config({mode:"acyclic",useTabstopAt:et(um)})])};return Io.parts.body(r)},mW=tw.deviceType.isTouch(),$$=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},z$=function(t,r){return Io.parts.close(hi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:fn([Ja.config({})])}))},L$=function(){return Io.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},H$=function(t,r){return Io.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:wr("<p>"+r.translate(t)+"</p>")}]}]})},V$=function(t){return Io.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},U$=function(t,r){return[pi.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),pi.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},MN=function(t){var r,o="tox-dialog",s=o+"-wrap",l=s+"__backdrop",f=o+"__disable-scroll";return Io.sketch({lazySink:t.lazySink,onEscape:function(d){return t.onEscape(d),C.some(!0)},useTabstopAt:function(d){return!um(d)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:$({position:"relative"},t.extraStyles)},components:Oe([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:wr('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:mW?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:s,modalBehaviours:fn(Oe([fr.config({}),Ar("dialog-events",t.dialogEvents.concat([bl(Kl(),function(d,h){tr.focusIn(d)})])),Ar("scroll-lock",[Ka(function(){Wo(ia(),f)}),Ru(function(){wo(ia(),f)})])],t.extraBehaviours,!0)),eventOrder:$((r={},r[Fu()]=["dialog-events"],r[Mu()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Hm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},W$=function(t){return hi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[oc("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){Ir(r,Hu)}})},j$=function(t,r,o){var s=function(l){return[Uf(o.translate(l.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:$({},r.map(function(l){return{id:l}}).getOr({}))},components:s(t),behaviours:fn([ds.config({channel:F$,renderComponents:s})])}},q$=function(){return{dom:wr('<div class="tox-dialog__draghandle"></div>')}},gW=function(t,r,o){return pi.sketch({dom:wr('<div class="tox-dialog__header"></div>'),components:[j$(t,C.some(r),o),q$(),W$(o)],containerBehaviours:fn([xh.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return ru(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},hW=function(t,r){var o=Io.parts.title(j$(t,C.none(),r)),s=Io.parts.draghandle(q$()),l=Io.parts.close(W$(r)),f=[o].concat(t.draggable?[s]:[]).concat([l]);return pi.sketch({dom:wr('<div class="tox-dialog__header"></div>'),components:f})},G$=function(t,r){return hW({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},K$=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:wr('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},X$=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){Io.setBusy(t(),function(l,f){return K$(s.message,f,r)})},onUnblock:function(){Io.setIdle(t())}}},Y$=function(t,r,o,s){var l,f=function(d,h){return C.some(h)};return di(MN($($({},t),{lazySink:s.shared.getSink,extraBehaviours:Oe([ds.config({channel:FN,updateState:f,initialData:r}),_v.memory({})],t.extraBehaviours,!0),onEscape:function(d){Ir(d,Hu)},dialogEvents:o,eventOrder:(l={},l[ts()]=[ds.name(),os.name()],l[Mu()]=["scroll-lock",ds.name(),"messages","dialog-events","alloy.base.behaviour"],l[Hm()]=["alloy.base.behaviour","dialog-events","messages",ds.name(),"scroll-lock"],l)})))},Z$=function(t){var r=function(o){var s=dt(o.items,function(l){var f=Qn(!1);return $($({},l),{storage:f})});return $($({},o),{items:s})};return dt(t,function(o){return o.type==="menu"?r(o):o})},J$=function(t){return Dt(t,function(r,o){if(o.type==="menu"){var s=o;return Dt(s.items,function(l,f){return l[f.name]=f.storage,l},r)}return r},{})},Q$=function(t,r){return[Yl(Kl(),qM),t(yu,function(o,s){r.onClose(),s.onClose()}),t(Hu,function(o,s,l,f){s.onCancel(o),Ir(f,yu)}),It(em,function(o,s){return r.onUnblock()}),It(T1,function(o,s){return r.onBlock(s.event)})]},pW=function(t,r){var o=function(l,f){return It(l,function(d,h){s(d,function(p,y){f(t(),p,h.event,d)})})},s=function(l,f){ds.getState(l).get().each(function(d){f(d,l)})};return Oe(Oe([],Q$(o,r),!0),[o(Vc,function(l,f,d){f.onAction(l,{name:d.name})})],!1)},bW=function(t,r,o){var s=function(f,d){return It(f,function(h,p){l(h,function(y,S){d(t(),y,p.event,h)})})},l=function(f,d){ds.getState(f).get().each(function(h){d(h.internalDialog,f)})};return Oe(Oe([],Q$(s,r),!0),[s(Qd,function(f,d){return d.onSubmit(f)}),s(bu,function(f,d,h){d.onChange(f,{name:h.name})}),s(Vc,function(f,d,h,p){var y=function(){return tr.focusIn(p)},S=function(R){return Eh(R,"disabled")||so(R,"aria-disabled").exists(function(W){return W==="true"})},E=cr(p.element),F=Sl(E);d.onAction(f,{name:h.name,value:h.value}),Sl(E).fold(y,function(R){S(R)||F.exists(function(W){return Ni(R,W)&&S(W)})?y():o().toOptional().filter(function(W){return!Ni(W.element,R)}).each(y)})}),s(DE,function(f,d,h){d.onTabChange(f,{newTabName:h.name,oldTabName:h.oldName})}),Ru(function(f){var d=t();xn.setValue(f,d.getData())})],!1)},RN={initUrlDialog:pW,initDialog:bW},yW=function(t,r){return fm(t,t.type,r)},wW=function(t,r,o){return pt(r,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},CW=function(t,r){var o=r.map(function(h){return h.footerButtons}).getOr([]),s=Ne(o,function(h){return h.align==="start"}),l=function(h,p){return pi.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+h]},components:dt(p,function(y){return y.memento.asSpec()})})},f=l("start",s.pass),d=l("end",s.fail);return[f,d]},ez=function(t,r){var o=function(s,l){var f=dt(l.buttons,function(h){var p=Jr(yW(h,r));return{name:h.name,align:h.align,memento:p}}),d=function(h,p){return wW(h,f,p)};return C.some({lookupByName:d,footerButtons:f})};return{dom:wr('<div class="tox-dialog__footer"></div>'),components:[],behaviours:fn([ds.config({channel:R$,initialData:t,updateState:o,renderComponents:CW})])}},xW=function(t,r){return ez(t,r)},tz=function(t,r){return Io.parts.footer(ez(t,r))},NN=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var s=$r.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return im.getField(s,r).fold(function(){var l=t.getFooter(),f=ds.getState(l);return f.get().bind(function(d){return d.lookupByName(s,r)})},function(l){return C.some(l)})}else return C.none()},SW=function(t,r){var o=t.getRoot();return ds.getState(o).get().map(function(s){return qs(ja("data",s.dataValidator,r))}).getOr(r)},nz=function(t,r,o){var s=function(ee){var pe=t.getRoot();pe.getSystem().isConnected()&&ee(pe)},l=function(){var ee=t.getRoot(),pe=ee.getSystem().isConnected()?t.getFormWrapper():ee,K=xn.getValue(pe),Ce=Jt(o,function(mt){return mt.get()});return $($({},K),Ce)},f=function(ee){s(function(pe){var K=W.getData(),Ce=$($({},K),ee),mt=SW(t,Ce),bt=t.getFormWrapper();xn.setValue(bt,mt),dn(o,function(ye,tt){Ut(Ce,tt)&&ye.set(Ce[tt])})})},d=function(ee){NN(t,ee).each(Yn.disable)},h=function(ee){NN(t,ee).each(Yn.enable)},p=function(ee){NN(t,ee).each(fr.focus)},y=function(ee){if(!ue(ee))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(pe){er(pe,T1,{message:ee})})},S=function(){s(function(ee){Ir(ee,em)})},E=function(ee){s(function(pe){var K=t.getBody(),Ce=ds.getState(K);Ce.get().exists(function(mt){return mt.isTabPanel()})&&$r.getCurrent(K).each(function(mt){T0.showTab(mt,ee)})})},F=function(ee){s(function(pe){var K=r(ee);pe.getSystem().broadcastOn([FN],K),pe.getSystem().broadcastOn([F$],K.internalDialog),pe.getSystem().broadcastOn([M$],K.internalDialog),pe.getSystem().broadcastOn([R$],K.internalDialog),W.setData(K.initialData)})},R=function(){s(function(ee){Ir(ee,yu)})},W={getData:l,setData:f,disable:d,enable:h,focus:p,block:y,unblock:S,showTab:E,redial:F,close:R};return W},kW=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},EW=function(t,r,o){var s=G$(t.internalDialog.title,o),l=vW({body:t.internalDialog.body},o),f=Z$(t.internalDialog.buttons),d=J$(f),h=tz({buttons:f},o),p=RN.initDialog(function(){return R},X$(function(){return E},o.shared.providers,r),o.shared.getSink),y=kW(t.internalDialog.size),S={header:s,body:l,footer:C.some(h),extraClasses:y,extraBehaviours:[],extraStyles:{}},E=Y$(S,t,p,o),F=function(){var W=function(){var ee=Io.getBody(E);return $r.getCurrent(ee).getOr(ee)};return{getRoot:I(E),getBody:function(){return Io.getBody(E)},getFooter:function(){return Io.getFooter(E)},getFormWrapper:W}}(),R=nz(F,r.redial,d);return{dialog:E,instanceApi:R}},TW=function(t,r,o,s){var l,f,d=Bn("dialog-label"),h=Bn("dialog-content"),p=function(K,Ce){return C.some(Ce)},y=Jr(gW({title:t.internalDialog.title,draggable:!0},d,o.shared.providers)),S=Jr(fW({body:t.internalDialog.body},h,o,s)),E=Z$(t.internalDialog.buttons),F=J$(E),R=Jr(xW({buttons:E},o)),W=RN.initDialog(function(){return pe},{onBlock:function(K){Dn.block(ee,function(Ce,mt){return K$(K.message,mt,o.shared.providers)})},onUnblock:function(){Dn.unblock(ee)},onClose:function(){return r.closeWindow()}},o.shared.getSink),ee=di({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(l={role:"dialog"},l["aria-labelledby"]=d,l["aria-describedby"]=h,l)},eventOrder:(f={},f[ts()]=[ds.name(),os.name()],f[Fu()]=["execute-on-form"],f[Mu()]=["reflecting","execute-on-form"],f),behaviours:fn([tr.config({mode:"cyclic",onEscape:function(K){return Ir(K,yu),C.some(!0)},useTabstopAt:function(K){return!um(K)&&(ne(K)!=="button"||Ma(K,"disabled")!=="disabled")}}),ds.config({channel:FN,updateState:p,initialData:t}),fr.config({}),Ar("execute-on-form",W.concat([bl(Kl(),function(K,Ce){tr.focusIn(K)})])),Dn.config({getRoot:function(){return C.some(ee)}}),yr.config({}),_v.memory({})]),components:[y.asSpec(),S.asSpec(),R.asSpec()]}),pe=nz({getRoot:I(ee),getFooter:function(){return R.get(ee)},getBody:function(){return S.get(ee)},getFormWrapper:function(){var K=S.get(ee);return $r.getCurrent(K).getOr(K)}},r.redial,F);return{dialog:ee,instanceApi:pe}},IN=tinymce.util.Tools.resolve("tinymce.util.URI"),OW=function(t){var r=function(d){t.getSystem().isConnected()&&d(t)},o=function(d){if(!ue(d))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(h){er(h,T1,{message:d})})},s=function(){r(function(d){Ir(d,em)})},l=function(){r(function(d){Ir(d,yu)})},f=function(d){r(function(h){h.getSystem().broadcastOn([N$],d)})};return{block:o,unblock:s,close:l,sendMessage:f}},AW=["insertContent","setContent","execCommand","close","block","unblock"],rz=function(t){return Pe(t)&&AW.indexOf(t.mceAction)!==-1},DW=function(t){return!rz(t)&&Pe(t)&&Ut(t,"mceAction")},_W=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=He(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},PW=function(t,r,o,s){var l,f=G$(t.title,s),d=dW(t),h=t.buttons.bind(function(Ce){return Ce.length===0?C.none():C.some(tz({buttons:Ce},s))}),p=RN.initUrlDialog(function(){return K},X$(function(){return pe},s.shared.providers,r)),y=$($({},t.height.fold(function(){return{}},function(Ce){return{height:Ce+"px","max-height":Ce+"px"}})),t.width.fold(function(){return{}},function(Ce){return{width:Ce+"px","max-width":Ce+"px"}})),S=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],E=new IN(t.url,{base_uri:new IN(window.location.href)}),F=E.protocol+"://"+E.host+(E.port?":"+E.port:""),R=Xf(),W=[Ar("messages",[Ka(function(){var Ce=mo(Q.fromDom(window),"message",function(mt){if(E.isSameOrigin(new IN(mt.raw.origin))){var bt=mt.raw.data;rz(bt)?_W(o,K,bt):DW(bt)&&t.onMessage(K,bt)}});R.set(Ce)}),Ru(R.clear)]),os.config({channels:(l={},l[N$]={onReceive:function(Ce,mt){Co(Ce.element,"iframe").each(function(bt){var ye=bt.dom.contentWindow;ye.postMessage(mt,F)})}},l)})],ee={header:f,body:d,footer:h,extraClasses:S,extraBehaviours:W,extraStyles:y},pe=Y$(ee,t,p,s),K=OW(pe);return{dialog:pe,instanceApi:K}},BW=function(t){var r=t.backstage.shared,o=function(s,l){var f=function(){Io.hide(y),l()},d=Jr(fm({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:C.none()},"cancel",t.backstage)),h=L$(),p=z$(f,r.providers),y=di(MN({lazySink:function(){return r.getSink()},header:$$(h,p),body:H$(s,r.providers),footer:C.some(V$(U$([],[d.asSpec()]))),onEscape:f,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[It(Hu,f)],eventOrder:{}}));Io.show(y);var S=d.get(y);fr.focus(S)};return{open:o}},FW=function(t){var r=t.backstage.shared,o=function(s,l){var f=function(F){Io.hide(S),l(F)},d=Jr(fm({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:C.none()},"submit",t.backstage)),h=fm({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:C.none()},"cancel",t.backstage),p=L$(),y=z$(function(){return f(!1)},r.providers),S=di(MN({lazySink:function(){return r.getSink()},header:$$(p,y),body:H$(s,r.providers),footer:C.some(V$(U$([],[h,d.asSpec()]))),onEscape:function(){return f(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[It(Hu,function(){return f(!1)}),It(Qd,function(){return f(!0)})],eventOrder:{}}));Io.show(S);var E=d.get(S);fr.focus(E)};return{open:o}},MW=function(t,r){return qs(ja("data",r,t))},RW=function(t){return qg(t,".tox-alert-dialog")||qg(t,".tox-confirm-dialog")},NW=function(t,r,o){return r&&o?[]:[Ko.config({contextual:{lazyContext:function(){return C.some(Bo(Q.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},IW=function(t){var r=t.backstage,o=t.editor,s=h1(o),l=BW(t),f=FW(t),d=function(W,ee,pe){return ee!==void 0&&ee.inline==="toolbar"?S(W,r.shared.anchors.inlineDialog(),pe,ee.ariaAttrs):ee!==void 0&&ee.inline==="cursor"?S(W,r.shared.anchors.cursor(),pe,ee.ariaAttrs):y(W,pe)},h=function(W,ee){return p(W,ee)},p=function(W,ee){var pe=function(K){var Ce=PW(K,{closeWindow:function(){Io.hide(Ce.dialog),ee(Ce.instanceApi)}},o,r);return Io.show(Ce.dialog),Ce.instanceApi};return YC.openUrl(pe,W)},y=function(W,ee){var pe=function(K,Ce,mt){var bt=Ce,ye={dataValidator:mt,initialData:bt,internalDialog:K},tt=EW(ye,{redial:YC.redial,closeWindow:function(){Io.hide(tt.dialog),ee(tt.instanceApi)}},r);return Io.show(tt.dialog),tt.instanceApi.setData(bt),tt.instanceApi};return YC.open(pe,W)},S=function(W,ee,pe,K){var Ce=function(mt,bt,ye){var tt=MW(bt,ye),Ot=Za(),yn=r.shared.header.isPositionedAtTop(),At={dataValidator:ye,initialData:tt,internalDialog:mt},wn=function(){return Ot.on(function(pn){Na.reposition(pn),Ko.refresh(pn)})},zt=TW(At,{redial:YC.redial,closeWindow:function(){Ot.on(Na.hide),o.off("ResizeEditor",wn),Ot.clear(),pe(zt.instanceApi)}},r,K),Et=di(Na.sketch($($({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},yn?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:fn(Oe([Ar("window-manager-inline-events",[It(Ys(),function(pn,zn){Ir(zt.dialog,Hu)})])],NW(o,s,yn),!0)),isExtraPart:function(pn,zn){return RW(zn)}})));return Ot.set(Et),Na.showWithin(Et,Nu(zt.dialog),{anchor:ee},C.some(ia())),(!s||!yn)&&(Ko.refresh(Et),o.on("ResizeEditor",wn)),zt.instanceApi.setData(tt),tr.focusIn(zt.dialog),zt.instanceApi};return YC.open(Ce,W)},E=function(W,ee){f.open(W,function(pe){ee(pe)})},F=function(W,ee){l.open(W,function(){ee()})},R=function(W){W.close()};return{open:d,openUrl:h,alert:F,close:R,confirm:E}};function $W(){Je.add("silver",function(t){var r=yV(t),o=r.uiMothership,s=r.backstage,l=r.renderUI,f=r.getUi;eF.register(t,s.shared);var d=IW({editor:t,backstage:s});return{renderUI:l,getWindowManagerImpl:I(d),getNotificationManagerImpl:function(){return JP(t,{backstage:s},o)},ui:f()}})}$W()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(ae,Oe,Kt){var Ie=Oe==="UL"?"InsertUnorderedList":"InsertOrderedList";ae.execCommand(Ie,!1,Kt===!1?null:{"list-style-type":Kt})},X=function(ae){ae.addCommand("ApplyUnorderedListStyle",function(Oe,Kt){D(ae,"UL",Kt["list-style-type"])}),ae.addCommand("ApplyOrderedListStyle",function(Oe,Kt){D(ae,"OL",Kt["list-style-type"])})},oe=tinymce.util.Tools.resolve("tinymce.util.Tools"),ue=function(ae){var Oe=ae.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return Oe?Oe.split(/[ ,]/):[]},Pe=function(ae){var Oe=ae.getParam("advlist_bullet_styles","default,circle,square");return Oe?Oe.split(/[ ,]/):[]},at=function(){},ct=function(ae){return function(){return ae}},He=function(ae){return ae},Ft=ct(!1),Te=ct(!0),se=function(){return Re},Re=function(){var ae=function(Ie){return Ie()},Oe=He,Kt={fold:function(Ie,cn){return Ie()},isSome:Ft,isNone:Te,getOr:Oe,getOrThunk:ae,getOrDie:function(Ie){throw new Error(Ie||"error: getOrDie called on none.")},getOrNull:ct(null),getOrUndefined:ct(void 0),or:Oe,orThunk:ae,map:se,each:at,bind:se,exists:Ft,forall:Te,filter:function(){return se()},toArray:function(){return[]},toString:ct("none()")};return Kt}(),Be=function(ae){var Oe=ct(ae),Kt=function(){return cn},Ie=function(an){return an(ae)},cn={fold:function(an,C){return C(ae)},isSome:Te,isNone:Ft,getOr:Oe,getOrThunk:Oe,getOrDie:Oe,getOrNull:Oe,getOrUndefined:Oe,or:Kt,orThunk:Kt,map:function(an){return Be(an(ae))},each:function(an){an(ae)},bind:Ie,exists:Ie,forall:Ie,filter:function(an){return an(ae)?cn:Re},toArray:function(){return[ae]},toString:function(){return"some("+ae+")"}};return cn},Xe=function(ae){return ae==null?Re:Be(ae)},ve={some:Be,none:se,from:Xe},yt=function(ae,Oe){return ae.$.contains(ae.getBody(),Oe)},Qe=function(ae){return ae&&/^(TH|TD)$/.test(ae.nodeName)},Vt=function(ae){return function(Oe){return Oe&&/^(OL|UL|DL)$/.test(Oe.nodeName)&&yt(ae,Oe)}},I=function(ae){var Oe=ae.dom.getParent(ae.selection.getNode(),"ol,ul"),Kt=ae.dom.getStyle(Oe,"listStyleType");return ve.from(Kt)},je=function(ae,Oe){for(var Kt=0;Kt<ae.length;Kt++){var Ie=ae[Kt];if(Oe(Ie))return Kt}return-1},we=function(ae){return ae.replace(/\-/g," ").replace(/\b\w/g,function(Oe){return Oe.toUpperCase()})},St=function(ae,Oe,Kt){var Ie=je(Oe.parents,Qe),cn=Ie!==-1?Oe.parents.slice(0,Ie):Oe.parents,an=oe.grep(cn,Vt(ae));return an.length>0&&an[0].nodeName===Kt},et=function(ae,Oe){return function(Kt){var Ie=function(cn){Kt.setActive(St(ae,cn,Oe))};return ae.on("NodeChange",Ie),function(){return ae.off("NodeChange",Ie)}}},Ae=function(ae,Oe,Kt,Ie,cn,an){ae.ui.registry.addSplitButton(Oe,{tooltip:Kt,icon:cn==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(C){var rt=oe.map(an,function(ft){var jt=cn==="OL"?"num":"bull",ze=ft==="disc"||ft==="decimal"?"default":ft,Yt=ft==="default"?"":ft,Zt=we(ft);return{type:"choiceitem",value:Yt,icon:"list-"+jt+"-"+ze,text:Zt}});C(rt)},onAction:function(){return ae.execCommand(Ie)},onItemAction:function(C,rt){D(ae,cn,rt)},select:function(C){var rt=I(ae);return rt.map(function(ft){return C===ft}).getOr(!1)},onSetup:et(ae,cn)})},Ue=function(ae,Oe,Kt,Ie,cn,an){ae.ui.registry.addToggleButton(Oe,{active:!1,tooltip:Kt,icon:cn==="OL"?"ordered-list":"unordered-list",onSetup:et(ae,cn),onAction:function(){return ae.execCommand(Ie)}})},Ee=function(ae,Oe,Kt,Ie,cn,an){an.length>1?Ae(ae,Oe,Kt,Ie,cn,an):Ue(ae,Oe,Kt,Ie,cn)},Je=function(ae){Ee(ae,"numlist","Numbered list","InsertOrderedList","OL",ue(ae)),Ee(ae,"bullist","Bullet list","InsertUnorderedList","UL",Pe(ae))};function $(){Y.add("advlist",function(ae){ae.hasPlugin("lists")?(Je(ae),X(ae)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}$()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),X=tinymce.util.Tools.resolve("tinymce.util.Tools"),oe=function(Je){return Je.getParam("allow_html_in_named_anchor",!1,"boolean")},ue="a:not([href])",Pe=function(Je){return!Je},at=function(Je){var $=Je.getAttribute("id")||Je.getAttribute("name");return $||""},ct=function(Je){return Je&&Je.nodeName.toLowerCase()==="a"},He=function(Je){return ct(Je)&&!Je.getAttribute("href")&&at(Je)!==""},Ft=function(Je){return He(Je)&&!Je.firstChild},Te=function(Je){var $=Je.dom;D($).walk(Je.selection.getRng(),function(ae){X.each(ae,function(Oe){Ft(Oe)&&$.remove(Oe,!1)})})},se=function(Je){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Je)},Re=function(Je){return Je.dom.getParent(Je.selection.getStart(),ue)},Be=function(Je){var $=Re(Je);return $?at($):""},Xe=function(Je,$){Je.undoManager.transact(function(){oe(Je)||Je.selection.collapse(!0),Je.selection.isCollapsed()?Je.insertContent(Je.dom.createHTML("a",{id:$})):(Te(Je),Je.formatter.remove("namedAnchor",null,null,!0),Je.formatter.apply("namedAnchor",{value:$}),Je.addVisual())})},ve=function(Je,$,ae){ae.removeAttribute("name"),ae.id=$,Je.addVisual(),Je.undoManager.add()},yt=function(Je,$){var ae=Re(Je);ae?ve(Je,$,ae):Xe(Je,$),Je.focus()},Qe=function(Je,$){return se($)?(yt(Je,$),!0):(Je.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},Vt=function(Je){var $=Be(Je);Je.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:$},onSubmit:function(ae){Qe(Je,ae.getData().id)&&ae.close()}})},I=function(Je){Je.addCommand("mceAnchor",function(){Vt(Je)})},je=function(Je){return Je&&Pe(Je.attr("href"))&&!Pe(Je.attr("id")||Je.attr("name"))},we=function(Je){return je(Je)&&!Je.firstChild},St=function(Je){return function($){for(var ae=0;ae<$.length;ae++){var Oe=$[ae];we(Oe)&&Oe.attr("contenteditable",Je)}}},et=function(Je){Je.on("PreInit",function(){Je.parser.addNodeFilter("a",St("false")),Je.serializer.addNodeFilter("a",St(null))})},Ae=function(Je){Je.formatter.register("namedAnchor",{inline:"a",selector:ue,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function($,ae,Oe){return He($)}})},Ue=function(Je){Je.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return Je.execCommand("mceAnchor")},onSetup:function($){return Je.selection.selectorChangedWithUnbind("a:not([href])",$.setActive).unbind}}),Je.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return Je.execCommand("mceAnchor")}})};function Ee(){Y.add("anchor",function(Je){et(Je),I(Je),Ue(Je),Je.on("PreInit",function(){Ae(Je)})})}Ee()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(Ae,Ue,Ee){return Ue===""||Ae.length>=Ue.length&&Ae.substr(Ee,Ee+Ue.length)===Ue},X=function(Ae,Ue){return Ae.indexOf(Ue)!==-1},oe=function(Ae,Ue){return D(Ae,Ue,0)},ue=tinymce.util.Tools.resolve("tinymce.Env"),Pe=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},at=new RegExp("^"+Pe().source+"$","i"),ct=function(Ae){return Ae.getParam("autolink_pattern",at)},He=function(Ae){return Ae.getParam("default_link_target",!1)},Ft=function(Ae){return Ae.getParam("link_default_protocol","http","string")},Te=function(Ae){return/^[(\[{ \u00a0]$/.test(Ae)},se=function(Ae){return Ae.nodeType===3},Re=function(Ae){return Ae.nodeType===1},Be=function(Ae){return we(Ae,-1)},Xe=function(Ae){return we(Ae,0)},ve=function(Ae){return we(Ae,-1)},yt=function(Ae,Ue){if(Ue<0&&(Ue=0),se(Ae)){var Ee=Ae.data.length;Ue>Ee&&(Ue=Ee)}return Ue},Qe=function(Ae,Ue,Ee){!Re(Ue)||Ue.hasChildNodes()?Ae.setStart(Ue,yt(Ue,Ee)):Ae.setStartBefore(Ue)},Vt=function(Ae,Ue,Ee){!Re(Ue)||Ue.hasChildNodes()?Ae.setEnd(Ue,yt(Ue,Ee)):Ae.setEndAfter(Ue)},I=function(Ae){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ae)},je=function(Ae){return/[?!,.;:]/.test(Ae)},we=function(Ae,Ue){var Ee,Je,$,ae,Oe,Kt,Ie,cn=ct(Ae),an=He(Ae);if(Ae.dom.getParent(Ae.selection.getNode(),"a[href]")===null){var C=Ae.selection.getRng().cloneRange();if(C.startOffset<5){if(Oe=C.endContainer.previousSibling,!Oe){if(!C.endContainer.firstChild||!C.endContainer.firstChild.nextSibling)return;Oe=C.endContainer.firstChild.nextSibling}if(Kt=Oe.length,Qe(C,Oe,Kt),Vt(C,Oe,Kt),C.endOffset<5)return;Ee=C.endOffset,Je=Oe}else{if(Je=C.endContainer,!se(Je)&&Je.firstChild){for(;!se(Je)&&Je.firstChild;)Je=Je.firstChild;se(Je)&&(Qe(C,Je,0),Vt(C,Je,Je.nodeValue.length))}C.endOffset===1?Ee=2:Ee=C.endOffset-1-Ue}var rt=Ee;do Qe(C,Je,Ee>=2?Ee-2:0),Vt(C,Je,Ee>=1?Ee-1:0),Ee-=1,Ie=C.toString();while(!Te(Ie)&&Ee-2>=0);Te(C.toString())?(Qe(C,Je,Ee),Vt(C,Je,rt),Ee+=1):C.startOffset===0?(Qe(C,Je,0),Vt(C,Je,rt)):(Qe(C,Je,Ee),Vt(C,Je,rt)),ae=C.toString(),je(ae.charAt(ae.length-1))&&Vt(C,Je,rt-1),ae=C.toString().trim();var ft=ae.match(cn),jt=Ft(Ae);if(ft){var ze=ft[0];oe(ze,"www.")?ze=jt+"://"+ze:X(ze,"@")&&!I(ze)&&(ze="mailto:"+ze),$=Ae.selection.getBookmark(),Ae.selection.setRng(C),Ae.execCommand("createlink",!1,ze),an!==!1&&Ae.dom.setAttrib(Ae.selection.getNode(),"target",an),Ae.selection.moveToBookmark($),Ae.nodeChanged()}}},St=function(Ae){var Ue;if(Ae.on("keydown",function(Ee){if(Ee.keyCode===13)return ve(Ae)}),ue.browser.isIE()){Ae.on("focus",function(){if(!Ue){Ue=!0;try{Ae.execCommand("AutoUrlDetect",!1,!0)}catch(Ee){}}});return}Ae.on("keypress",function(Ee){if(Ee.keyCode===41||Ee.keyCode===93||Ee.keyCode===125)return Be(Ae)}),Ae.on("keyup",function(Ee){if(Ee.keyCode===32)return Xe(Ae)})};function et(){Y.add("autolink",function(Ae){St(Ae)})}et()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function($){return function(ae){return $===ae}},X=D(void 0),oe=tinymce.util.Tools.resolve("tinymce.util.Delay"),ue=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Pe=tinymce.util.Tools.resolve("tinymce.util.Tools"),at=function($){return $.fire("RestoreDraft")},ct=function($){return $.fire("StoreDraft")},He=function($){return $.fire("RemoveDraft")},Ft=function($,ae){var Oe={s:1e3,m:6e4},Kt=$||ae,Ie=/^(\d+)([ms]?)$/.exec(""+Kt);return(Ie[2]?Oe[Ie[2]]:1)*parseInt(Kt,10)},Te=function($){return $.getParam("autosave_ask_before_unload",!0)},se=function($){var ae=document.location;return $.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,ae.pathname).replace(/{query}/g,ae.search).replace(/{hash}/g,ae.hash).replace(/{id}/g,$.id)},Re=function($){return $.getParam("autosave_restore_when_empty",!1)},Be=function($){return Ft($.getParam("autosave_interval"),"30s")},Xe=function($){return Ft($.getParam("autosave_retention"),"20m")},ve=function($,ae){if(X(ae))return $.dom.isEmpty($.getBody());var Oe=Pe.trim(ae);if(Oe==="")return!0;var Kt=new DOMParser().parseFromString(Oe,"text/html");return $.dom.isEmpty(Kt)},yt=function($){var ae=parseInt(ue.getItem(se($)+"time"),10)||0;return new Date().getTime()-ae>Xe($)?(Qe($,!1),!1):!0},Qe=function($,ae){var Oe=se($);ue.removeItem(Oe+"draft"),ue.removeItem(Oe+"time"),ae!==!1&&He($)},Vt=function($){var ae=se($);!ve($)&&$.isDirty()&&(ue.setItem(ae+"draft",$.getContent({format:"raw",no_events:!0})),ue.setItem(ae+"time",new Date().getTime().toString()),ct($))},I=function($){var ae=se($);yt($)&&($.setContent(ue.getItem(ae+"draft"),{format:"raw"}),at($))},je=function($){var ae=Be($);oe.setEditorInterval($,function(){Vt($)},ae)},we=function($){$.undoManager.transact(function(){I($),Qe($)}),$.focus()},St=function($){return{hasDraft:function(){return yt($)},storeDraft:function(){return Vt($)},restoreDraft:function(){return I($)},removeDraft:function(ae){return Qe($,ae)},isEmpty:function(ae){return ve($,ae)}}},et=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ae=function($){$.editorManager.on("BeforeUnload",function(ae){var Oe;Pe.each(et.get(),function(Kt){Kt.plugins.autosave&&Kt.plugins.autosave.storeDraft(),!Oe&&Kt.isDirty()&&Te(Kt)&&(Oe=Kt.translate("You have unsaved changes are you sure you want to navigate away?"))}),Oe&&(ae.preventDefault(),ae.returnValue=Oe)})},Ue=function($){return function(ae){ae.setDisabled(!yt($));var Oe=function(){return ae.setDisabled(!yt($))};return $.on("StoreDraft RestoreDraft RemoveDraft",Oe),function(){return $.off("StoreDraft RestoreDraft RemoveDraft",Oe)}}},Ee=function($){je($),$.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){we($)},onSetup:Ue($)}),$.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){we($)},onSetup:Ue($)})};function Je(){Y.add("autosave",function($){return Ae($),Ee($),$.on("init",function(){Re($)&&$.dom.isEmpty($.getBody())&&I($)}),St($)})}Je()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(ct,He){ct.focus(),ct.undoManager.transact(function(){ct.setContent(He)}),ct.selection.setCursorLocation(),ct.nodeChanged()},X=function(ct){return ct.getContent({source_view:!0})},oe=function(ct){var He=X(ct);ct.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:He},onSubmit:function(Ft){D(ct,Ft.getData().code),Ft.close()}})},ue=function(ct){ct.addCommand("mceCodeEditor",function(){oe(ct)})},Pe=function(ct){var He=function(){return ct.execCommand("mceCodeEditor")};ct.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:He}),ct.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:He})};function at(){Y.add("code",function(ct){return ue(ct),Pe(ct),{}})}at()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(){},X=function(rt){return function(){return rt}},oe=function(rt){return rt},ue=X(!1),Pe=X(!0),at=function(){return ct},ct=function(){var rt=function(ze){return ze()},ft=oe,jt={fold:function(ze,Yt){return ze()},isSome:ue,isNone:Pe,getOr:ft,getOrThunk:rt,getOrDie:function(ze){throw new Error(ze||"error: getOrDie called on none.")},getOrNull:X(null),getOrUndefined:X(void 0),or:ft,orThunk:rt,map:at,each:D,bind:at,exists:ue,forall:Pe,filter:function(){return at()},toArray:function(){return[]},toString:X("none()")};return jt}(),He=function(rt){var ft=X(rt),jt=function(){return Yt},ze=function(Zt){return Zt(rt)},Yt={fold:function(Zt,Qt){return Qt(rt)},isSome:Pe,isNone:ue,getOr:ft,getOrThunk:ft,getOrDie:ft,getOrNull:ft,getOrUndefined:ft,or:jt,orThunk:jt,map:function(Zt){return He(Zt(rt))},each:function(Zt){Zt(rt)},bind:ze,exists:ze,forall:ze,filter:function(Zt){return Zt(rt)?Yt:ct},toArray:function(){return[rt]},toString:function(){return"some("+rt+")"}};return Yt},Ft=function(rt){return rt==null?ct:He(rt)},Te={some:He,none:at,from:Ft},se=function(rt,ft){return ft>=0&&ft<rt.length?Te.some(rt[ft]):Te.none()},Re=function(rt){return se(rt,0)},Be=function(rt,ft){return rt?Te.some(ft):Te.none()},Xe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ve=function(rt){return rt&&rt.nodeName==="PRE"&&rt.className.indexOf("language-")!==-1},yt=function(rt){return function(ft,jt){return rt(jt)}},Qe=typeof window!="undefined"?window:Function("return this;")(),Vt={},I={exports:Vt},je={};(function(rt,ft,jt,ze){var Yt=window.Prism;window.Prism={manual:!0},function(Qt,z){typeof ft=="object"&&typeof jt!="undefined"?jt.exports=z():typeof rt=="function"&&rt.amd?rt(z):(Qt=typeof globalThis!="undefined"?globalThis:Qt||self,Qt.EphoxContactWrapper=z())}(this,function(){var Qt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof je!="undefined"?je:typeof self!="undefined"?self:{},z={exports:{}};(function(Fe){var vn=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},Ne=function(De){var nt=/\blang(?:uage)?-([\w-]+)\b/i,Dt=0,ot={},pt={manual:De.Prism&&De.Prism.manual,disableWorkerMessageHandler:De.Prism&&De.Prism.disableWorkerMessageHandler,util:{encode:function _t(Pt){return Pt instanceof $n?new $n(Pt.type,_t(Pt.content),Pt.alias):Array.isArray(Pt)?Pt.map(_t):Pt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_t){return Object.prototype.toString.call(_t).slice(8,-1)},objId:function(_t){return _t.__id||Object.defineProperty(_t,"__id",{value:++Dt}),_t.__id},clone:function _t(Pt,Mt){Mt=Mt||{};var Le,Ye;switch(pt.util.type(Pt)){case"Object":if(Ye=pt.util.objId(Pt),Mt[Ye])return Mt[Ye];Le={},Mt[Ye]=Le;for(var Wt in Pt)Pt.hasOwnProperty(Wt)&&(Le[Wt]=_t(Pt[Wt],Mt));return Le;case"Array":return Ye=pt.util.objId(Pt),Mt[Ye]?Mt[Ye]:(Le=[],Mt[Ye]=Le,Pt.forEach(function(dn,Jt){Le[Jt]=_t(dn,Mt)}),Le);default:return Pt}},getLanguage:function(_t){for(;_t&&!nt.test(_t.className);)_t=_t.parentElement;return _t?(_t.className.match(nt)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Le){var _t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Le.stack)||[])[1];if(_t){var Pt=document.getElementsByTagName("script");for(var Mt in Pt)if(Pt[Mt].src==_t)return Pt[Mt]}return null}},isActive:function(_t,Pt,Mt){for(var Le="no-"+Pt;_t;){var Ye=_t.classList;if(Ye.contains(Pt))return!0;if(Ye.contains(Le))return!1;_t=_t.parentElement}return!!Mt}},languages:{plain:ot,plaintext:ot,text:ot,txt:ot,extend:function(_t,Pt){var Mt=pt.util.clone(pt.languages[_t]);for(var Le in Pt)Mt[Le]=Pt[Le];return Mt},insertBefore:function(_t,Pt,Mt,Le){Le=Le||pt.languages;var Ye=Le[_t],Wt={};for(var dn in Ye)if(Ye.hasOwnProperty(dn)){if(dn==Pt)for(var Jt in Mt)Mt.hasOwnProperty(Jt)&&(Wt[Jt]=Mt[Jt]);Mt.hasOwnProperty(dn)||(Wt[dn]=Ye[dn])}var ke=Le[_t];return Le[_t]=Wt,pt.languages.DFS(pt.languages,function(Rt,bn){bn===ke&&Rt!=_t&&(this[Rt]=Wt)}),Wt},DFS:function _t(Pt,Mt,Le,Ye){Ye=Ye||{};var Wt=pt.util.objId;for(var dn in Pt)if(Pt.hasOwnProperty(dn)){Mt.call(Pt,dn,Pt[dn],Le||dn);var Jt=Pt[dn],ke=pt.util.type(Jt);ke==="Object"&&!Ye[Wt(Jt)]?(Ye[Wt(Jt)]=!0,_t(Jt,Mt,null,Ye)):ke==="Array"&&!Ye[Wt(Jt)]&&(Ye[Wt(Jt)]=!0,_t(Jt,Mt,dn,Ye))}}},plugins:{},highlightAll:function(_t,Pt){pt.highlightAllUnder(document,_t,Pt)},highlightAllUnder:function(_t,Pt,Mt){var Le={callback:Mt,container:_t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};pt.hooks.run("before-highlightall",Le),Le.elements=Array.prototype.slice.apply(Le.container.querySelectorAll(Le.selector)),pt.hooks.run("before-all-elements-highlight",Le);for(var Ye=0,Wt;Wt=Le.elements[Ye++];)pt.highlightElement(Wt,Pt===!0,Le.callback)},highlightElement:function(_t,Pt,Mt){var Le=pt.util.getLanguage(_t),Ye=pt.languages[Le];_t.className=_t.className.replace(nt,"").replace(/\s+/g," ")+" language-"+Le;var Wt=_t.parentElement;Wt&&Wt.nodeName.toLowerCase()==="pre"&&(Wt.className=Wt.className.replace(nt,"").replace(/\s+/g," ")+" language-"+Le);var dn=_t.textContent,Jt={element:_t,language:Le,grammar:Ye,code:dn};function ke(bn){Jt.highlightedCode=bn,pt.hooks.run("before-insert",Jt),Jt.element.innerHTML=Jt.highlightedCode,pt.hooks.run("after-highlight",Jt),pt.hooks.run("complete",Jt),Mt&&Mt.call(Jt.element)}if(pt.hooks.run("before-sanity-check",Jt),Wt=Jt.element.parentElement,Wt&&Wt.nodeName.toLowerCase()==="pre"&&!Wt.hasAttribute("tabindex")&&Wt.setAttribute("tabindex","0"),!Jt.code){pt.hooks.run("complete",Jt),Mt&&Mt.call(Jt.element);return}if(pt.hooks.run("before-highlight",Jt),!Jt.grammar){ke(pt.util.encode(Jt.code));return}if(Pt&&De.Worker){var Rt=new Worker(pt.filename);Rt.onmessage=function(bn){ke(bn.data)},Rt.postMessage(JSON.stringify({language:Jt.language,code:Jt.code,immediateClose:!0}))}else ke(pt.highlight(Jt.code,Jt.grammar,Jt.language))},highlight:function(_t,Pt,Mt){var Le={code:_t,grammar:Pt,language:Mt};return pt.hooks.run("before-tokenize",Le),Le.tokens=pt.tokenize(Le.code,Le.grammar),pt.hooks.run("after-tokenize",Le),$n.stringify(pt.util.encode(Le.tokens),Le.language)},tokenize:function(_t,Pt){var Mt=Pt.rest;if(Mt){for(var Le in Mt)Pt[Le]=Mt[Le];delete Pt.rest}var Ye=new ln;return En(Ye,Ye.head,_t),vt(_t,Ye,Pt,Ye.head,0),jn(Ye)},hooks:{all:{},add:function(_t,Pt){var Mt=pt.hooks.all;Mt[_t]=Mt[_t]||[],Mt[_t].push(Pt)},run:function(_t,Pt){var Mt=pt.hooks.all[_t];if(!(!Mt||!Mt.length))for(var Le=0,Ye;Ye=Mt[Le++];)Ye(Pt)}},Token:$n};De.Prism=pt;function $n(_t,Pt,Mt,Le){this.type=_t,this.content=Pt,this.alias=Mt,this.length=(Le||"").length|0}$n.stringify=function _t(Pt,Mt){if(typeof Pt=="string")return Pt;if(Array.isArray(Pt)){var Le="";return Pt.forEach(function(ke){Le+=_t(ke,Mt)}),Le}var Ye={type:Pt.type,content:_t(Pt.content,Mt),tag:"span",classes:["token",Pt.type],attributes:{},language:Mt},Wt=Pt.alias;Wt&&(Array.isArray(Wt)?Array.prototype.push.apply(Ye.classes,Wt):Ye.classes.push(Wt)),pt.hooks.run("wrap",Ye);var dn="";for(var Jt in Ye.attributes)dn+=" "+Jt+'="'+(Ye.attributes[Jt]||"").replace(/"/g,"&quot;")+'"';return"<"+Ye.tag+' class="'+Ye.classes.join(" ")+'"'+dn+">"+Ye.content+"</"+Ye.tag+">"};function le(_t,Pt,Mt,Le){_t.lastIndex=Pt;var Ye=_t.exec(Mt);if(Ye&&Le&&Ye[1]){var Wt=Ye[1].length;Ye.index+=Wt,Ye[0]=Ye[0].slice(Wt)}return Ye}function vt(_t,Pt,Mt,Le,Ye,Wt){for(var dn in Mt)if(!(!Mt.hasOwnProperty(dn)||!Mt[dn])){var Jt=Mt[dn];Jt=Array.isArray(Jt)?Jt:[Jt];for(var ke=0;ke<Jt.length;++ke){if(Wt&&Wt.cause==dn+","+ke)return;var Rt=Jt[ke],bn=Rt.inside,un=!!Rt.lookbehind,Nn=!!Rt.greedy,fe=Rt.alias;if(Nn&&!Rt.pattern.global){var Ct=Rt.pattern.toString().match(/[imsuy]*$/)[0];Rt.pattern=RegExp(Rt.pattern.source,Ct+"g")}for(var it=Rt.pattern||Rt,Ut=Le.next,Pn=Ye;Ut!==Pt.tail&&!(Wt&&Pn>=Wt.reach);Pn+=Ut.value.length,Ut=Ut.next){var sr=Ut.value;if(Pt.length>_t.length)return;if(!(sr instanceof $n)){var oa=1,Cr;if(Nn){if(Cr=le(it,Pn,_t,un),!Cr)break;var Ba=Cr.index,vr=Cr.index+Cr[0].length,sa=Pn;for(sa+=Ut.value.length;Ba>=sa;)Ut=Ut.next,sa+=Ut.value.length;if(sa-=Ut.value.length,Pn=sa,Ut.value instanceof $n)continue;for(var bo=Ut;bo!==Pt.tail&&(sa<vr||typeof bo.value=="string");bo=bo.next)oa++,sa+=bo.value.length;oa--,sr=_t.slice(Pn,sa),Cr.index-=Pn}else if(Cr=le(it,0,sr,un),!Cr)continue;var Ba=Cr.index,wa=Cr[0],La=sr.slice(0,Ba),ko=sr.slice(Ba+wa.length),Ha=Pn+sr.length;Wt&&Ha>Wt.reach&&(Wt.reach=Ha);var Fa=Ut.prev;La&&(Fa=En(Pt,Fa,La),Pn+=La.length),Fn(Pt,Fa,oa);var io=new $n(dn,bn?pt.tokenize(wa,bn):wa,fe,wa);if(Ut=En(Pt,Fa,io),ko&&En(Pt,Ut,ko),oa>1){var Br={cause:dn+","+ke,reach:Ha};vt(_t,Pt,Mt,Ut.prev,Pn,Br),Wt&&Br.reach>Wt.reach&&(Wt.reach=Br.reach)}}}}}}function ln(){var _t={value:null,prev:null,next:null},Pt={value:null,prev:_t,next:null};_t.next=Pt,this.head=_t,this.tail=Pt,this.length=0}function En(_t,Pt,Mt){var Le=Pt.next,Ye={value:Mt,prev:Pt,next:Le};return Pt.next=Ye,Le.prev=Ye,_t.length++,Ye}function Fn(_t,Pt,Mt){for(var Le=Pt.next,Ye=0;Ye<Mt&&Le!==_t.tail;Ye++)Le=Le.next;Pt.next=Le,Le.prev=Pt,_t.length-=Ye}function jn(_t){for(var Pt=[],Mt=_t.head.next;Mt!==_t.tail;)Pt.push(Mt.value),Mt=Mt.next;return Pt}if(!De.document)return De.addEventListener&&(pt.disableWorkerMessageHandler||De.addEventListener("message",function(_t){var Pt=JSON.parse(_t.data),Mt=Pt.language,Le=Pt.code,Ye=Pt.immediateClose;De.postMessage(pt.highlight(Le,pt.languages[Mt],Mt)),Ye&&De.close()},!1)),pt;var Sr=pt.util.currentScript();Sr&&(pt.filename=Sr.src,Sr.hasAttribute("data-manual")&&(pt.manual=!0));function Rr(){pt.manual||pt.highlightAll()}if(!pt.manual){var qr=document.readyState;qr==="loading"||qr==="interactive"&&Sr&&Sr.defer?document.addEventListener("DOMContentLoaded",Rr):window.requestAnimationFrame?window.requestAnimationFrame(Rr):window.setTimeout(Rr,16)}return pt}(vn);Fe.exports&&(Fe.exports=Ne),typeof Qt!="undefined"&&(Qt.Prism=Ne)})(z),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Fe){function vn(Ne,De){return"___"+Ne.toUpperCase()+De+"___"}Object.defineProperties(Fe.languages["markup-templating"]={},{buildPlaceholders:{value:function(Ne,De,nt,Dt){if(Ne.language===De){var ot=Ne.tokenStack=[];Ne.code=Ne.code.replace(nt,function(pt){if(typeof Dt=="function"&&!Dt(pt))return pt;for(var $n=ot.length,le;Ne.code.indexOf(le=vn(De,$n))!==-1;)++$n;return ot[$n]=pt,le}),Ne.grammar=Fe.languages.markup}}},tokenizePlaceholders:{value:function(Ne,De){if(Ne.language!==De||!Ne.tokenStack)return;Ne.grammar=Fe.languages[De];var nt=0,Dt=Object.keys(Ne.tokenStack);function ot(pt){for(var $n=0;$n<pt.length&&!(nt>=Dt.length);$n++){var le=pt[$n];if(typeof le=="string"||le.content&&typeof le.content=="string"){var vt=Dt[nt],ln=Ne.tokenStack[vt],En=typeof le=="string"?le:le.content,Fn=vn(De,vt),jn=En.indexOf(Fn);if(jn>-1){++nt;var Sr=En.substring(0,jn),Rr=new Fe.Token(De,Fe.tokenize(ln,Ne.grammar),"language-"+De,ln),qr=En.substring(jn+Fn.length),_t=[];Sr&&_t.push.apply(_t,ot([Sr])),_t.push(Rr),qr&&_t.push.apply(_t,ot([qr])),typeof le=="string"?pt.splice.apply(pt,[$n,1].concat(_t)):le.content=_t}}else le.content&&ot(le.content)}return pt}ot(Ne.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,function(Fe){var vn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Ne=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return vn.source});Fe.languages.cpp=Fe.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return vn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:vn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),Fe.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Ne})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Fe.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Fe.languages.cpp}}}}),Fe.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Fe.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Fe.languages.extend("cpp",{})}}),Fe.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Fe.languages.cpp["base-clause"])}(Prism),function(Fe){function vn(Pn,sr){return Pn.replace(/<<(\d+)>>/g,function(oa,Cr){return"(?:"+sr[+Cr]+")"})}function Ne(Pn,sr,oa){return RegExp(vn(Pn,sr),oa||"")}function De(Pn,sr){for(var oa=0;oa<sr;oa++)Pn=Pn.replace(/<<self>>/g,function(){return"(?:"+Pn+")"});return Pn.replace(/<<self>>/g,"[^\\s\\S]")}var nt={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Dt(Pn){return"\\b(?:"+Pn.trim().replace(/ /g,"|")+")\\b"}var ot=Dt(nt.typeDeclaration),pt=RegExp(Dt(nt.type+" "+nt.typeDeclaration+" "+nt.contextual+" "+nt.other)),$n=Dt(nt.typeDeclaration+" "+nt.contextual+" "+nt.other),le=Dt(nt.type+" "+nt.typeDeclaration+" "+nt.other),vt=De(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),ln=De(/\((?:[^()]|<<self>>)*\)/.source,2),En=/@?\b[A-Za-z_]\w*\b/.source,Fn=vn(/<<0>>(?:\s*<<1>>)?/.source,[En,vt]),jn=vn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[$n,Fn]),Sr=/\[\s*(?:,\s*)*\]/.source,Rr=vn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[jn,Sr]),qr=vn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[vt,ln,Sr]),_t=vn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[qr]),Pt=vn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[_t,jn,Sr]),Mt={keyword:pt,punctuation:/[<>()?,.:[\]]/},Le=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Ye=/"(?:\\.|[^\\"\r\n])*"/.source,Wt=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Fe.languages.csharp=Fe.languages.extend("clike",{string:[{pattern:Ne(/(^|[^$\\])<<0>>/.source,[Wt]),lookbehind:!0,greedy:!0},{pattern:Ne(/(^|[^@$\\])<<0>>/.source,[Ye]),lookbehind:!0,greedy:!0},{pattern:RegExp(Le),greedy:!0,alias:"character"}],"class-name":[{pattern:Ne(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[jn]),lookbehind:!0,inside:Mt},{pattern:Ne(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[En,Pt]),lookbehind:!0,inside:Mt},{pattern:Ne(/(\busing\s+)<<0>>(?=\s*=)/.source,[En]),lookbehind:!0},{pattern:Ne(/(\b<<0>>\s+)<<1>>/.source,[ot,Fn]),lookbehind:!0,inside:Mt},{pattern:Ne(/(\bcatch\s*\(\s*)<<0>>/.source,[jn]),lookbehind:!0,inside:Mt},{pattern:Ne(/(\bwhere\s+)<<0>>/.source,[En]),lookbehind:!0},{pattern:Ne(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[Rr]),lookbehind:!0,inside:Mt},{pattern:Ne(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Pt,le,En]),inside:Mt}],keyword:pt,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Fe.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Fe.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Ne(/([(,]\s*)<<0>>(?=\s*:)/.source,[En]),lookbehind:!0,alias:"punctuation"}}),Fe.languages.insertBefore("csharp","class-name",{namespace:{pattern:Ne(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[En]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Ne(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[ln]),lookbehind:!0,alias:"class-name",inside:Mt},"return-type":{pattern:Ne(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Pt,jn]),inside:Mt,alias:"class-name"},"constructor-invocation":{pattern:Ne(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Pt]),lookbehind:!0,inside:Mt,alias:"class-name"},"generic-method":{pattern:Ne(/<<0>>\s*<<1>>(?=\s*\()/.source,[En,vt]),inside:{function:Ne(/^<<0>>/.source,[En]),generic:{pattern:RegExp(vt),alias:"class-name",inside:Mt}}},"type-list":{pattern:Ne(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[ot,Fn,En,Pt,pt.source,ln,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Ne(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Fn,ln]),lookbehind:!0,greedy:!0,inside:Fe.languages.csharp},keyword:pt,"class-name":{pattern:RegExp(Pt),greedy:!0,inside:Mt},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var dn=Ye+"|"+Le,Jt=vn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[dn]),ke=De(vn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Jt]),2),Rt=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,bn=vn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[jn,ke]);Fe.languages.insertBefore("csharp","class-name",{attribute:{pattern:Ne(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Rt,bn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Ne(/^<<0>>(?=\s*:)/.source,[Rt]),alias:"keyword"},"attribute-arguments":{pattern:Ne(/\(<<0>>*\)/.source,[ke]),inside:Fe.languages.csharp},"class-name":{pattern:RegExp(jn),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var un=/:[^}\r\n]+/.source,Nn=De(vn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Jt]),2),fe=vn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Nn,un]),Ct=De(vn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[dn]),2),it=vn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ct,un]);function Ut(Pn,sr){return{interpolation:{pattern:Ne(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Pn]),lookbehind:!0,inside:{"format-string":{pattern:Ne(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[sr,un]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Fe.languages.csharp}}},string:/[\s\S]+/}}Fe.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Ne(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[fe]),lookbehind:!0,greedy:!0,inside:Ut(fe,Nn)},{pattern:Ne(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[it]),lookbehind:!0,greedy:!0,inside:Ut(it,Ct)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,function(Fe){var vn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Fe.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+vn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+vn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+vn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:vn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Fe.languages.css.atrule.inside.rest=Fe.languages.css;var Ne=Fe.languages.markup;Ne&&(Ne.tag.addInlined("style","css"),Ne.tag.addAttribute("style","css"))}(Prism),function(Fe){var vn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Ne=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,De={pattern:RegExp(Ne+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Fe.languages.java=Fe.languages.extend("clike",{"class-name":[De,{pattern:RegExp(Ne+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:De.inside}],keyword:vn,function:[Fe.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),Fe.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),Fe.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":De,keyword:vn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return vn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Fe){Fe.type==="entity"&&(Fe.attributes.title=Fe.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(vn,Ne){var De={};De["language-"+Ne]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Ne]},De.cdata=/^<!\[CDATA\[|\]\]>$/i;var nt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:De}};nt["language-"+Ne]={pattern:/[\s\S]+/,inside:Prism.languages[Ne]};var Dt={};Dt[vn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return vn}),"i"),lookbehind:!0,greedy:!0,inside:nt},Prism.languages.insertBefore("markup","cdata",Dt)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(Fe,vn){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Fe+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[vn,"language-"+vn],inside:Prism.languages[vn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Fe){var vn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Ne=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],De=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,nt=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Dt=/[{}\[\](),:;]/;Fe.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:vn,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ne,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:De,operator:nt,punctuation:Dt};var ot={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Fe.languages.php},pt=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:ot}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:ot}}];Fe.languages.insertBefore("php","variable",{string:pt,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:vn,string:pt,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ne,number:De,operator:nt,punctuation:Dt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Fe.hooks.add("before-tokenize",function($n){if(!!/<\?/.test($n.code)){var le=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi;Fe.languages["markup-templating"].buildPlaceholders($n,"php",le)}}),Fe.hooks.add("after-tokenize",function($n){Fe.languages["markup-templating"].tokenizePlaceholders($n,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(Fe){Fe.languages.ruby=Fe.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var vn={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:Fe.languages.ruby}};delete Fe.languages.ruby.function,Fe.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:vn}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:vn}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:Fe.languages.ruby}}}),Fe.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),Fe.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:vn}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:vn}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:vn}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],Fe.languages.rb=Fe.languages.ruby}(Prism);var Wn=z.exports,dt={boltExport:Wn};return dt});var Zt=window.Prism;return window.Prism=Yt,Zt})(void 0,Vt,I);var we=I.exports.boltExport,St=function(rt){return rt.getParam("codesample_languages")},et=function(rt){return rt.getParam("codesample_global_prismjs",!1,"boolean")},Ae=function(rt){return Qe.Prism&&et(rt)?Qe.Prism:we},Ue=function(rt){var ft=rt.selection?rt.selection.getNode():null;return Be(ve(ft),ft)},Ee=function(rt,ft,jt){rt.undoManager.transact(function(){var ze=Ue(rt);return jt=Xe.DOM.encode(jt),ze.fold(function(){rt.insertContent('<pre id="__new" class="language-'+ft+'">'+jt+"</pre>"),rt.selection.select(rt.$("#__new").removeAttr("id")[0])},function(Yt){rt.dom.setAttrib(Yt,"class","language-"+ft),Yt.innerHTML=jt,Ae(rt).highlightElement(Yt),rt.selection.select(Yt)})})},Je=function(rt){var ft=Ue(rt);return ft.fold(X(""),function(jt){return jt.textContent})},$=function(rt){var ft=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],jt=St(rt);return jt||ft},ae=function(rt,ft){var jt=Ue(rt);return jt.fold(function(){return ft},function(ze){var Yt=ze.className.match(/language-(\w+)/);return Yt?Yt[1]:ft})},Oe=function(rt){var ft=$(rt),jt=Re(ft).fold(X(""),function(Zt){return Zt.value}),ze=ae(rt,jt),Yt=Je(rt);rt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:ft},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:ze,code:Yt},onSubmit:function(Zt){var Qt=Zt.getData();Ee(rt,Qt.language,Qt.code),Zt.close()}})},Kt=function(rt){rt.addCommand("codesample",function(){var ft=rt.selection.getNode();rt.selection.isCollapsed()||ve(ft)?Oe(rt):rt.formatter.toggle("code")})},Ie=function(rt){var ft=rt.$;rt.on("PreProcess",function(jt){ft("pre[contenteditable=false]",jt.node).filter(yt(ve)).each(function(ze,Yt){var Zt=ft(Yt),Qt=Yt.textContent;Zt.attr("class",ft.trim(Zt.attr("class"))),Zt.removeAttr("contentEditable"),Zt.empty().append(ft("<code></code>").each(function(){this.textContent=Qt}))})}),rt.on("SetContent",function(){var jt=ft("pre").filter(yt(ve)).filter(function(ze,Yt){return Yt.contentEditable!=="false"});jt.length&&rt.undoManager.transact(function(){jt.each(function(ze,Yt){ft(Yt).find("br").each(function(Zt,Qt){Qt.parentNode.replaceChild(rt.getDoc().createTextNode(`
`),Qt)}),Yt.contentEditable="false",Yt.innerHTML=rt.dom.encode(Yt.textContent),Ae(rt).highlightElement(Yt),Yt.className=ft.trim(Yt.className)})})})},cn=function(rt){var ft=rt.selection.getStart();return rt.dom.is(ft,'pre[class*="language-"]')},an=function(rt){var ft=function(){return rt.execCommand("codesample")};rt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:ft,onSetup:function(jt){var ze=function(){jt.setActive(cn(rt))};return rt.on("NodeChange",ze),function(){return rt.off("NodeChange",ze)}}}),rt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:ft})};function C(){Y.add("codesample",function(rt){Ie(rt),an(rt),Kt(rt),rt.on("dblclick",function(ft){ve(ft.target)&&Oe(rt)})})}C()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(ke){var Rt=typeof ke;return ke===null?"null":Rt==="object"&&(Array.prototype.isPrototypeOf(ke)||ke.constructor&&ke.constructor.name==="Array")?"array":Rt==="object"&&(String.prototype.isPrototypeOf(ke)||ke.constructor&&ke.constructor.name==="String")?"string":Rt},X=function(ke){return function(Rt){return D(Rt)===ke}},oe=function(ke){return function(Rt){return typeof Rt===ke}},ue=X("string"),Pe=oe("boolean"),at=function(ke){return ke==null},ct=function(ke){return!at(ke)},He=oe("function"),Ft=oe("number"),Te=function(){},se=function(ke,Rt){return function(bn){return ke(Rt(bn))}},Re=function(ke){return function(){return ke}},Be=function(ke){return ke},Xe=Re(!1),ve=Re(!0),yt=function(){return Qe},Qe=function(){var ke=function(un){return un()},Rt=Be,bn={fold:function(un,Nn){return un()},isSome:Xe,isNone:ve,getOr:Rt,getOrThunk:ke,getOrDie:function(un){throw new Error(un||"error: getOrDie called on none.")},getOrNull:Re(null),getOrUndefined:Re(void 0),or:Rt,orThunk:ke,map:yt,each:Te,bind:yt,exists:Xe,forall:ve,filter:function(){return yt()},toArray:function(){return[]},toString:Re("none()")};return bn}(),Vt=function(ke){var Rt=Re(ke),bn=function(){return Nn},un=function(fe){return fe(ke)},Nn={fold:function(fe,Ct){return Ct(ke)},isSome:ve,isNone:Xe,getOr:Rt,getOrThunk:Rt,getOrDie:Rt,getOrNull:Rt,getOrUndefined:Rt,or:bn,orThunk:bn,map:function(fe){return Vt(fe(ke))},each:function(fe){fe(ke)},bind:un,exists:un,forall:un,filter:function(fe){return fe(ke)?Nn:Qe},toArray:function(){return[ke]},toString:function(){return"some("+ke+")"}};return Nn},I=function(ke){return ke==null?Qe:Vt(ke)},je={some:Vt,none:yt,from:I},we=function(ke,Rt){for(var bn=ke.length,un=new Array(bn),Nn=0;Nn<bn;Nn++){var fe=ke[Nn];un[Nn]=Rt(fe,Nn)}return un},St=function(ke,Rt){for(var bn=0,un=ke.length;bn<un;bn++){var Nn=ke[bn];Rt(Nn,bn)}},et=function(ke,Rt){for(var bn=[],un=0,Nn=ke.length;un<Nn;un++){var fe=ke[un];Rt(fe,un)&&bn.push(fe)}return bn},Ae=9,Ue=11,Ee=1,Je=3,$=function(ke,Rt){var bn=Rt||document,un=bn.createElement("div");if(un.innerHTML=ke,!un.hasChildNodes()||un.childNodes.length>1)throw console.error("HTML does not have a single root node",ke),new Error("HTML must have a single root node");return Kt(un.childNodes[0])},ae=function(ke,Rt){var bn=Rt||document,un=bn.createElement(ke);return Kt(un)},Oe=function(ke,Rt){var bn=Rt||document,un=bn.createTextNode(ke);return Kt(un)},Kt=function(ke){if(ke==null)throw new Error("Node cannot be null or undefined");return{dom:ke}},Ie=function(ke,Rt,bn){return je.from(ke.dom.elementFromPoint(Rt,bn)).map(Kt)},cn={fromHtml:$,fromTag:ae,fromText:Oe,fromDom:Kt,fromPoint:Ie},an=function(ke,Rt){var bn=ke.dom;if(bn.nodeType!==Ee)return!1;var un=bn;if(un.matches!==void 0)return un.matches(Rt);if(un.msMatchesSelector!==void 0)return un.msMatchesSelector(Rt);if(un.webkitMatchesSelector!==void 0)return un.webkitMatchesSelector(Rt);if(un.mozMatchesSelector!==void 0)return un.mozMatchesSelector(Rt);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var C=function(ke){var Rt=ke.dom.nodeName;return Rt.toLowerCase()},rt=function(ke){return ke.dom.nodeType},ft=function(ke){return function(Rt){return rt(Rt)===ke}},jt=ft(Ee),ze=ft(Je),Yt=ft(Ae),Zt=ft(Ue),Qt=function(ke){return function(Rt){return jt(Rt)&&C(Rt)===ke}},z=function(ke){return cn.fromDom(ke.dom.ownerDocument)},Wn=function(ke){return Yt(ke)?ke:z(ke)},dt=function(ke){return je.from(ke.dom.parentNode).map(cn.fromDom)},Fe=function(ke){return we(ke.dom.childNodes,cn.fromDom)},vn=function(ke,Rt,bn){if(ue(bn)||Pe(bn)||Ft(bn))ke.setAttribute(Rt,bn+"");else throw console.error("Invalid call to Attribute.set. Key ",Rt,":: Value ",bn,":: Element ",ke),new Error("Attribute value was not simple")},Ne=function(ke,Rt,bn){vn(ke.dom,Rt,bn)},De=function(ke,Rt){ke.dom.removeAttribute(Rt)},nt=function(ke){return Zt(ke)&&ct(ke.dom.host)},Dt=He(Element.prototype.attachShadow)&&He(Node.prototype.getRootNode),ot=Dt?function(ke){return cn.fromDom(ke.dom.getRootNode())}:Wn,pt=function(ke){var Rt=ot(ke);return nt(Rt)?je.some(Rt):je.none()},$n=function(ke){return cn.fromDom(ke.dom.host)},le=function(ke){var Rt=ze(ke)?ke.dom.parentNode:ke.dom;if(Rt==null||Rt.ownerDocument===null)return!1;var bn=Rt.ownerDocument;return pt(cn.fromDom(Rt)).fold(function(){return bn.body.contains(Rt)},se(le,$n))},vt=function(ke,Rt,bn){for(var un=ke.dom,Nn=He(bn)?bn:Xe;un.parentNode;){un=un.parentNode;var fe=cn.fromDom(un);if(Rt(fe))return je.some(fe);if(Nn(fe))break}return je.none()},ln=function(ke,Rt,bn){return vt(ke,function(un){return an(un,Rt)},bn)},En=function(ke){return ke.style!==void 0&&He(ke.style.getPropertyValue)},Fn=function(ke,Rt){var bn=ke.dom,un=window.getComputedStyle(bn),Nn=un.getPropertyValue(Rt);return Nn===""&&!le(ke)?jn(bn,Rt):Nn},jn=function(ke,Rt){return En(ke)?ke.style.getPropertyValue(Rt):""},Sr=function(ke){return Fn(ke,"direction")==="rtl"?"rtl":"ltr"},Rr=function(ke,Rt){return et(Fe(ke),Rt)},qr=function(ke,Rt){return Rr(ke,function(bn){return an(bn,Rt)})},_t=function(ke){return dt(ke).filter(jt)},Pt=function(ke,Rt){var bn=Rt?ln(ke,"ol,ul"):je.some(ke);return bn.getOr(ke)},Mt=Qt("li"),Le=function(ke,Rt){var bn=ke.selection.getSelectedBlocks();bn.length>0&&(St(bn,function(un){var Nn=cn.fromDom(un),fe=Mt(Nn),Ct=Pt(Nn,fe),it=_t(Ct);it.each(function(Ut){var Pn=Sr(Ut);if(Pn!==Rt?Ne(Ct,"dir",Rt):Sr(Ct)!==Rt&&De(Ct,"dir"),fe){var sr=qr(Ct,"li[dir]");St(sr,function(oa){return De(oa,"dir")})}})}),ke.nodeChanged())},Ye=function(ke){ke.addCommand("mceDirectionLTR",function(){Le(ke,"ltr")}),ke.addCommand("mceDirectionRTL",function(){Le(ke,"rtl")})},Wt=function(ke,Rt){return function(bn){var un=function(Nn){var fe=cn.fromDom(Nn.element);bn.setActive(Sr(fe)===Rt)};return ke.on("NodeChange",un),function(){return ke.off("NodeChange",un)}}},dn=function(ke){ke.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return ke.execCommand("mceDirectionLTR")},onSetup:Wt(ke,"ltr")}),ke.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return ke.execCommand("mceDirectionRTL")},onSetup:Wt(ke,"rtl")})};function Jt(){Y.add("directionality",function(ke){Ye(ke),dn(ke)})}Jt()})();(function(){var Y=function(k){var b=k,_=function(){return b},L=function(ce){b=ce};return{get:_,set:L}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(k){return{isFullscreen:function(){return k.get()!==null}}},oe=function(k){var b=typeof k;return k===null?"null":b==="object"&&(Array.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="Array")?"array":b==="object"&&(String.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="String")?"string":b},ue=function(k){return function(b){return oe(b)===k}},Pe=function(k){return function(b){return typeof b===k}},at=ue("string"),ct=ue("array"),He=Pe("boolean"),Ft=function(k){return k==null},Te=function(k){return!Ft(k)},se=Pe("function"),Re=Pe("number"),Be=function(){},Xe=function(k,b){return function(){for(var _=[],L=0;L<arguments.length;L++)_[L]=arguments[L];return k(b.apply(null,_))}},ve=function(k,b){return function(_){return k(b(_))}},yt=function(k){return function(){return k}},Qe=function(k){return k};function Vt(k){for(var b=[],_=1;_<arguments.length;_++)b[_-1]=arguments[_];return function(){for(var L=[],ce=0;ce<arguments.length;ce++)L[ce]=arguments[ce];var Ke=b.concat(L);return k.apply(null,Ke)}}var I=yt(!1),je=yt(!0),we=function(){return St},St=function(){var k=function(L){return L()},b=Qe,_={fold:function(L,ce){return L()},isSome:I,isNone:je,getOr:b,getOrThunk:k,getOrDie:function(L){throw new Error(L||"error: getOrDie called on none.")},getOrNull:yt(null),getOrUndefined:yt(void 0),or:b,orThunk:k,map:we,each:Be,bind:we,exists:I,forall:je,filter:function(){return we()},toArray:function(){return[]},toString:yt("none()")};return _}(),et=function(k){var b=yt(k),_=function(){return ce},L=function(Ke){return Ke(k)},ce={fold:function(Ke,qt){return qt(k)},isSome:je,isNone:I,getOr:b,getOrThunk:b,getOrDie:b,getOrNull:b,getOrUndefined:b,or:_,orThunk:_,map:function(Ke){return et(Ke(k))},each:function(Ke){Ke(k)},bind:L,exists:L,forall:L,filter:function(Ke){return Ke(k)?ce:St},toArray:function(){return[k]},toString:function(){return"some("+k+")"}};return ce},Ae=function(k){return k==null?St:et(k)},Ue={some:et,none:we,from:Ae},Ee=function(){return Ee=Object.assign||function(b){for(var _,L=1,ce=arguments.length;L<ce;L++){_=arguments[L];for(var Ke in _)Object.prototype.hasOwnProperty.call(_,Ke)&&(b[Ke]=_[Ke])}return b},Ee.apply(this,arguments)},Je=function(k){var b=Y(Ue.none()),_=function(){return b.get().each(k)},L=function(){_(),b.set(Ue.none())},ce=function(){return b.get().isSome()},Ke=function(){return b.get()},qt=function(qn){_(),b.set(Ue.some(qn))};return{clear:L,isSet:ce,get:Ke,set:qt}},$=function(){return Je(function(k){return k.unbind()})},ae=function(){var k=Je(Be),b=function(_){return k.get().each(_)};return Ee(Ee({},k),{on:b})},Oe=Array.prototype.push,Kt=function(k,b){for(var _=k.length,L=new Array(_),ce=0;ce<_;ce++){var Ke=k[ce];L[ce]=b(Ke,ce)}return L},Ie=function(k,b){for(var _=0,L=k.length;_<L;_++){var ce=k[_];b(ce,_)}},cn=function(k,b){for(var _=[],L=0,ce=k.length;L<ce;L++){var Ke=k[L];b(Ke,L)&&_.push(Ke)}return _},an=function(k,b,_){for(var L=0,ce=k.length;L<ce;L++){var Ke=k[L];if(b(Ke,L))return Ue.some(Ke);if(_(Ke,L))break}return Ue.none()},C=function(k,b){return an(k,b,I)},rt=function(k){for(var b=[],_=0,L=k.length;_<L;++_){if(!ct(k[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+k);Oe.apply(b,k[_])}return b},ft=function(k,b){return rt(Kt(k,b))},jt=function(k,b){return b>=0&&b<k.length?Ue.some(k[b]):Ue.none()},ze=function(k){return jt(k,0)},Yt=function(k,b){for(var _=0;_<k.length;_++){var L=b(k[_],_);if(L.isSome())return L}return Ue.none()},Zt=Object.keys,Qt=function(k,b){for(var _=Zt(k),L=0,ce=_.length;L<ce;L++){var Ke=_[L],qt=k[Ke];b(qt,Ke)}},z=function(k,b){return k.indexOf(b)!==-1},Wn=function(k){return k.style!==void 0&&se(k.style.getPropertyValue)},dt=function(k,b){var _=b||document,L=_.createElement("div");if(L.innerHTML=k,!L.hasChildNodes()||L.childNodes.length>1)throw console.error("HTML does not have a single root node",k),new Error("HTML must have a single root node");return Ne(L.childNodes[0])},Fe=function(k,b){var _=b||document,L=_.createElement(k);return Ne(L)},vn=function(k,b){var _=b||document,L=_.createTextNode(k);return Ne(L)},Ne=function(k){if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},De=function(k,b,_){return Ue.from(k.dom.elementFromPoint(b,_)).map(Ne)},nt={fromHtml:dt,fromTag:Fe,fromText:vn,fromDom:Ne,fromPoint:De};typeof window!="undefined"||Function("return this;")();var Dt=9,ot=11,pt=1,$n=3,le=function(k){return k.dom.nodeType},vt=function(k){return function(b){return le(b)===k}},ln=vt(pt),En=vt($n),Fn=vt(Dt),jn=vt(ot),Sr=function(k){var b=!1,_;return function(){for(var L=[],ce=0;ce<arguments.length;ce++)L[ce]=arguments[ce];return b||(b=!0,_=k.apply(null,L)),_}},Rr=function(k,b,_,L){var ce=k.isiOS()&&/ipad/i.test(_)===!0,Ke=k.isiOS()&&!ce,qt=k.isiOS()||k.isAndroid(),qn=qt||L("(pointer:coarse)"),cr=ce||!Ke&&qt&&L("(min-device-width:768px)"),Cn=Ke||qt&&!cr,Hn=b.isSafari()&&k.isiOS()&&/safari/i.test(_)===!1,xr=!Cn&&!cr&&!Hn;return{isiPad:yt(ce),isiPhone:yt(Ke),isTablet:yt(cr),isPhone:yt(Cn),isTouch:yt(qn),isAndroid:k.isAndroid,isiOS:k.isiOS,isWebView:yt(Hn),isDesktop:yt(xr)}},qr=function(k,b){for(var _=0;_<k.length;_++){var L=k[_];if(L.test(b))return L}},_t=function(k,b){var _=qr(k,b);if(!_)return{major:0,minor:0};var L=function(ce){return Number(b.replace(_,"$"+ce))};return Le(L(1),L(2))},Pt=function(k,b){var _=String(b).toLowerCase();return k.length===0?Mt():_t(k,_)},Mt=function(){return Le(0,0)},Le=function(k,b){return{major:k,minor:b}},Ye={nu:Le,detect:Pt,unknown:Mt},Wt=function(k,b){return Yt(b.brands,function(_){var L=_.brand.toLowerCase();return C(k,function(ce){var Ke;return L===((Ke=ce.brand)===null||Ke===void 0?void 0:Ke.toLowerCase())}).map(function(ce){return{current:ce.name,version:Ye.nu(parseInt(_.version,10),0)}})})},dn=function(k,b){var _=String(b).toLowerCase();return C(k,function(L){return L.search(_)})},Jt=function(k,b){return dn(k,b).map(function(_){var L=Ye.detect(_.versionRegexes,b);return{current:_.name,version:L}})},ke=function(k,b){return dn(k,b).map(function(_){var L=Ye.detect(_.versionRegexes,b);return{current:_.name,version:L}})},Rt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,bn=function(k){return function(b){return z(b,k)}},un=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(k){return z(k,"edge/")&&z(k,"chrome")&&z(k,"safari")&&z(k,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rt],search:function(k){return z(k,"chrome")&&!z(k,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(k){return z(k,"msie")||z(k,"trident")}},{name:"Opera",versionRegexes:[Rt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:bn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:bn("firefox")},{name:"Safari",versionRegexes:[Rt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(k){return(z(k,"safari")||z(k,"mobile/"))&&z(k,"applewebkit")}}],Nn=[{name:"Windows",search:bn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(k){return z(k,"iphone")||z(k,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:bn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:bn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:bn("linux"),versionRegexes:[]},{name:"Solaris",search:bn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:bn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:bn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],fe={browsers:yt(un),oses:yt(Nn)},Ct="Edge",it="Chrome",Ut="IE",Pn="Opera",sr="Firefox",oa="Safari",Cr=function(){return vr({current:void 0,version:Ye.unknown()})},vr=function(k){var b=k.current,_=k.version,L=function(ce){return function(){return b===ce}};return{current:b,version:_,isEdge:L(Ct),isChrome:L(it),isIE:L(Ut),isOpera:L(Pn),isFirefox:L(sr),isSafari:L(oa)}},sa={unknown:Cr,nu:vr,edge:yt(Ct),chrome:yt(it),ie:yt(Ut),opera:yt(Pn),firefox:yt(sr),safari:yt(oa)},bo="Windows",Ba="iOS",wa="Android",La="Linux",ko="OSX",Ha="Solaris",Fa="FreeBSD",io="ChromeOS",Br=function(){return uo({current:void 0,version:Ye.unknown()})},uo=function(k){var b=k.current,_=k.version,L=function(ce){return function(){return b===ce}};return{current:b,version:_,isWindows:L(bo),isiOS:L(Ba),isAndroid:L(wa),isOSX:L(ko),isLinux:L(La),isSolaris:L(Ha),isFreeBSD:L(Fa),isChromeOS:L(io)}},Ln={unknown:Br,nu:uo,windows:yt(bo),ios:yt(Ba),android:yt(wa),linux:yt(La),osx:yt(ko),solaris:yt(Ha),freebsd:yt(Fa),chromeos:yt(io)},bi=function(k,b,_){var L=fe.browsers(),ce=fe.oses(),Ke=b.bind(function(cr){return Wt(L,cr)}).orThunk(function(){return Jt(L,k)}).fold(sa.unknown,sa.nu),qt=ke(ce,k).fold(Ln.unknown,Ln.nu),qn=Rr(qt,Ke,k,_);return{browser:Ke,os:qt,deviceType:qn}},to={detect:bi},zo=function(k){return window.matchMedia(k).matches},yi=Sr(function(){return to.detect(navigator.userAgent,Ue.from(navigator.userAgentData),zo)}),Lo=function(){return yi()},wi=function(k,b){var _=k.dom;if(_.nodeType!==pt)return!1;var L=_;if(L.matches!==void 0)return L.matches(b);if(L.msMatchesSelector!==void 0)return L.msMatchesSelector(b);if(L.webkitMatchesSelector!==void 0)return L.webkitMatchesSelector(b);if(L.mozMatchesSelector!==void 0)return L.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")},Ci=function(k){return k.nodeType!==pt&&k.nodeType!==Dt&&k.nodeType!==ot||k.childElementCount===0},Ji=function(k,b){var _=b===void 0?document:b.dom;return Ci(_)?[]:Kt(_.querySelectorAll(k),nt.fromDom)},Z=function(k,b){return k.dom===b.dom},xe=function(k){return nt.fromDom(k.dom.ownerDocument)},Q=function(k){return Fn(k)?k:xe(k)},Ge=function(k){return Ue.from(k.dom.parentNode).map(nt.fromDom)},sn=function(k,b){for(var _=se(b)?b:I,L=k.dom,ce=[];L.parentNode!==null&&L.parentNode!==void 0;){var Ke=L.parentNode,qt=nt.fromDom(Ke);if(ce.push(qt),_(qt)===!0)break;L=Ke}return ce},On=function(k){var b=function(_){return cn(_,function(L){return!Z(k,L)})};return Ge(k).map(j).map(b).getOr([])},j=function(k){return Kt(k.dom.childNodes,nt.fromDom)},ne=function(k){return jn(k)&&Te(k.dom.host)},Ze=se(Element.prototype.attachShadow)&&se(Node.prototype.getRootNode),kt=yt(Ze),O=Ze?function(k){return nt.fromDom(k.dom.getRootNode())}:Q,H=function(k){var b=O(k);return ne(b)?Ue.some(b):Ue.none()},te=function(k){return nt.fromDom(k.dom.host)},be=function(k){if(kt()&&Te(k.target)){var b=nt.fromDom(k.target);if(ln(b)&&Ve(b)&&k.composed&&k.composedPath){var _=k.composedPath();if(_)return ze(_)}}return Ue.from(k.target)},Ve=function(k){return Te(k.dom.shadowRoot)},qe=function(k){var b=En(k)?k.dom.parentNode:k.dom;if(b==null||b.ownerDocument===null)return!1;var _=b.ownerDocument;return H(nt.fromDom(b)).fold(function(){return _.body.contains(b)},ve(qe,te))},on=function(k){var b=k.dom.body;if(b==null)throw new Error("Body is not available yet");return nt.fromDom(b)},Sn=function(k,b,_){if(at(_)||He(_)||Re(_))k.setAttribute(b,_+"");else throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",_,":: Element ",k),new Error("Attribute value was not simple")},Zn=function(k,b,_){Sn(k.dom,b,_)},or=function(k,b){var _=k.dom.getAttribute(b);return _===null?void 0:_},ir=function(k,b){k.dom.removeAttribute(b)},hr=function(k,b,_){if(!at(_))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",_,":: Element ",k),new Error("CSS value must be a string: "+_);Wn(k)&&k.style.setProperty(b,_)},Zr=function(k,b){var _=k.dom;Qt(b,function(L,ce){hr(_,ce,L)})},Va=function(k,b){var _=k.dom,L=window.getComputedStyle(_),ce=L.getPropertyValue(b);return ce===""&&!qe(k)?ui(_,b):ce},ui=function(k,b){return Wn(k)?k.style.getPropertyValue(b):""},Qi=function(k,b,_,L,ce,Ke,qt){return{target:k,x:b,y:_,stop:L,prevent:ce,kill:Ke,raw:qt}},Mi=function(k){var b=nt.fromDom(be(k).getOr(k.target)),_=function(){return k.stopPropagation()},L=function(){return k.preventDefault()},ce=Xe(L,_);return Qi(b,k.clientX,k.clientY,_,L,ce,k)},Ua=function(k,b){return function(_){k(_)&&b(Mi(_))}},gs=function(k,b,_,L,ce){var Ke=Ua(_,L);return k.dom.addEventListener(b,Ke,ce),{unbind:Vt(xi,k,b,Ke,ce)}},ku=function(k,b,_,L){return gs(k,b,_,L,!1)},xi=function(k,b,_,L){k.dom.removeEventListener(b,_,L)},yo=je,hs=function(k,b,_){return ku(k,b,yo,_)},cu=function(k,b){var _=function(L,ce){return cu(k+L,b+ce)};return{left:k,top:b,translate:_}},ps=cu,$s=function(k){var b=k!==void 0?k.dom:document,_=b.body.scrollLeft||b.documentElement.scrollLeft,L=b.body.scrollTop||b.documentElement.scrollTop;return ps(_,L)},lu=function(k){var b=k===void 0?window:k;return Lo().browser.isFirefox()?Ue.none():Ue.from(b.visualViewport)},Ri=function(k,b,_,L){return{x:k,y:b,width:_,height:L,right:k+_,bottom:b+L}},zs=function(k){var b=k===void 0?window:k,_=b.document,L=$s(nt.fromDom(_));return lu(b).fold(function(){var ce=b.document.documentElement,Ke=ce.clientWidth,qt=ce.clientHeight;return Ri(L.left,L.top,Ke,qt)},function(ce){return Ri(Math.max(ce.pageLeft,L.left),Math.max(ce.pageTop,L.top),ce.width,ce.height)})},Gu=function(k,b,_){return lu(_).map(function(L){var ce=function(Ke){return b(Mi(Ke))};return L.addEventListener(k,ce),{unbind:function(){return L.removeEventListener(k,ce)}}}).getOrThunk(function(){return{unbind:Be}})},bs=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),N=tinymce.util.Tools.resolve("tinymce.Env"),me=tinymce.util.Tools.resolve("tinymce.util.Delay"),$e=function(k,b){k.fire("FullscreenStateChanged",{state:b})},Tt=function(k){return k.getParam("fullscreen_native",!1,"boolean")},rn=function(k){var b=nt.fromDom(k.getElement());return H(b).map(te).getOrThunk(function(){return on(xe(b))})},Vn=function(k){return k.fullscreenElement!==void 0?k.fullscreenElement:k.msFullscreenElement!==void 0?k.msFullscreenElement:k.webkitFullscreenElement!==void 0?k.webkitFullscreenElement:null},Xr=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},ta=function(k){var b=k.dom;b.requestFullscreen?b.requestFullscreen():b.msRequestFullscreen?b.msRequestFullscreen():b.webkitRequestFullScreen&&b.webkitRequestFullScreen()},Tr=function(k){var b=k.dom;b.exitFullscreen?b.exitFullscreen():b.msExitFullscreen?b.msExitFullscreen():b.webkitCancelFullScreen&&b.webkitCancelFullScreen()},ca=function(k){return k.dom===Vn(xe(k).dom)},Da=function(k,b,_){return cn(sn(k,_),b)},fu=function(k,b){return cn(On(k),b)},hc=function(k){return Ji(k)},pc=function(k,b,_){return Da(k,function(L){return wi(L,b)},_)},Jn=function(k,b){return fu(k,function(_){return wi(_,b)})},Eu="data-ephox-mobile-fullscreen-style",tl="display:none!important;",eu="position:absolute!important;",nl="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",_f="background-color:rgb(255,255,255)!important;",Hl=N.os.isAndroid(),_a=function(k){var b=Va(k,"background-color");return b!==void 0&&b!==""?"background-color:"+b+"!important":_f},Ls=function(k,b,_){var L=function(Cn){return Jn(Cn,"*:not(.tox-silver-sink)")},ce=function(Cn){return function(Hn){var xr=or(Hn,"style"),Pr=xr===void 0?"no-styles":xr.trim();Pr!==Cn&&(Zn(Hn,Eu,Pr),Zr(Hn,k.parseStyle(Cn)))}},Ke=pc(b,"*"),qt=ft(Ke,L),qn=_a(_);Ie(qt,ce(tl)),Ie(Ke,ce(eu+nl+qn));var cr=Hl===!0?"":eu;ce(cr+nl+qn)(b)},Pf=function(k){var b=hc("["+Eu+"]");Ie(b,function(_){var L=or(_,Eu);L!=="no-styles"?Zr(_,k.parseStyle(L)):ir(_,"style"),ir(_,Eu)})},Ni=bs.DOM,si=function(){return zs(window)},bc=function(k){return window.scrollTo(k.x,k.y)},xt=lu().fold(function(){return{bind:Be,unbind:Be}},function(k){var b=ae(),_=$(),L=$(),ce=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Ke=function(){window.requestAnimationFrame(function(){b.on(function(Cn){return Zr(Cn,{top:k.offsetTop+"px",left:k.offsetLeft+"px",height:k.height+"px",width:k.width+"px"})})})},qt=me.throttle(function(){ce(),Ke()},50),qn=function(Cn){b.set(Cn),qt(),_.set(Gu("resize",qt)),L.set(Gu("scroll",qt))},cr=function(){b.on(function(){_.clear(),L.clear()}),b.clear()};return{bind:qn,unbind:cr}}),Hs=function(k,b){var _=document.body,L=document.documentElement,ce=k.getContainer(),Ke=nt.fromDom(ce),qt=rn(k),qn=b.get(),cr=nt.fromDom(k.getBody()),Cn=N.deviceType.isTouch(),Hn=ce.style,xr=k.iframeElement,Pr=xr.style,lr=function(na){na(_,"tox-fullscreen"),na(L,"tox-fullscreen"),na(ce,"tox-fullscreen"),H(Ke).map(function(ci){return te(ci).dom}).each(function(ci){na(ci,"tox-fullscreen"),na(ci,"tox-shadowhost")})},Ca=function(){Cn&&Pf(k.dom),lr(Ni.removeClass),xt.unbind(),Ue.from(b.get()).each(function(na){return na.fullscreenChangeHandler.unbind()})};if(qn)qn.fullscreenChangeHandler.unbind(),Tt(k)&&ca(qt)&&Tr(xe(qt)),Pr.width=qn.iframeWidth,Pr.height=qn.iframeHeight,Hn.width=qn.containerWidth,Hn.height=qn.containerHeight,Hn.top=qn.containerTop,Hn.left=qn.containerLeft,Ca(),bc(qn.scrollPos),b.set(null),$e(k,!1),k.off("remove",Ca);else{var pr=hs(xe(qt),Xr(),function(na){Tt(k)&&!ca(qt)&&b.get()!==null&&Hs(k,b)}),ia={scrollPos:si(),containerWidth:Hn.width,containerHeight:Hn.height,containerTop:Hn.top,containerLeft:Hn.left,iframeWidth:Pr.width,iframeHeight:Pr.height,fullscreenChangeHandler:pr};Cn&&Ls(k.dom,Ke,cr),Pr.width=Pr.height="100%",Hn.width=Hn.height="",lr(Ni.addClass),xt.bind(Ke),k.on("remove",Ca),b.set(ia),Tt(k)&&ta(qt),$e(k,!0)}},Eo=function(k,b){k.addCommand("mceFullScreen",function(){Hs(k,b)})},rl=function(k,b){return function(_){_.setActive(b.get()!==null);var L=function(ce){return _.setActive(ce.state)};return k.on("FullscreenStateChanged",L),function(){return k.off("FullscreenStateChanged",L)}}},Ku=function(k,b){var _=function(){return k.execCommand("mceFullScreen")};k.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:_,onSetup:rl(k,b)}),k.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:_,onSetup:rl(k,b)})};function Vs(){D.add("fullscreen",function(k){var b=Y(null);return k.inline||(Eo(k,b),Ku(k,b),k.addShortcut("Meta+Shift+F","","mceFullScreen")),X(b)})}Vs()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(ue){ue.addCommand("InsertHorizontalRule",function(){ue.execCommand("mceInsertContent",!1,"<hr />")})},X=function(ue){var Pe=function(){return ue.execCommand("InsertHorizontalRule")};ue.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:Pe}),ue.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:Pe})};function oe(){Y.add("hr",function(ue){D(ue),X(ue)})}oe()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(I){return I.getParam("insertdatetime_dateformat",I.translate("%Y-%m-%d"))},X=function(I){return I.getParam("insertdatetime_timeformat",I.translate("%H:%M:%S"))},oe=function(I){return I.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},ue=function(I){var je=oe(I);return je.length>0?je[0]:X(I)},Pe=function(I){return I.getParam("insertdatetime_element",!1)},at="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),ct="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),He="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ft="January February March April May June July August September October November December".split(" "),Te=function(I,je){if(I=""+I,I.length<je)for(var we=0;we<je-I.length;we++)I="0"+I;return I},se=function(I,je,we){return we===void 0&&(we=new Date),je=je.replace("%D","%m/%d/%Y"),je=je.replace("%r","%I:%M:%S %p"),je=je.replace("%Y",""+we.getFullYear()),je=je.replace("%y",""+we.getYear()),je=je.replace("%m",Te(we.getMonth()+1,2)),je=je.replace("%d",Te(we.getDate(),2)),je=je.replace("%H",""+Te(we.getHours(),2)),je=je.replace("%M",""+Te(we.getMinutes(),2)),je=je.replace("%S",""+Te(we.getSeconds(),2)),je=je.replace("%I",""+((we.getHours()+11)%12+1)),je=je.replace("%p",we.getHours()<12?"AM":"PM"),je=je.replace("%B",""+I.translate(Ft[we.getMonth()])),je=je.replace("%b",""+I.translate(He[we.getMonth()])),je=je.replace("%A",""+I.translate(ct[we.getDay()])),je=je.replace("%a",""+I.translate(at[we.getDay()])),je=je.replace("%%","%"),je},Re=function(I,je,we,St){var et=I.dom.create("time",{datetime:we},St);je.parentNode.insertBefore(et,je),I.dom.remove(je),I.selection.select(et,!0),I.selection.collapse(!1)},Be=function(I,je){if(Pe(I)){var we=se(I,je),St=void 0;/%[HMSIp]/.test(je)?St=se(I,"%Y-%m-%dT%H:%M"):St=se(I,"%Y-%m-%d");var et=I.dom.getParent(I.selection.getStart(),"time");et?Re(I,et,St,we):I.insertContent('<time datetime="'+St+'">'+we+"</time>")}else I.insertContent(se(I,je))},Xe=function(I){I.addCommand("mceInsertDate",function(je,we){Be(I,we!=null?we:D(I))}),I.addCommand("mceInsertTime",function(je,we){Be(I,we!=null?we:X(I))})},ve=function(I){var je=I,we=function(){return je},St=function(et){je=et};return{get:we,set:St}},yt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qe=function(I){var je=oe(I),we=ve(ue(I)),St=function(Ae){return I.execCommand("mceInsertDate",!1,Ae)};I.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(Ae){return Ae===we.get()},fetch:function(Ae){Ae(yt.map(je,function(Ue){return{type:"choiceitem",text:se(I,Ue),value:Ue}}))},onAction:function(Ae){St(we.get())},onItemAction:function(Ae,Ue){we.set(Ue),St(Ue)}});var et=function(Ae){return function(){we.set(Ae),St(Ae)}};I.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return yt.map(je,function(Ae){return{type:"menuitem",text:se(I,Ae),onAction:et(Ae)}})}})};function Vt(){Y.add("insertdatetime",function(I){Xe(I),Qe(I)})}Vt()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.util.VK"),X=function(N){var me=typeof N;return N===null?"null":me==="object"&&(Array.prototype.isPrototypeOf(N)||N.constructor&&N.constructor.name==="Array")?"array":me==="object"&&(String.prototype.isPrototypeOf(N)||N.constructor&&N.constructor.name==="String")?"string":me},oe=function(N){return function(me){return X(me)===N}},ue=function(N){return function(me){return typeof me===N}},Pe=function(N){return function(me){return N===me}},at=oe("string"),ct=oe("array"),He=Pe(null),Ft=ue("boolean"),Te=ue("function"),se=function(){},Re=function(N){return function(){return N}},Be=function(N){return N},Xe=function(N,me){return N===me},ve=Re(!1),yt=Re(!0),Qe=function(){return Vt},Vt=function(){var N=function(Tt){return Tt()},me=Be,$e={fold:function(Tt,rn){return Tt()},isSome:ve,isNone:yt,getOr:me,getOrThunk:N,getOrDie:function(Tt){throw new Error(Tt||"error: getOrDie called on none.")},getOrNull:Re(null),getOrUndefined:Re(void 0),or:me,orThunk:N,map:Qe,each:se,bind:Qe,exists:ve,forall:yt,filter:function(){return Qe()},toArray:function(){return[]},toString:Re("none()")};return $e}(),I=function(N){var me=Re(N),$e=function(){return rn},Tt=function(Vn){return Vn(N)},rn={fold:function(Vn,Xr){return Xr(N)},isSome:yt,isNone:ve,getOr:me,getOrThunk:me,getOrDie:me,getOrNull:me,getOrUndefined:me,or:$e,orThunk:$e,map:function(Vn){return I(Vn(N))},each:function(Vn){Vn(N)},bind:Tt,exists:Tt,forall:Tt,filter:function(Vn){return Vn(N)?rn:Vt},toArray:function(){return[N]},toString:function(){return"some("+N+")"}};return rn},je=function(N){return N==null?Vt:I(N)},we={some:I,none:Qe,from:je},St=Array.prototype.indexOf,et=Array.prototype.push,Ae=function(N,me){return St.call(N,me)},Ue=function(N,me){return Ae(N,me)>-1},Ee=function(N,me){for(var $e=N.length,Tt=new Array($e),rn=0;rn<$e;rn++){var Vn=N[rn];Tt[rn]=me(Vn,rn)}return Tt},Je=function(N,me){for(var $e=0,Tt=N.length;$e<Tt;$e++){var rn=N[$e];me(rn,$e)}},$=function(N,me,$e){return Je(N,function(Tt,rn){$e=me($e,Tt,rn)}),$e},ae=function(N){for(var me=[],$e=0,Tt=N.length;$e<Tt;++$e){if(!ct(N[$e]))throw new Error("Arr.flatten item "+$e+" was not an array, input: "+N);et.apply(me,N[$e])}return me},Oe=function(N,me){return ae(Ee(N,me))},Kt=function(N,me){for(var $e=0;$e<N.length;$e++){var Tt=me(N[$e],$e);if(Tt.isSome())return Tt}return we.none()},Ie=function(N,me,$e){return $e===void 0&&($e=Xe),N.exists(function(Tt){return $e(Tt,me)})},cn=function(N){for(var me=[],$e=function(rn){me.push(rn)},Tt=0;Tt<N.length;Tt++)N[Tt].each($e);return me},an=function(N,me){return N?we.some(me):we.none()},C=function(N){var me=N.getParam("link_assume_external_targets",!1);return Ft(me)&&me?1:at(me)&&(me==="http"||me==="https")?me:0},rt=function(N){return N.getParam("link_context_toolbar",!1,"boolean")},ft=function(N){return N.getParam("link_list")},jt=function(N){return N.getParam("default_link_target")},ze=function(N){return N.getParam("target_list",!0)},Yt=function(N){return N.getParam("rel_list",[],"array")},Zt=function(N){return N.getParam("link_class_list",[],"array")},Qt=function(N){return N.getParam("link_title",!0,"boolean")},z=function(N){return N.getParam("allow_unsafe_link_target",!1,"boolean")},Wn=function(N){return N.getParam("link_quicklink",!1,"boolean")},dt=function(N){return N.getParam("link_default_protocol","http","string")},Fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),vn=function(N){return at(N.value)?N.value:""},Ne=function(N){return at(N.text)?N.text:at(N.title)?N.title:""},De=function(N,me){var $e=[];return Fe.each(N,function(Tt){var rn=Ne(Tt);if(Tt.menu!==void 0){var Vn=De(Tt.menu,me);$e.push({text:rn,items:Vn})}else{var Xr=me(Tt);$e.push({text:rn,value:Xr})}}),$e},nt=function(N){return N===void 0&&(N=vn),function(me){return we.from(me).map(function($e){return De($e,N)})}},Dt=function(N){return nt(vn)(N)},ot=function(N,me){return function($e){return{name:N,type:"listbox",label:me,items:$e}}},pt={sanitize:Dt,sanitizeWith:nt,createUi:ot,getValue:vn},$n=function(){return $n=Object.assign||function(me){for(var $e,Tt=1,rn=arguments.length;Tt<rn;Tt++){$e=arguments[Tt];for(var Vn in $e)Object.prototype.hasOwnProperty.call($e,Vn)&&(me[Vn]=$e[Vn])}return me},$n.apply(this,arguments)},le=Object.keys,vt=Object.hasOwnProperty,ln=function(N,me){for(var $e=le(N),Tt=0,rn=$e.length;Tt<rn;Tt++){var Vn=$e[Tt],Xr=N[Vn];me(Xr,Vn)}},En=function(N){return function(me,$e){N[$e]=me}},Fn=function(N,me,$e,Tt){var rn={};return ln(N,function(Vn,Xr){(me(Vn,Xr)?$e:Tt)(Vn,Xr)}),rn},jn=function(N,me){var $e={};return Fn(N,me,En($e),se),$e},Sr=function(N,me){return vt.call(N,me)},Rr=function(N,me){return Sr(N,me)&&N[me]!==void 0&&N[me]!==null},qr=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),_t=tinymce.util.Tools.resolve("tinymce.util.URI"),Pt=function(N){return N&&N.nodeName.toLowerCase()==="a"},Mt=function(N){return Pt(N)&&!!Wt(N)},Le=function(N,me){if(N.collapsed)return[];var $e=N.cloneContents(),Tt=new qr($e.firstChild,$e),rn=[],Vn=$e.firstChild;do me(Vn)&&rn.push(Vn);while(Vn=Tt.next());return rn},Ye=function(N){return/^\w+:/i.test(N)},Wt=function(N){var me=N.getAttribute("data-mce-href");return me||N.getAttribute("href")},dn=function(N,me){var $e=["noopener"],Tt=N?N.split(/\s+/):[],rn=function(Tr){return Fe.trim(Tr.sort().join(" "))},Vn=function(Tr){return Tr=Xr(Tr),Tr.length>0?Tr.concat($e):$e},Xr=function(Tr){return Tr.filter(function(ca){return Fe.inArray($e,ca)===-1})},ta=me?Vn(Tt):Xr(Tt);return ta.length>0?rn(ta):""},Jt=function(N){return N.replace(/\uFEFF/g,"")},ke=function(N,me){return me=me||N.selection.getNode(),fe(me)?N.dom.select("a[href]",me)[0]:N.dom.getParent(me,"a[href]")},Rt=function(N,me){var $e=me?me.innerText||me.textContent:N.getContent({format:"text"});return Jt($e)},bn=function(N){return Fe.grep(N,Mt).length>0},un=function(N){return Le(N,Mt).length>0},Nn=function(N){var me=N.schema.getTextInlineElements(),$e=function(rn){return rn.nodeType===1&&!Pt(rn)&&!Sr(me,rn.nodeName.toLowerCase())},Tt=Le(N.selection.getRng(),$e);return Tt.length===0},fe=function(N){return N&&N.nodeName==="FIGURE"&&/\bimage\b/i.test(N.className)},Ct=function(N){var me=["title","rel","class","target"];return $(me,function($e,Tt){return N[Tt].each(function(rn){$e[Tt]=rn.length>0?rn:null}),$e},{href:N.href})},it=function(N,me){return(me==="http"||me==="https")&&!Ye(N)?me+"://"+N:N},Ut=function(N,me){var $e=$n({},me);if(!(Yt(N).length>0)&&z(N)===!1){var Tt=dn($e.rel,$e.target==="_blank");$e.rel=Tt||null}return we.from($e.target).isNone()&&ze(N)===!1&&($e.target=jt(N)),$e.href=it($e.href,C(N)),$e},Pn=function(N,me,$e,Tt){$e.each(function(rn){Sr(me,"innerText")?me.innerText=rn:me.textContent=rn}),N.dom.setAttribs(me,Tt),N.selection.select(me)},sr=function(N,me,$e,Tt){fe(me)?ko(N,me,Tt):$e.fold(function(){N.execCommand("mceInsertLink",!1,Tt)},function(rn){N.insertContent(N.dom.createHTML("a",Tt,N.dom.encode(rn)))})},oa=function(N,me,$e){var Tt=N.selection.getNode(),rn=ke(N,Tt),Vn=Ut(N,Ct($e));N.undoManager.transact(function(){$e.href===me.href&&me.attach(),rn?(N.focus(),Pn(N,rn,$e.text,Vn)):sr(N,Tt,$e.text,Vn)})},Cr=function(N){var me=N.dom,$e=N.selection,Tt=$e.getBookmark(),rn=$e.getRng().cloneRange(),Vn=me.getParent(rn.startContainer,"a[href]",N.getBody()),Xr=me.getParent(rn.endContainer,"a[href]",N.getBody());Vn&&rn.setStartBefore(Vn),Xr&&rn.setEndAfter(Xr),$e.setRng(rn),N.execCommand("unlink"),$e.moveToBookmark(Tt)},vr=function(N){N.undoManager.transact(function(){var me=N.selection.getNode();fe(me)?La(N,me):Cr(N),N.focus()})},sa=function(N){var me=N.class,$e=N.href,Tt=N.rel,rn=N.target,Vn=N.text,Xr=N.title;return jn({class:me.getOrNull(),href:$e,rel:Tt.getOrNull(),target:rn.getOrNull(),text:Vn.getOrNull(),title:Xr.getOrNull()},function(ta,Tr){return He(ta)===!1})},bo=function(N,me){var $e=me.href;return $n($n({},me),{href:_t.isDomSafe($e,"a",N.settings)?$e:""})},Ba=function(N,me,$e){var Tt=bo(N,$e);N.hasPlugin("rtc",!0)?N.execCommand("createlink",!1,sa(Tt)):oa(N,me,Tt)},wa=function(N){N.hasPlugin("rtc",!0)?N.execCommand("unlink"):vr(N)},La=function(N,me){var $e=N.dom.select("img",me)[0];if($e){var Tt=N.dom.getParents($e,"a[href]",me)[0];Tt&&(Tt.parentNode.insertBefore($e,Tt),N.dom.remove(Tt))}},ko=function(N,me,$e){var Tt=N.dom.select("img",me)[0];if(Tt){var rn=N.dom.create("a",$e);Tt.parentNode.insertBefore(rn,Tt),rn.appendChild(Tt)}},Ha=function(N){return Rr(N,"items")},Fa=function(N,me){return Kt(me,function($e){return Ha($e)?Fa(N,$e.items):an($e.value===N,$e)})},io=function(N,me,$e,Tt){var rn=Tt[me],Vn=N.length>0;return rn!==void 0?Fa(rn,$e).map(function(Xr){return{url:{value:Xr.value,meta:{text:Vn?N:Xr.text,attach:se}},text:Vn?N:Xr.text}}):we.none()},Br=function(N,me){return me==="link"?N.link:me==="anchor"?N.anchor:we.none()},uo=function(N,me){var $e={text:N.text,title:N.title},Tt=function(Tr){return an($e.title.length<=0,we.from(Tr.meta.title).getOr(""))},rn=function(Tr){return an($e.text.length<=0,we.from(Tr.meta.text).getOr(Tr.value))},Vn=function(Tr){var ca=rn(Tr.url),Da=Tt(Tr.url);return ca.isSome()||Da.isSome()?we.some($n($n({},ca.map(function(fu){return{text:fu}}).getOr({})),Da.map(function(fu){return{title:fu}}).getOr({}))):we.none()},Xr=function(Tr,ca){var Da=Br(me,ca.name).getOr([]);return io($e.text,ca.name,Da,Tr)},ta=function(Tr,ca){var Da=ca.name;return Da==="url"?Vn(Tr()):Ue(["anchor","link"],Da)?Xr(Tr(),ca):((Da==="text"||Da==="title")&&($e[Da]=Tr()[Da]),we.none())};return{onChange:ta}},Ln={init:uo,getDelta:io},bi=tinymce.util.Tools.resolve("tinymce.util.Delay"),to=tinymce.util.Tools.resolve("tinymce.util.Promise"),zo=function(N,me,$e){var Tt=N.selection.getRng();bi.setEditorTimeout(N,function(){N.windowManager.confirm(me,function(rn){N.selection.setRng(Tt),$e(rn)})})},yi=function(N){var me=N.href,$e=me.indexOf("@")>0&&me.indexOf("/")===-1&&me.indexOf("mailto:")===-1;return $e?we.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Tt){return $n($n({},Tt),{href:"mailto:"+me})}}):we.none()},Lo=function(N,me){return function($e){var Tt=$e.href,rn=N===1&&!Ye(Tt)||N===0&&/^\s*www(\.|\d\.)/i.test(Tt);return rn?we.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+me+":// prefix?",preprocess:function(Vn){return $n($n({},Vn),{href:me+"://"+Tt})}}):we.none()}},wi=function(N,me){return Kt([yi,Lo(C(N),dt(N))],function($e){return $e(me)}).fold(function(){return to.resolve(me)},function($e){return new to(function(Tt){zo(N,$e.message,function(rn){Tt(rn?$e.preprocess(me):me)})})})},Ci={preprocess:wi},Ji=function(N){var me=N.dom.select("a:not([href])"),$e=Oe(me,function(Tt){var rn=Tt.name||Tt.id;return rn?[{text:rn,value:"#"+rn}]:[]});return $e.length>0?we.some([{text:"None",value:""}].concat($e)):we.none()},Z={getAnchors:Ji},xe=function(N){var me=Zt(N);return me.length>0?pt.sanitize(me):we.none()},Q={getClasses:xe},Ge=tinymce.util.Tools.resolve("tinymce.util.XHR"),sn=function(N){try{return we.some(JSON.parse(N))}catch(me){return we.none()}},On=function(N){var me=function(Tt){return N.convertURL(Tt.value||Tt.url,"href")},$e=ft(N);return new to(function(Tt){at($e)?Ge.send({url:$e,success:function(rn){return Tt(sn(rn))},error:function(rn){return Tt(we.none())}}):Te($e)?$e(function(rn){return Tt(we.some(rn))}):Tt(we.from($e))}).then(function(Tt){return Tt.bind(pt.sanitizeWith(me)).map(function(rn){if(rn.length>0){var Vn=[{text:"None",value:""}];return Vn.concat(rn)}else return rn})})},j={getLinks:On},ne=function(N,me){var $e=Yt(N);if($e.length>0){var Tt=Ie(me,"_blank"),rn=z(N)===!1,Vn=function(ta){return dn(pt.getValue(ta),Tt)},Xr=rn?pt.sanitizeWith(Vn):pt.sanitize;return Xr($e)}return we.none()},Ze={getRels:ne},kt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],O=function(N){var me=ze(N);return ct(me)?pt.sanitize(me).orThunk(function(){return we.some(kt)}):me===!1?we.none():we.some(kt)},H={getTargets:O},te=function(N,me,$e){var Tt=N.getAttrib(me,$e);return Tt!==null&&Tt.length>0?we.some(Tt):we.none()},be=function(N,me){var $e=N.dom,Tt=Nn(N),rn=Tt?we.some(Rt(N.selection,me)):we.none(),Vn=me?we.some($e.getAttrib(me,"href")):we.none(),Xr=me?we.from($e.getAttrib(me,"target")):we.none(),ta=te($e,me,"rel"),Tr=te($e,me,"class"),ca=te($e,me,"title");return{url:Vn,text:rn,title:ca,target:Xr,rel:ta,linkClass:Tr}},Ve=function(N,me){return j.getLinks(N).then(function($e){var Tt=be(N,me);return{anchor:Tt,catalogs:{targets:H.getTargets(N),rels:Ze.getRels(N,Tt.target),classes:Q.getClasses(N),anchor:Z.getAnchors(N),link:$e},optNode:we.from(me),flags:{titleEnabled:Qt(N)}}})},qe={collect:Ve},on=function(N,me){return function($e){var Tt=$e.getData();if(!Tt.url.value){wa(N),$e.close();return}var rn=function(ta){return we.from(Tt[ta]).filter(function(Tr){return!Ie(me.anchor[ta],Tr)})},Vn={href:Tt.url.value,text:rn("text"),target:rn("target"),rel:rn("rel"),class:rn("linkClass"),title:rn("title")},Xr={href:Tt.url.value,attach:Tt.url.meta!==void 0&&Tt.url.meta.attach?Tt.url.meta.attach:se};Ci.preprocess(N,Vn).then(function(ta){Ba(N,Xr,ta)}),$e.close()}},Sn=function(N){var me=ke(N);return qe.collect(N,me)},Zn=function(N,me){var $e=N.anchor,Tt=$e.url.getOr("");return{url:{value:Tt,meta:{original:{value:Tt}}},text:$e.text.getOr(""),title:$e.title.getOr(""),anchor:Tt,link:Tt,rel:$e.rel.getOr(""),target:$e.target.or(me).getOr(""),linkClass:$e.linkClass.getOr("")}},or=function(N,me,$e){var Tt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],rn=N.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Vn=N.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Xr=we.from(jt($e)),ta=Zn(N,Xr),Tr=N.catalogs,ca=Ln.init(ta,Tr),Da={type:"panel",items:ae([Tt,rn,Vn,cn([Tr.anchor.map(pt.createUi("anchor","Anchors")),Tr.rels.map(pt.createUi("rel","Rel")),Tr.targets.map(pt.createUi("target","Open link in...")),Tr.link.map(pt.createUi("link","Link list")),Tr.classes.map(pt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Da,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ta,onChange:function(fu,hc){var pc=hc.name;ca.onChange(fu.getData,{name:pc}).each(function(Jn){fu.setData(Jn)})},onSubmit:me}},ir=function(N){var me=Sn(N);me.then(function($e){var Tt=on(N,$e);return or($e,Tt,N)}).then(function($e){N.windowManager.open($e)})},hr=function(N,me){document.body.appendChild(N),N.dispatchEvent(me),document.body.removeChild(N)},Zr=function(N){var me=document.createElement("a");me.target="_blank",me.href=N,me.rel="noreferrer noopener";var $e=document.createEvent("MouseEvents");$e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),hr(me,$e)},Va=function(N,me){return N.dom.getParent(me,"a[href]")},ui=function(N){return Va(N,N.selection.getStart())},Qi=function(N){return N.altKey===!0&&N.shiftKey===!1&&N.ctrlKey===!1&&N.metaKey===!1},Mi=function(N,me){if(me){var $e=Wt(me);if(/^#/.test($e)){var Tt=N.$($e);Tt.length&&N.selection.scrollIntoView(Tt[0],!0)}else Zr(me.href)}},Ua=function(N){return function(){ir(N)}},gs=function(N){return function(){Mi(N,ui(N))}},ku=function(N){N.on("click",function(me){var $e=Va(N,me.target);$e&&D.metaKeyPressed(me)&&(me.preventDefault(),Mi(N,$e))}),N.on("keydown",function(me){var $e=ui(N);$e&&me.keyCode===13&&Qi(me)&&(me.preventDefault(),Mi(N,$e))})},xi=function(N,me){return N.on("NodeChange",me),function(){return N.off("NodeChange",me)}},yo=function(N){return function(me){var $e=function(){return me.setActive(!N.mode.isReadOnly()&&ke(N,N.selection.getNode())!==null)};return $e(),xi(N,$e)}},hs=function(N){return function(me){var $e=function(){return me.setDisabled(ke(N,N.selection.getNode())===null)};return $e(),xi(N,$e)}},cu=function(N){return function(me){var $e=function(rn){return bn(rn)||un(N.selection.getRng())},Tt=N.dom.getParents(N.selection.getStart());return me.setDisabled(!$e(Tt)),xi(N,function(rn){return me.setDisabled(!$e(rn.parents))})}},ps=function(N){N.addCommand("mceLink",function(){Wn(N)?N.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ua(N)()})},$s=function(N){N.addShortcut("Meta+K","",function(){N.execCommand("mceLink")})},lu=function(N){N.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ua(N),onSetup:yo(N)}),N.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:gs(N),onSetup:hs(N)}),N.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return wa(N)},onSetup:cu(N)})},Ri=function(N){N.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:gs(N),onSetup:hs(N)}),N.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ua(N)}),N.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return wa(N)},onSetup:cu(N)})},zs=function(N){var me="link unlink openlink",$e="link";N.ui.registry.addContextMenu("link",{update:function(Tt){return bn(N.dom.getParents(Tt,"a"))?me:$e}})},Gu=function(N){var me=function(rn){rn.selection.collapse(!1)},$e=function(rn){var Vn=N.selection.getNode();return rn.setDisabled(!ke(N,Vn)),se},Tt=function(rn){var Vn=ke(N),Xr=Nn(N);if(!Vn&&Xr){var ta=Rt(N.selection,Vn);return we.some(ta.length>0?ta:rn)}else return we.none()};N.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:yo(N)},label:"Link",predicate:function(rn){return!!ke(N,rn)&&rt(N)},initValue:function(){var rn=ke(N);return rn?Wt(rn):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(rn){var Vn=N.selection.getNode();return rn.setActive(!!ke(N,Vn)),yo(N)(rn)},onAction:function(rn){var Vn=rn.getValue(),Xr=Tt(Vn),ta={href:Vn,attach:se};Ba(N,ta,{href:Vn,text:Xr,title:we.none(),rel:we.none(),target:we.none(),class:we.none()}),me(N),rn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:$e,onAction:function(rn){wa(N),rn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:$e,onAction:function(rn){gs(N)(),rn.hide()}}]})};function bs(){Y.add("link",function(N){lu(N),Ri(N),zs(N),Gu(N),ku(N),ps(N),$s(N)})}bs()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(w){var A=typeof w;return w===null?"null":A==="object"&&(Array.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="Array")?"array":A==="object"&&(String.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="String")?"string":A},X=function(w){return function(A){return D(A)===w}},oe=function(w){return function(A){return typeof A===w}},ue=X("string"),Pe=X("object"),at=X("array"),ct=oe("boolean"),He=oe("function"),Ft=oe("number"),Te=function(){},se=function(w){return function(){return w}},Re=function(w){return w},Be=function(w,A){return w===A},Xe=function(w){return function(A){return!w(A)}},ve=se(!1),yt=se(!0),Qe=function(){return Vt},Vt=function(){var w=function(J){return J()},A=Re,M={fold:function(J,_e){return J()},isSome:ve,isNone:yt,getOr:A,getOrThunk:w,getOrDie:function(J){throw new Error(J||"error: getOrDie called on none.")},getOrNull:se(null),getOrUndefined:se(void 0),or:A,orThunk:w,map:Qe,each:Te,bind:Qe,exists:ve,forall:yt,filter:function(){return Qe()},toArray:function(){return[]},toString:se("none()")};return M}(),I=function(w){var A=se(w),M=function(){return _e},J=function(wt){return wt(w)},_e={fold:function(wt,Gn){return Gn(w)},isSome:yt,isNone:ve,getOr:A,getOrThunk:A,getOrDie:A,getOrNull:A,getOrUndefined:A,or:M,orThunk:M,map:function(wt){return I(wt(w))},each:function(wt){wt(w)},bind:J,exists:J,forall:J,filter:function(wt){return wt(w)?_e:Vt},toArray:function(){return[w]},toString:function(){return"some("+w+")"}};return _e},je=function(w){return w==null?Vt:I(w)},we={some:I,none:Qe,from:je},St=Array.prototype.slice,et=Array.prototype.push,Ae=function(w,A){for(var M=w.length,J=new Array(M),_e=0;_e<M;_e++){var wt=w[_e];J[_e]=A(wt,_e)}return J},Ue=function(w,A){for(var M=0,J=w.length;M<J;M++){var _e=w[M];A(_e,M)}},Ee=function(w,A){for(var M=[],J=0,_e=w.length;J<_e;J++){var wt=w[J];A(wt,J)&&M.push(wt)}return M},Je=function(w,A){if(w.length===0)return[];for(var M=A(w[0]),J=[],_e=[],wt=0,Gn=w.length;wt<Gn;wt++){var br=w[wt],Gr=A(br);Gr!==M&&(J.push(_e),_e=[]),M=Gr,_e.push(br)}return _e.length!==0&&J.push(_e),J},$=function(w,A,M){return Ue(w,function(J,_e){M=A(M,J,_e)}),M},ae=function(w,A,M){for(var J=0,_e=w.length;J<_e;J++){var wt=w[J];if(A(wt,J))return we.some(wt);if(M(wt,J))break}return we.none()},Oe=function(w,A){return ae(w,A,ve)},Kt=function(w){for(var A=[],M=0,J=w.length;M<J;++M){if(!at(w[M]))throw new Error("Arr.flatten item "+M+" was not an array, input: "+w);et.apply(A,w[M])}return A},Ie=function(w,A){return Kt(Ae(w,A))},cn=function(w){var A=St.call(w,0);return A.reverse(),A},an=function(w,A){return A>=0&&A<w.length?we.some(w[A]):we.none()},C=function(w){return an(w,0)},rt=function(w){return an(w,w.length-1)},ft=function(w,A){for(var M=0;M<w.length;M++){var J=A(w[M],M);if(J.isSome())return J}return we.none()},jt=function(){return jt=Object.assign||function(A){for(var M,J=1,_e=arguments.length;J<_e;J++){M=arguments[J];for(var wt in M)Object.prototype.hasOwnProperty.call(M,wt)&&(A[wt]=M[wt])}return A},jt.apply(this,arguments)};function ze(w,A,M){if(M||arguments.length===2)for(var J=0,_e=A.length,wt;J<_e;J++)(wt||!(J in A))&&(wt||(wt=Array.prototype.slice.call(A,0,J)),wt[J]=A[J]);return w.concat(wt||Array.prototype.slice.call(A))}var Yt=function(w){var A=!1,M;return function(){for(var J=[],_e=0;_e<arguments.length;_e++)J[_e]=arguments[_e];return A||(A=!0,M=w.apply(null,J)),M}},Zt=function(w,A,M,J){var _e=w.isiOS()&&/ipad/i.test(M)===!0,wt=w.isiOS()&&!_e,Gn=w.isiOS()||w.isAndroid(),br=Gn||J("(pointer:coarse)"),Gr=_e||!wt&&Gn&&J("(min-device-width:768px)"),Nr=wt||Gn&&!Gr,Sa=A.isSafari()&&w.isiOS()&&/safari/i.test(M)===!1,Ei=!Nr&&!Gr&&!Sa;return{isiPad:se(_e),isiPhone:se(wt),isTablet:se(Gr),isPhone:se(Nr),isTouch:se(br),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:se(Sa),isDesktop:se(Ei)}},Qt=function(w,A){for(var M=0;M<w.length;M++){var J=w[M];if(J.test(A))return J}},z=function(w,A){var M=Qt(w,A);if(!M)return{major:0,minor:0};var J=function(_e){return Number(A.replace(M,"$"+_e))};return Fe(J(1),J(2))},Wn=function(w,A){var M=String(A).toLowerCase();return w.length===0?dt():z(w,M)},dt=function(){return Fe(0,0)},Fe=function(w,A){return{major:w,minor:A}},vn={nu:Fe,detect:Wn,unknown:dt},Ne=function(w,A){return ft(A.brands,function(M){var J=M.brand.toLowerCase();return Oe(w,function(_e){var wt;return J===((wt=_e.brand)===null||wt===void 0?void 0:wt.toLowerCase())}).map(function(_e){return{current:_e.name,version:vn.nu(parseInt(M.version,10),0)}})})},De=function(w,A){var M=String(A).toLowerCase();return Oe(w,function(J){return J.search(M)})},nt=function(w,A){return De(w,A).map(function(M){var J=vn.detect(M.versionRegexes,A);return{current:M.name,version:J}})},Dt=function(w,A){return De(w,A).map(function(M){var J=vn.detect(M.versionRegexes,A);return{current:M.name,version:J}})},ot=function(w,A){return w.indexOf(A)!==-1},pt=function(w){return function(A){return A.replace(w,"")}},$n=pt(/^\s+|\s+$/g),le=function(w){return w.length>0},vt=function(w){return!le(w)},ln=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,En=function(w){return function(A){return ot(A,w)}},Fn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(w){return ot(w,"edge/")&&ot(w,"chrome")&&ot(w,"safari")&&ot(w,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ln],search:function(w){return ot(w,"chrome")&&!ot(w,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(w){return ot(w,"msie")||ot(w,"trident")}},{name:"Opera",versionRegexes:[ln,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:En("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:En("firefox")},{name:"Safari",versionRegexes:[ln,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(w){return(ot(w,"safari")||ot(w,"mobile/"))&&ot(w,"applewebkit")}}],jn=[{name:"Windows",search:En("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(w){return ot(w,"iphone")||ot(w,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:En("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:En("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:En("linux"),versionRegexes:[]},{name:"Solaris",search:En("sunos"),versionRegexes:[]},{name:"FreeBSD",search:En("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:En("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sr={browsers:se(Fn),oses:se(jn)},Rr="Edge",qr="Chrome",_t="IE",Pt="Opera",Mt="Firefox",Le="Safari",Ye=function(){return Wt({current:void 0,version:vn.unknown()})},Wt=function(w){var A=w.current,M=w.version,J=function(_e){return function(){return A===_e}};return{current:A,version:M,isEdge:J(Rr),isChrome:J(qr),isIE:J(_t),isOpera:J(Pt),isFirefox:J(Mt),isSafari:J(Le)}},dn={unknown:Ye,nu:Wt,edge:se(Rr),chrome:se(qr),ie:se(_t),opera:se(Pt),firefox:se(Mt),safari:se(Le)},Jt="Windows",ke="iOS",Rt="Android",bn="Linux",un="OSX",Nn="Solaris",fe="FreeBSD",Ct="ChromeOS",it=function(){return Ut({current:void 0,version:vn.unknown()})},Ut=function(w){var A=w.current,M=w.version,J=function(_e){return function(){return A===_e}};return{current:A,version:M,isWindows:J(Jt),isiOS:J(ke),isAndroid:J(Rt),isOSX:J(un),isLinux:J(bn),isSolaris:J(Nn),isFreeBSD:J(fe),isChromeOS:J(Ct)}},Pn={unknown:it,nu:Ut,windows:se(Jt),ios:se(ke),android:se(Rt),linux:se(bn),osx:se(un),solaris:se(Nn),freebsd:se(fe),chromeos:se(Ct)},sr=function(w,A,M){var J=Sr.browsers(),_e=Sr.oses(),wt=A.bind(function(Gr){return Ne(J,Gr)}).orThunk(function(){return nt(J,w)}).fold(dn.unknown,dn.nu),Gn=Dt(_e,w).fold(Pn.unknown,Pn.nu),br=Zt(Gn,wt,w,M);return{browser:wt,os:Gn,deviceType:br}},oa={detect:sr},Cr=function(w){return window.matchMedia(w).matches},vr=Yt(function(){return oa.detect(navigator.userAgent,we.from(navigator.userAgentData),Cr)}),sa=function(){return vr()},bo=function(w,A,M){return(w.compareDocumentPosition(A)&M)!==0},Ba=function(w,A){return bo(w,A,Node.DOCUMENT_POSITION_CONTAINED_BY)},wa=1,La=function(w,A){var M=A||document,J=M.createElement("div");if(J.innerHTML=w,!J.hasChildNodes()||J.childNodes.length>1)throw console.error("HTML does not have a single root node",w),new Error("HTML must have a single root node");return Fa(J.childNodes[0])},ko=function(w,A){var M=A||document,J=M.createElement(w);return Fa(J)},Ha=function(w,A){var M=A||document,J=M.createTextNode(w);return Fa(J)},Fa=function(w){if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},io=function(w,A,M){return we.from(w.dom.elementFromPoint(A,M)).map(Fa)},Br={fromHtml:La,fromTag:ko,fromText:Ha,fromDom:Fa,fromPoint:io},uo=function(w,A){var M=w.dom;if(M.nodeType!==wa)return!1;var J=M;if(J.matches!==void 0)return J.matches(A);if(J.msMatchesSelector!==void 0)return J.msMatchesSelector(A);if(J.webkitMatchesSelector!==void 0)return J.webkitMatchesSelector(A);if(J.mozMatchesSelector!==void 0)return J.mozMatchesSelector(A);throw new Error("Browser lacks native selectors")},Ln=function(w,A){return w.dom===A.dom},bi=function(w,A){var M=w.dom,J=A.dom;return M===J?!1:M.contains(J)},to=function(w,A){return Ba(w.dom,A.dom)},zo=function(w,A){return sa().browser.isIE()?to(w,A):bi(w,A)},yi=uo,Lo=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),wi=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ci=tinymce.util.Tools.resolve("tinymce.util.VK"),Ji=Object.keys,Z=function(w,A){for(var M=Ji(w),J=0,_e=M.length;J<_e;J++){var wt=M[J],Gn=w[wt];A(Gn,wt)}},xe=function(w){return function(A,M){w[M]=A}},Q=function(w,A,M,J){var _e={};return Z(w,function(wt,Gn){(A(wt,Gn)?M:J)(wt,Gn)}),_e},Ge=function(w,A){var M={};return Q(w,A,xe(M),Te),M};typeof window!="undefined"||Function("return this;")();var sn=function(w){var A=w.dom.nodeName;return A.toLowerCase()},On=function(w){return w.dom.nodeType},j=function(w){return function(A){return On(A)===w}},ne=j(wa),Ze=function(w){return function(A){return ne(A)&&sn(A)===w}},kt=function(w,A,M){if(ue(M)||ct(M)||Ft(M))w.setAttribute(A,M+"");else throw console.error("Invalid call to Attribute.set. Key ",A,":: Value ",M,":: Element ",w),new Error("Attribute value was not simple")},O=function(w,A){var M=w.dom;Z(A,function(J,_e){kt(M,_e,J)})},H=function(w){return $(w.dom.attributes,function(A,M){return A[M.name]=M.value,A},{})},te=function(w){return we.from(w.dom.parentNode).map(Br.fromDom)},be=function(w){return Ae(w.dom.childNodes,Br.fromDom)},Ve=function(w,A){var M=w.dom.childNodes;return we.from(M[A]).map(Br.fromDom)},qe=function(w){return Ve(w,0)},on=function(w){return Ve(w,w.dom.childNodes.length-1)},Sn=function(w,A){var M=te(w);M.each(function(J){J.dom.insertBefore(A.dom,w.dom)})},Zn=function(w,A){w.dom.appendChild(A.dom)},or=function(w,A){Ue(A,function(M){Sn(w,M)})},ir=function(w,A){Ue(A,function(M){Zn(w,M)})},hr=function(w){var A=w.dom;A.parentNode!==null&&A.parentNode.removeChild(A)},Zr=function(w,A){return Br.fromDom(w.dom.cloneNode(A))},Va=function(w){return Zr(w,!0)},ui=function(w,A){var M=Br.fromTag(A),J=H(w);return O(M,J),M},Qi=function(w,A){var M=ui(w,A);Sn(w,M);var J=be(w);return ir(M,J),hr(w),M},Mi=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ua=tinymce.util.Tools.resolve("tinymce.util.Tools"),gs=function(w){return function(A){return A&&A.nodeName.toLowerCase()===w}},ku=function(w){return function(A){return A&&w.test(A.nodeName)}},xi=function(w){return w&&w.nodeType===3},yo=ku(/^(OL|UL|DL)$/),hs=ku(/^(OL|UL)$/),cu=gs("ol"),ps=ku(/^(LI|DT|DD)$/),$s=ku(/^(DT|DD)$/),lu=ku(/^(TH|TD)$/),Ri=gs("br"),zs=function(w){return w.parentNode.firstChild===w},Gu=function(w,A){return A&&!!w.schema.getTextBlockElements()[A.nodeName]},bs=function(w,A){return w&&w.nodeName in A},N=function(w,A){return Ri(A)?w.isBlock(A.nextSibling)&&!Ri(A.previousSibling):!1},me=function(w,A,M){var J=w.isEmpty(A);return M&&w.select("span[data-mce-type=bookmark]",A).length>0?!1:J},$e=function(w,A){return w.isChildOf(A,w.getRoot())},Tt=function(w){return w.getParam("lists_indent_on_tab",!0)},rn=function(w){var A=w.getParam("forced_root_block","p");return A===!1?"":A===!0?"p":A},Vn=function(w){return w.getParam("forced_root_block_attrs",{})},Xr=function(w,A){var M=w.dom,J=w.schema.getBlockElements(),_e=M.createFragment(),wt=rn(w),Gn,br,Gr;if(wt&&(br=M.create(wt),br.tagName===wt.toUpperCase()&&M.setAttribs(br,Vn(w)),bs(A.firstChild,J)||_e.appendChild(br)),A)for(;Gn=A.firstChild;){var Nr=Gn.nodeName;!Gr&&(Nr!=="SPAN"||Gn.getAttribute("data-mce-type")!=="bookmark")&&(Gr=!0),bs(Gn,J)?(_e.appendChild(Gn),br=null):wt?(br||(br=M.create(wt),_e.appendChild(br)),br.appendChild(Gn)):_e.appendChild(Gn)}return wt?Gr||br.appendChild(M.create("br",{"data-mce-bogus":"1"})):_e.appendChild(M.create("br")),_e},ta=Mi.DOM,Tr=function(w,A,M){var J=function(Nr){Ua.each(_e,function(Sa){Nr.parentNode.insertBefore(Sa,M.parentNode)}),ta.remove(Nr)},_e=ta.select('span[data-mce-type="bookmark"]',A),wt=Xr(w,M),Gn=ta.createRng();Gn.setStartAfter(M),Gn.setEndAfter(A);for(var br=Gn.extractContents(),Gr=br.firstChild;Gr;Gr=Gr.firstChild)if(Gr.nodeName==="LI"&&w.dom.isEmpty(Gr)){ta.remove(Gr);break}w.dom.isEmpty(br)||ta.insertAfter(br,A),ta.insertAfter(wt,A),me(w.dom,M.parentNode)&&J(M.parentNode),ta.remove(M),me(w.dom,A)&&ta.remove(A)},ca=Ze("dd"),Da=Ze("dt"),fu=function(w,A){ca(A)?Qi(A,"dt"):Da(A)&&te(A).each(function(M){return Tr(w,M.dom,A.dom)})},hc=function(w){Da(w)&&Qi(w,"dd")},pc=function(w,A,M){A==="Indent"?Ue(M,hc):Ue(M,function(J){return fu(w,J)})},Jn=function(w,A){if(xi(w))return{container:w,offset:A};var M=Lo.getNode(w,A);return xi(M)?{container:M,offset:A>=w.childNodes.length?M.data.length:0}:M.previousSibling&&xi(M.previousSibling)?{container:M.previousSibling,offset:M.previousSibling.data.length}:M.nextSibling&&xi(M.nextSibling)?{container:M.nextSibling,offset:0}:{container:w,offset:A}},Eu=function(w){var A=w.cloneRange(),M=Jn(w.startContainer,w.startOffset);A.setStart(M.container,M.offset);var J=Jn(w.endContainer,w.endOffset);return A.setEnd(J.container,J.offset),A},tl=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),eu=function(w,A){var M=A||w.selection.getStart(!0);return w.dom.getParent(M,"OL,UL,DL",Ni(w,M))},nl=function(w,A){return w&&A.length===1&&A[0]===w},_f=function(w){return Ee(w.querySelectorAll("ol,ul,dl"),yo)},Hl=function(w){var A=eu(w),M=w.selection.getSelectedBlocks();return nl(A,M)?_f(A):Ee(M,function(J){return yo(J)&&A!==J})},_a=function(w,A){var M=Ua.map(A,function(J){var _e=w.dom.getParent(J,"li,dd,dt",Ni(w,J));return _e||J});return tl.unique(M)},Ls=function(w){var A=w.selection.getSelectedBlocks();return Ee(_a(w,A),ps)},Pf=function(w){return Ee(Ls(w),$s)},Ni=function(w,A){var M=w.dom.getParents(A,"TD,TH");return M.length>0?M[0]:w.getBody()},si=function(w,A){var M=w.dom.getParents(A,"ol,ul",Ni(w,A));return rt(M)},bc=function(w){var A=si(w,w.selection.getStart()),M=Ee(w.selection.getSelectedBlocks(),hs);return A.toArray().concat(M)},xt=function(w){var A=bc(w);return Hs(w,A)},Hs=function(w,A){var M=Ae(A,function(J){return si(w,J).getOr(J)});return tl.unique(M)},Eo=function(w,A,M){return M===void 0&&(M=Be),w.exists(function(J){return M(J,A)})},rl=function(w,A,M){return w.isSome()&&A.isSome()?we.some(M(w.getOrDie(),A.getOrDie())):we.none()},Ku=function(w,A){var M=A||document,J=M.createDocumentFragment();return Ue(w,function(_e){J.appendChild(_e.dom)}),Br.fromDom(J)},Vs=function(w,A,M){return w.fire("ListMutation",{action:A,element:M})},k=function(w){return w.style!==void 0&&He(w.style.getPropertyValue)},b=function(w,A,M){if(!ue(M))throw console.error("Invalid call to CSS.set. Property ",A,":: Value ",M,":: Element ",w),new Error("CSS value must be a string: "+M);k(w)&&w.style.setProperty(A,M)},_=function(w,A,M){var J=w.dom;b(J,A,M)},L=function(w,A){Zn(w.item,A.list)},ce=function(w){for(var A=1;A<w.length;A++)L(w[A-1],w[A])},Ke=function(w,A){rl(rt(w),C(A),L)},qt=function(w,A){var M={list:Br.fromTag(A,w),item:Br.fromTag("li",w)};return Zn(M.list,M.item),M},qn=function(w,A,M){for(var J=[],_e=0;_e<M;_e++)J.push(qt(w,A.listType));return J},cr=function(w,A){for(var M=0;M<w.length-1;M++)_(w[M].item,"list-style-type","none");rt(w).each(function(J){O(J.list,A.listAttributes),O(J.item,A.itemAttributes),ir(J.item,A.content)})},Cn=function(w,A){sn(w.list)!==A.listType&&(w.list=Qi(w.list,A.listType)),O(w.list,A.listAttributes)},Hn=function(w,A,M){var J=Br.fromTag("li",w);return O(J,A),ir(J,M),J},xr=function(w,A){Zn(w.list,A),w.item=A},Pr=function(w,A,M){var J=A.slice(0,M.depth);return rt(J).each(function(_e){var wt=Hn(w,M.itemAttributes,M.content);xr(_e,wt),Cn(_e,M)}),J},lr=function(w,A,M){var J=qn(w,M,M.depth-A.length);return ce(J),cr(J,M),Ke(A,J),A.concat(J)},Ca=function(w,A){var M=$(A,function(J,_e){return _e.depth>J.length?lr(w,J,_e):Pr(w,J,_e)},[]);return C(M).map(function(J){return J.list})},pr=function(w){return yi(w,"OL,UL")},ia=function(w){return qe(w).exists(pr)},na=function(w){return on(w).exists(pr)},ci=function(w){return w.depth>0},Dr=function(w){return w.isSelected},Vv=function(w){var A=be(w),M=na(w)?A.slice(0,-1):A;return Ae(M,Va)},Ma=function(w,A,M){return te(w).filter(ne).map(function(J){return{depth:A,dirty:!1,isSelected:M,content:Vv(w),itemAttributes:H(w),listAttributes:H(J),listType:sn(J)}})},so=function(w,A){switch(w){case"Indent":A.depth++;break;case"Outdent":A.depth--;break;case"Flatten":A.depth=0}A.dirty=!0},Eh=function(w,A){w.listType=A.listType,w.listAttributes=jt({},A.listAttributes)},Ho=function(w){w.listAttributes=Ge(w.listAttributes,function(A,M){return M!=="start"})},xm=function(w,A){var M=w[A].depth,J=function(wt){return wt.depth===M&&!wt.dirty},_e=function(wt){return wt.depth<M};return ae(cn(w.slice(0,A)),J,_e).orThunk(function(){return ae(w.slice(A+1),J,_e)})},Uv=function(w){return Ue(w,function(A,M){xm(w,M).fold(function(){A.dirty&&Ho(A)},function(J){return Eh(A,J)})}),w},mr=function(w){var A=w,M=function(){return A},J=function(_e){A=_e};return{get:M,set:J}},Us=function(w,A,M,J){return qe(J).filter(pr).fold(function(){A.each(function(Gn){Ln(Gn.start,J)&&M.set(!0)});var _e=Ma(J,w,M.get());A.each(function(Gn){Ln(Gn.end,J)&&M.set(!1)});var wt=on(J).filter(pr).map(function(Gn){return yc(w,A,M,Gn)}).getOr([]);return _e.toArray().concat(wt)},function(_e){return yc(w,A,M,_e)})},yc=function(w,A,M,J){return Ie(be(J),function(_e){var wt=pr(_e)?yc:Us,Gn=w+1;return wt(Gn,A,M,_e)})},no=function(w,A){var M=mr(!1),J=0;return Ae(w,function(_e){return{sourceList:_e,entries:yc(J,A,M,_e)}})},Th=function(w,A){var M=Uv(A);return Ae(M,function(J){var _e=Ku(J.content);return Br.fromDom(Xr(w,_e.dom))})},Vo=function(w,A){var M=Uv(A);return Ca(w.contentDocument,M).toArray()},al=function(w,A){return Ie(Je(A,ci),function(M){var J=C(M).exists(ci);return J?Vo(w,M):Th(w,M)})},Vl=function(w,A){Ue(Ee(w,Dr),function(M){return so(A,M)})},la=function(w){var A=Ae(Ls(w),Br.fromDom);return rl(Oe(A,Xe(ia)),Oe(cn(A),Xe(ia)),function(M,J){return{start:M,end:J}})},ol=function(w,A,M){var J=no(A,la(w));Ue(J,function(_e){Vl(_e.entries,M);var wt=al(w,_e.entries);Ue(wt,function(Gn){Vs(w,M==="Indent"?"IndentList":"OutdentList",Gn.dom)}),or(_e.sourceList,wt),hr(_e.sourceList)})},Ii=function(w,A){var M=Ae(xt(w),Br.fromDom),J=Ae(Pf(w),Br.fromDom),_e=!1;if(M.length||J.length){var wt=w.selection.getBookmark();ol(w,M,A),pc(w,A,J),w.selection.moveToBookmark(wt),w.selection.setRng(Eu(w.selection.getRng())),w.nodeChanged(),_e=!0}return _e},il=function(w){return Ii(w,"Indent")},To=function(w){return Ii(w,"Outdent")},Tu=function(w){return Ii(w,"Flatten")},Oh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),ul=Mi.DOM,pa=function(w){var A={},M=function(J){var _e=w[J?"startContainer":"endContainer"],wt=w[J?"startOffset":"endOffset"];if(_e.nodeType===1){var Gn=ul.create("span",{"data-mce-type":"bookmark"});_e.hasChildNodes()?(wt=Math.min(wt,_e.childNodes.length-1),J?_e.insertBefore(Gn,_e.childNodes[wt]):ul.insertAfter(Gn,_e.childNodes[wt])):_e.appendChild(Gn),_e=Gn,wt=0}A[J?"startContainer":"endContainer"]=_e,A[J?"startOffset":"endOffset"]=wt};return M(!0),w.collapsed||M(),A},Ul=function(w){var A=function(J){var _e,wt=function(Gr){for(var Nr=Gr.parentNode.firstChild,Sa=0;Nr;){if(Nr===Gr)return Sa;(Nr.nodeType!==1||Nr.getAttribute("data-mce-type")!=="bookmark")&&Sa++,Nr=Nr.nextSibling}return-1},Gn=_e=w[J?"startContainer":"endContainer"],br=w[J?"startOffset":"endOffset"];!Gn||(Gn.nodeType===1&&(br=wt(Gn),Gn=Gn.parentNode,ul.remove(_e),!Gn.hasChildNodes()&&ul.isBlock(Gn)&&Gn.appendChild(ul.create("br"))),w[J?"startContainer":"endContainer"]=Gn,w[J?"startOffset":"endOffset"]=br)};A(!0),A();var M=ul.createRng();return M.setStart(w.startContainer,w.startOffset),w.endContainer&&M.setEnd(w.endContainer,w.endOffset),Eu(M)},sl=function(w){switch(w){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},$i=function(w){return/\btox\-/.test(w.className)},cl=function(w,A,M){var J=function(wt){var Gn=ae(wt.parents,yo,lu).filter(function(br){return br.nodeName===A&&!$i(br)}).isSome();M(Gn)},_e=w.dom.getParents(w.selection.getNode());return J({parents:_e}),w.on("NodeChange",J),function(){return w.off("NodeChange",J)}},Wv=function(w,A,M){var J=M["list-style-type"]?M["list-style-type"]:null;w.setStyle(A,"list-style-type",J)},Ah=function(w,A){Ua.each(A,function(M,J){w.setAttribute(J,M)})},Si=function(w,A,M){Ah(A,M["list-attributes"]),Ua.each(w.select("li",A),function(J){Ah(J,M["list-item-attributes"])})},wc=function(w,A,M){Wv(w,A,M),Si(w,A,M)},Xu=function(w,A,M){Ua.each(M,function(J){var _e;return w.setStyle(A,(_e={},_e[J]="",_e))})},Wl=function(w,A,M,J){var _e=A[M?"startContainer":"endContainer"],wt=A[M?"startOffset":"endOffset"];for(_e.nodeType===1&&(_e=_e.childNodes[Math.min(wt,_e.childNodes.length-1)]||_e),!M&&Ri(_e.nextSibling)&&(_e=_e.nextSibling);_e.parentNode!==J;){if(Gu(w,_e)||/^(TD|TH)$/.test(_e.parentNode.nodeName))return _e;_e=_e.parentNode}return _e},Sm=function(w,A,M){for(var J=[],_e=w.dom,wt=Wl(w,A,!0,M),Gn=Wl(w,A,!1,M),br,Gr=[],Nr=wt;Nr&&(Gr.push(Nr),Nr!==Gn);Nr=Nr.nextSibling);return Ua.each(Gr,function(Sa){if(Gu(w,Sa)){J.push(Sa),br=null;return}if(_e.isBlock(Sa)||Ri(Sa)){Ri(Sa)&&_e.remove(Sa),br=null;return}var Ei=Sa.nextSibling;if(Oh.isBookmarkNode(Sa)&&(yo(Ei)||Gu(w,Ei)||!Ei&&Sa.parentNode===M)){br=null;return}br||(br=_e.create("p"),Sa.parentNode.insertBefore(br,Sa),J.push(br)),br.appendChild(Sa)}),J},Yo=function(w,A,M){var J=w.getStyle(A,"list-style-type"),_e=M?M["list-style-type"]:"";return _e=_e===null?"":_e,J===_e},jv=function(w,A,M){var J=w.selection.getRng(),_e="LI",wt=Ni(w,w.selection.getStart(!0)),Gn=w.dom;if(Gn.getContentEditable(w.selection.getNode())!=="false"){A=A.toUpperCase(),A==="DL"&&(_e="DT");var br=pa(J),Gr=Sm(w,J,wt);Ua.each(Gr,function(Nr){var Sa,Ei=Nr.previousSibling,_h=Nr.parentNode;ps(_h)||(Ei&&yo(Ei)&&Ei.nodeName===A&&Yo(Gn,Ei,M)?(Sa=Ei,Nr=Gn.rename(Nr,_e),Ei.appendChild(Nr)):(Sa=Gn.create(A),Nr.parentNode.insertBefore(Sa,Nr),Sa.appendChild(Nr),Nr=Gn.rename(Nr,_e)),Xu(Gn,Nr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),wc(Gn,Sa,M),Gv(w.dom,Sa))}),w.selection.setRng(Ul(br))}},_0=function(w,A){return w&&A&&yo(w)&&w.nodeName===A.nodeName},qv=function(w,A,M){var J=w.getStyle(A,"list-style-type",!0),_e=w.getStyle(M,"list-style-type",!0);return J===_e},km=function(w,A){return w.className===A.className},co=function(w,A,M){return _0(A,M)&&qv(w,A,M)&&km(A,M)},Gv=function(w,A){var M,J;if(M=A.nextSibling,co(w,A,M)){for(;J=M.firstChild;)A.appendChild(J);w.remove(M)}if(M=A.previousSibling,co(w,A,M)){for(;J=M.lastChild;)A.insertBefore(J,A.firstChild);w.remove(M)}},Bf=function(w,A,M,J){if(A.nodeName!==M){var _e=w.dom.rename(A,M);wc(w.dom,_e,J),Vs(w,sl(M),_e)}else wc(w.dom,A,J),Vs(w,sl(M),A)},li=function(w,A,M,J,_e){var wt=yo(A);if(wt&&A.nodeName===J&&!ll(_e))Tu(w);else{jv(w,J,_e);var Gn=pa(w.selection.getRng()),br=wt?ze([A],M,!0):M;Ua.each(br,function(Gr){Bf(w,Gr,J,_e)}),w.selection.setRng(Ul(Gn))}},ll=function(w){return"list-style-type"in w},P0=function(w,A,M,J){if(A!==w.getBody())if(A)if(A.nodeName===M&&!ll(J)&&!$i(A))Tu(w);else{var _e=pa(w.selection.getRng());wc(w.dom,A,J);var wt=w.dom.rename(A,M);Gv(w.dom,wt),w.selection.setRng(Ul(_e)),jv(w,M,J),Vs(w,sl(M),wt)}else jv(w,M,J),Vs(w,sl(M),A)},fl=function(w,A,M){var J=eu(w),_e=Hl(w),wt=Pe(M)?M:{};_e.length>0?li(w,J,_e,A,wt):P0(w,J,A,wt)},Kv=Mi.DOM,Ou=function(w,A){var M=A.parentNode;if(M.nodeName==="LI"&&M.firstChild===A){var J=M.previousSibling;J&&J.nodeName==="LI"?(J.appendChild(A),me(w,M)&&Kv.remove(M)):Kv.setStyle(M,"listStyleType","none")}if(yo(M)){var J=M.previousSibling;J&&J.nodeName==="LI"&&J.appendChild(A)}},Em=function(w,A){var M=Ua.grep(w.select("ol,ul",A));Ua.each(M,function(J){Ou(w,J)})},Au=function(w,A,M,J){var _e=A.startContainer,wt=A.startOffset;if(xi(_e)&&(M?wt<_e.data.length:wt>0))return _e;var Gn=w.schema.getNonEmptyElements();_e.nodeType===1&&(_e=Lo.getNode(_e,wt));var br=new wi(_e,J);for(M&&N(w.dom,_e)&&br.next();_e=br[M?"next":"prev2"]();)if(_e.nodeName==="LI"&&!_e.hasChildNodes()||Gn[_e.nodeName]||xi(_e)&&_e.data.length>0)return _e},Xv=function(w,A){var M=A.childNodes;return M.length===1&&!yo(M[0])&&w.isBlock(M[0])},B0=function(w,A){Xv(w,A)&&w.remove(A.firstChild,!0)},Tm=function(w,A,M){var J,_e=Xv(w,M)?M.firstChild:M;if(B0(w,A),!me(w,A,!0))for(;J=A.firstChild;)_e.appendChild(J)},Ff=function(w,A,M){var J,_e=A.parentNode;if(!(!$e(w,A)||!$e(w,M))){yo(M.lastChild)&&(J=M.lastChild),_e===M.lastChild&&Ri(_e.previousSibling)&&w.remove(_e.previousSibling);var wt=M.lastChild;wt&&Ri(wt)&&A.hasChildNodes()&&w.remove(wt),me(w,M,!0)&&w.$(M).empty(),Tm(w,A,M),J&&M.appendChild(J);var Gn=zo(Br.fromDom(M),Br.fromDom(A)),br=Gn?w.getParents(A,yo,M):[];w.remove(A),Ue(br,function(Gr){me(w,Gr)&&Gr!==w.getRoot()&&w.remove(Gr)})}},jl=function(w,A,M){w.dom.$(M).empty(),Ff(w.dom,A,M),w.selection.setCursorLocation(M,0)},Yv=function(w,A,M,J){var _e=w.dom;if(_e.isEmpty(J))jl(w,M,J);else{var wt=pa(A);Ff(_e,M,J),w.selection.setRng(Ul(wt))}},gr=function(w,A,M,J){var _e=pa(A);Ff(w.dom,M,J);var wt=Ul(_e);w.selection.setRng(wt)},Du=function(w,A){var M=w.dom,J=w.selection,_e=J.getStart(),wt=Ni(w,_e),Gn=M.getParent(J.getStart(),"LI",wt);if(Gn){var br=Gn.parentNode;if(br===w.getBody()&&me(M,br))return!0;var Gr=Eu(J.getRng()),Nr=M.getParent(Au(w,Gr,A,wt),"LI",wt);if(Nr&&Nr!==Gn)return w.undoManager.transact(function(){A?Yv(w,Gr,Nr,Gn):zs(Gn)?To(w):gr(w,Gr,Gn,Nr)}),!0;if(!Nr&&!A&&Gr.startOffset===0&&Gr.endOffset===0)return w.undoManager.transact(function(){Tu(w)}),!0}return!1},Zv=function(w,A,M){var J=w.getParent(A.parentNode,w.isBlock,M);w.remove(A),J&&w.isEmpty(J)&&w.remove(J)},Jv=function(w,A){var M=w.dom,J=w.selection.getStart(),_e=Ni(w,J),wt=M.getParent(J,M.isBlock,_e);if(wt&&M.isEmpty(wt)){var Gn=Eu(w.selection.getRng()),br=M.getParent(Au(w,Gn,A,_e),"LI",_e);if(br)return w.undoManager.transact(function(){Zv(M,wt,_e),Gv(M,br.parentNode),w.selection.select(br,!0),w.selection.collapse(A)}),!0}return!1},F0=function(w,A){return Du(w,A)||Jv(w,A)},vl=function(w){var A=w.selection.getStart(),M=Ni(w,A),J=w.dom.getParent(A,"LI,DT,DD",M);return J||Ls(w).length>0?(w.undoManager.transact(function(){w.execCommand("Delete"),Em(w.dom,w.getBody())}),!0):!1},Po=function(w,A){return w.selection.isCollapsed()?F0(w,A):vl(w)},Bo=function(w){w.on("keydown",function(A){A.keyCode===Ci.BACKSPACE?Po(w,!1)&&A.preventDefault():A.keyCode===Ci.DELETE&&Po(w,!0)&&A.preventDefault()})},Cc=function(w){return{backspaceDelete:function(A){Po(w,A)}}},_u=function(w,A){var M=eu(w);w.undoManager.transact(function(){Pe(A.styles)&&w.dom.setStyles(M,A.styles),Pe(A.attrs)&&Z(A.attrs,function(J,_e){return w.dom.setAttrib(M,_e,J)})})},Mn=function(w){var A=cn($n(w).split("")),M=Ae(A,function(J,_e){var wt=J.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,_e)*wt});return $(M,function(J,_e){return J+_e},0)},dl=function(w){if(w--,w<0)return"";var A=w%26,M=Math.floor(w/26),J=dl(M),_e=String.fromCharCode("A".charCodeAt(0)+A);return J+_e},Om=function(w){return/^[A-Z]+$/.test(w)},Or=function(w){return/^[a-z]+$/.test(w)},fa=function(w){return/^[0-9]+$/.test(w)},Am=function(w){return fa(w)?2:Om(w)?0:Or(w)?1:vt(w)?3:4},ys=function(w){switch(Am(w)){case 2:return we.some({listStyleType:we.none(),start:w});case 0:return we.some({listStyleType:we.some("upper-alpha"),start:Mn(w).toString()});case 1:return we.some({listStyleType:we.some("lower-alpha"),start:Mn(w).toString()});case 3:return we.some({listStyleType:we.none(),start:""});case 4:return we.none()}},Pa=function(w){var A=parseInt(w.start,10);return Eo(w.listStyleType,"upper-alpha")?dl(A):Eo(w.listStyleType,"lower-alpha")?dl(A).toLowerCase():w.start},Qv=function(w){var A=eu(w);!cu(A)||w.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Pa({start:w.dom.getAttrib(A,"start","1"),listStyleType:we.some(w.dom.getStyle(A,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(M){var J=M.getData();ys(J.start).each(function(_e){w.execCommand("mceListUpdate",!1,{attrs:{start:_e.start==="1"?"":_e.start},styles:{"list-style-type":_e.listStyleType.getOr("")}})}),M.close()}})},tu=function(w,A){return function(){var M=eu(w);return M&&M.nodeName===A}},Mf=function(w){w.addCommand("mceListProps",function(){Qv(w)})},Dh=function(w){w.on("BeforeExecCommand",function(A){var M=A.command.toLowerCase();M==="indent"?il(w):M==="outdent"&&To(w)}),w.addCommand("InsertUnorderedList",function(A,M){fl(w,"UL",M)}),w.addCommand("InsertOrderedList",function(A,M){fl(w,"OL",M)}),w.addCommand("InsertDefinitionList",function(A,M){fl(w,"DL",M)}),w.addCommand("RemoveList",function(){Tu(w)}),Mf(w),w.addCommand("mceListUpdate",function(A,M){Pe(M)&&_u(w,M)}),w.addQueryStateHandler("InsertUnorderedList",tu(w,"UL")),w.addQueryStateHandler("InsertOrderedList",tu(w,"OL")),w.addQueryStateHandler("InsertDefinitionList",tu(w,"DL"))},ki=function(w){w.on("keydown",function(A){A.keyCode!==Ci.TAB||Ci.metaKeyPressed(A)||w.undoManager.transact(function(){(A.shiftKey?To(w):il(w))&&A.preventDefault()})})},M0=function(w){Tt(w)&&ki(w),Bo(w)},R0=function(w){var A=function(M){return function(){return w.execCommand(M)}};w.hasPlugin("advlist")||(w.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:A("InsertOrderedList"),onSetup:function(M){return cl(w,"OL",M.setActive)}}),w.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:A("InsertUnorderedList"),onSetup:function(M){return cl(w,"UL",M.setActive)}}))},Ra=function(w){var A={text:"List properties...",icon:"ordered-list",onAction:function(){return w.execCommand("mceListProps")},onSetup:function(M){return cl(w,"OL",function(J){return M.setDisabled(!J)})}};w.ui.registry.addMenuItem("listprops",A),w.ui.registry.addContextMenu("lists",{update:function(M){var J=eu(w,M);return cu(J)?["listprops"]:[]}})};function Dm(){Y.add("lists",function(w){return w.hasPlugin("rtc",!0)===!1?(M0(w),Dh(w)):Mf(w),R0(w),Ra(w),Cc(w)})}Dm()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(){return D=Object.assign||function(xe){for(var Q,Ge=1,sn=arguments.length;Ge<sn;Ge++){Q=arguments[Ge];for(var On in Q)Object.prototype.hasOwnProperty.call(Q,On)&&(xe[On]=Q[On])}return xe},D.apply(this,arguments)},X=function(Z){var xe=typeof Z;return Z===null?"null":xe==="object"&&(Array.prototype.isPrototypeOf(Z)||Z.constructor&&Z.constructor.name==="Array")?"array":xe==="object"&&(String.prototype.isPrototypeOf(Z)||Z.constructor&&Z.constructor.name==="String")?"string":xe},oe=function(Z){return function(xe){return X(xe)===Z}},ue=oe("string"),Pe=oe("object"),at=oe("array"),ct=function(Z){return Z==null},He=function(Z){return!ct(Z)},Ft=function(){},Te=function(Z){return function(){return Z}},se=function(Z){return Z},Re=Te(!1),Be=Te(!0),Xe=function(){return ve},ve=function(){var Z=function(Ge){return Ge()},xe=se,Q={fold:function(Ge,sn){return Ge()},isSome:Re,isNone:Be,getOr:xe,getOrThunk:Z,getOrDie:function(Ge){throw new Error(Ge||"error: getOrDie called on none.")},getOrNull:Te(null),getOrUndefined:Te(void 0),or:xe,orThunk:Z,map:Xe,each:Ft,bind:Xe,exists:Re,forall:Be,filter:function(){return Xe()},toArray:function(){return[]},toString:Te("none()")};return Q}(),yt=function(Z){var xe=Te(Z),Q=function(){return sn},Ge=function(On){return On(Z)},sn={fold:function(On,j){return j(Z)},isSome:Be,isNone:Re,getOr:xe,getOrThunk:xe,getOrDie:xe,getOrNull:xe,getOrUndefined:xe,or:Q,orThunk:Q,map:function(On){return yt(On(Z))},each:function(On){On(Z)},bind:Ge,exists:Ge,forall:Ge,filter:function(On){return On(Z)?sn:ve},toArray:function(){return[Z]},toString:function(){return"some("+Z+")"}};return sn},Qe=function(Z){return Z==null?ve:yt(Z)},Vt={some:yt,none:Xe,from:Qe},I=Array.prototype.push,je=function(Z,xe){for(var Q=0,Ge=Z.length;Q<Ge;Q++){var sn=Z[Q];xe(sn,Q)}},we=function(Z){for(var xe=[],Q=0,Ge=Z.length;Q<Ge;++Q){if(!at(Z[Q]))throw new Error("Arr.flatten item "+Q+" was not an array, input: "+Z);I.apply(xe,Z[Q])}return xe},St=function(Z){var xe=Z,Q=function(){return xe},Ge=function(sn){xe=sn};return{get:Q,set:Ge}},et=Object.keys,Ae=Object.hasOwnProperty,Ue=function(Z,xe){for(var Q=et(Z),Ge=0,sn=Q.length;Ge<sn;Ge++){var On=Q[Ge],j=Z[On];xe(j,On)}},Ee=function(Z,xe){return Je(Z,xe)?Vt.from(Z[xe]):Vt.none()},Je=function(Z,xe){return Ae.call(Z,xe)},$=function(Z){return Z.getParam("media_scripts")},ae=function(Z){return Z.getParam("audio_template_callback")},Oe=function(Z){return Z.getParam("video_template_callback")},Kt=function(Z){return Z.getParam("media_live_embeds",!0)},Ie=function(Z){return Z.getParam("media_filter_html",!0)},cn=function(Z){return Z.getParam("media_url_resolver")},an=function(Z){return Z.getParam("media_alt_source",!0)},C=function(Z){return Z.getParam("media_poster",!0)},rt=function(Z){return Z.getParam("media_dimensions",!0)},ft=tinymce.util.Tools.resolve("tinymce.util.Tools"),jt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ze=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Yt=function(Z,xe){if(Z){for(var Q=0;Q<Z.length;Q++)if(xe.indexOf(Z[Q].filter)!==-1)return Z[Q]}},Zt=jt.DOM,Qt=function(Z){return Z.replace(/px$/,"")},z=function(Z){var xe=Z.map.style,Q=xe?Zt.parseStyle(xe):{};return{type:"ephox-embed-iri",source:Z.map["data-ephox-embed-iri"],altsource:"",poster:"",width:Ee(Q,"max-width").map(Qt).getOr(""),height:Ee(Q,"max-height").map(Qt).getOr("")}},Wn=function(Z,xe){var Q=St(!1),Ge={};return ze({validate:!1,allow_conditional_comments:!0,start:function(sn,On){if(!Q.get())if(Je(On.map,"data-ephox-embed-iri"))Q.set(!0),Ge=z(On);else{if(!Ge.source&&sn==="param"&&(Ge.source=On.map.movie),(sn==="iframe"||sn==="object"||sn==="embed"||sn==="video"||sn==="audio")&&(Ge.type||(Ge.type=sn),Ge=ft.extend(On.map,Ge)),sn==="script"){var j=Yt(Z,On.map.src);if(!j)return;Ge={type:"script",source:On.map.src,width:String(j.width),height:String(j.height)}}sn==="source"&&(Ge.source?Ge.altsource||(Ge.altsource=On.map.src):Ge.source=On.map.src),sn==="img"&&!Ge.poster&&(Ge.poster=On.map.src)}}}).parse(xe),Ge.source=Ge.source||Ge.src||Ge.data,Ge.altsource=Ge.altsource||"",Ge.poster=Ge.poster||"",Ge},dt=function(Z){var xe={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Q=Z.toLowerCase().split(".").pop(),Ge=xe[Q];return Ge||""},Fe=tinymce.util.Tools.resolve("tinymce.html.Schema"),vn=tinymce.util.Tools.resolve("tinymce.html.Writer"),Ne=jt.DOM,De=function(Z){return/^[0-9.]+$/.test(Z)?Z+"px":Z},nt=function(Z,xe){Ue(xe,function(Q,Ge){var sn=""+Q;if(Z.map[Ge])for(var On=Z.length;On--;){var j=Z[On];j.name===Ge&&(sn?(Z.map[Ge]=sn,j.value=sn):(delete Z.map[Ge],Z.splice(On,1)))}else sn&&(Z.push({name:Ge,value:sn}),Z.map[Ge]=sn)})},Dt=function(Z,xe){var Q=xe.map.style,Ge=Q?Ne.parseStyle(Q):{};Ge["max-width"]=De(Z.width),Ge["max-height"]=De(Z.height),nt(xe,{style:Ne.serializeStyle(Ge)})},ot=["source","altsource"],pt=function(Z,xe,Q){var Ge=vn(),sn=St(!1),On=0,j;return ze({validate:!1,allow_conditional_comments:!0,comment:function(ne){Ge.comment(ne)},cdata:function(ne){Ge.cdata(ne)},text:function(ne,Ze){Ge.text(ne,Ze)},start:function(ne,Ze,kt){if(!sn.get())if(Je(Ze.map,"data-ephox-embed-iri"))sn.set(!0),Dt(xe,Ze);else{switch(ne){case"video":case"object":case"embed":case"img":case"iframe":xe.height!==void 0&&xe.width!==void 0&&nt(Ze,{width:xe.width,height:xe.height});break}if(Q)switch(ne){case"video":nt(Ze,{poster:xe.poster,src:""}),xe.altsource&&nt(Ze,{src:""});break;case"iframe":nt(Ze,{src:xe.source});break;case"source":if(On<2&&(nt(Ze,{src:xe[ot[On]],type:xe[ot[On]+"mime"]}),!xe[ot[On]]))return;On++;break;case"img":if(!xe.poster)return;j=!0;break}}Ge.start(ne,Ze,kt)},end:function(ne){if(!sn.get()){if(ne==="video"&&Q){for(var Ze=0;Ze<2;Ze++)if(xe[ot[Ze]]){var kt=[];kt.map={},On<=Ze&&(nt(kt,{src:xe[ot[Ze]],type:xe[ot[Ze]+"mime"]}),Ge.start("source",kt,!0))}}if(xe.poster&&ne==="object"&&Q&&!j){var O=[];O.map={},nt(O,{src:xe.poster,width:xe.width,height:xe.height}),Ge.start("img",O,!0)}}Ge.end(ne)}},Fe({})).parse(Z),Ge.getContent()},$n=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],le=function(Z){var xe=Z.match(/^(https?:\/\/|www\.)(.+)$/i);return xe&&xe.length>1?xe[1]==="www."?"https://":xe[1]:"https://"},vt=function(Z,xe){for(var Q=le(xe),Ge=Z.regex.exec(xe),sn=Q+Z.url,On=function(ne){sn=sn.replace("$"+ne,function(){return Ge[ne]?Ge[ne]:""})},j=0;j<Ge.length;j++)On(j);return sn.replace(/\?$/,"")},ln=function(Z){var xe=$n.filter(function(Q){return Q.regex.test(Z)});return xe.length>0?ft.extend({},xe[0],{url:vt(xe[0],Z)}):null},En=function(Z){var xe=Z.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Z.source+'" width="'+Z.width+'" height="'+Z.height+'"'+xe+"></iframe>"},Fn=function(Z){var xe='<object data="'+Z.source+'" width="'+Z.width+'" height="'+Z.height+'" type="application/x-shockwave-flash">';return Z.poster&&(xe+='<img src="'+Z.poster+'" width="'+Z.width+'" height="'+Z.height+'" />'),xe+="</object>",xe},jn=function(Z,xe){return xe?xe(Z):'<audio controls="controls" src="'+Z.source+'">'+(Z.altsource?`
<source src="`+Z.altsource+'"'+(Z.altsourcemime?' type="'+Z.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Sr=function(Z,xe){return xe?xe(Z):'<video width="'+Z.width+'" height="'+Z.height+'"'+(Z.poster?' poster="'+Z.poster+'"':"")+` controls="controls">
<source src="`+Z.source+'"'+(Z.sourcemime?' type="'+Z.sourcemime+'"':"")+` />
`+(Z.altsource?'<source src="'+Z.altsource+'"'+(Z.altsourcemime?' type="'+Z.altsourcemime+'"':"")+` />
`:"")+"</video>"},Rr=function(Z){return'<script src="'+Z.source+'"><\/script>'},qr=function(Z,xe){var Q=ft.extend({},xe);if(!Q.source&&(ft.extend(Q,Wn($(Z),Q.embed)),!Q.source))return"";Q.altsource||(Q.altsource=""),Q.poster||(Q.poster=""),Q.source=Z.convertURL(Q.source,"source"),Q.altsource=Z.convertURL(Q.altsource,"source"),Q.sourcemime=dt(Q.source),Q.altsourcemime=dt(Q.altsource),Q.poster=Z.convertURL(Q.poster,"poster");var Ge=ln(Q.source);if(Ge&&(Q.source=Ge.url,Q.type=Ge.type,Q.allowfullscreen=Ge.allowFullscreen,Q.width=Q.width||String(Ge.w),Q.height=Q.height||String(Ge.h)),Q.embed)return pt(Q.embed,Q,!0);var sn=Yt($(Z),Q.source);sn&&(Q.type="script",Q.width=String(sn.width),Q.height=String(sn.height));var On=ae(Z),j=Oe(Z);return Q.width=Q.width||"300",Q.height=Q.height||"150",ft.each(Q,function(ne,Ze){Q[Ze]=Z.dom.encode(""+ne)}),Q.type==="iframe"?En(Q):Q.sourcemime==="application/x-shockwave-flash"?Fn(Q):Q.sourcemime.indexOf("audio")!==-1?jn(Q,On):Q.type==="script"?Rr(Q):Sr(Q,j)},_t=function(Z){return Z.hasAttribute("data-mce-object")||Z.hasAttribute("data-ephox-embed-iri")},Pt=function(Z){Z.on("click keyup touchend",function(){var xe=Z.selection.getNode();xe&&Z.dom.hasClass(xe,"mce-preview-object")&&Z.dom.getAttrib(xe,"data-mce-selected")&&xe.setAttribute("data-mce-selected","2")}),Z.on("ObjectSelected",function(xe){var Q=xe.target.getAttribute("data-mce-object");Q==="script"&&xe.preventDefault()}),Z.on("ObjectResized",function(xe){var Q=xe.target;if(Q.getAttribute("data-mce-object")){var Ge=Q.getAttribute("data-mce-html");Ge&&(Ge=unescape(Ge),Q.setAttribute("data-mce-html",escape(pt(Ge,{width:String(xe.width),height:String(xe.height)}))))}})},Mt=tinymce.util.Tools.resolve("tinymce.util.Promise"),Le={},Ye=function(Z,xe,Q){return new Mt(function(Ge,sn){var On=function(j){return j.html&&(Le[Z.source]=j),Ge({url:Z.source,html:j.html?j.html:xe(Z)})};Le[Z.source]?On(Le[Z.source]):Q({url:Z.source},On,sn)})},Wt=function(Z,xe){return Mt.resolve({html:xe(Z),url:Z.source})},dn=function(Z){return function(xe){return qr(Z,xe)}},Jt=function(Z,xe){var Q=cn(Z);return Q?Ye(xe,dn(Z),Q):Wt(xe,dn(Z))},ke=function(Z){return Je(Le,Z)},Rt=function(Z,xe){return Ee(xe,Z).bind(function(Q){return Ee(Q,"meta")})},bn=function(Z,xe,Q){return function(Ge){var sn,On=function(){return Ee(Z,Ge)},j=function(){return Ee(xe,Ge)},ne=function(O){return Ee(O,"value").bind(function(H){return H.length>0?Vt.some(H):Vt.none()})},Ze=function(){return On().bind(function(O){return Pe(O)?ne(O).orThunk(j):j().orThunk(function(){return Vt.from(O)})})},kt=function(){return j().orThunk(function(){return On().bind(function(O){return Pe(O)?ne(O):Vt.from(O)})})};return sn={},sn[Ge]=(Ge===Q?Ze():kt()).getOr(""),sn}},un=function(Z,xe){var Q={};return Ee(Z,"dimensions").each(function(Ge){je(["width","height"],function(sn){Ee(xe,sn).orThunk(function(){return Ee(Ge,sn)}).each(function(On){return Q[sn]=On})})}),Q},Nn=function(Z,xe){var Q=xe?Rt(xe,Z).getOr({}):{},Ge=bn(Z,Q,xe);return D(D(D(D(D({},Ge("source")),Ge("altsource")),Ge("poster")),Ge("embed")),un(Z,Q))},fe=function(Z){var xe=D(D({},Z),{source:{value:Ee(Z,"source").getOr("")},altsource:{value:Ee(Z,"altsource").getOr("")},poster:{value:Ee(Z,"poster").getOr("")}});return je(["width","height"],function(Q){Ee(Z,Q).each(function(Ge){var sn=xe.dimensions||{};sn[Q]=Ge,xe.dimensions=sn})}),xe},Ct=function(Z){return function(xe){var Q=xe&&xe.msg?"Media embed handler error: "+xe.msg:"Media embed handler threw unknown error.";Z.notificationManager.open({type:"error",text:Q})}},it=function(Z,xe){return Wn($(Z),xe)},Ut=function(Z){var xe=Z.selection.getNode(),Q=_t(xe)?Z.serializer.serialize(xe,{selection:!0}):"";return D({embed:Q},Wn($(Z),Q))},Pn=function(Z,xe){return function(Q){if(ue(Q.url)&&Q.url.trim().length>0){var Ge=Q.html,sn=it(xe,Ge),On=D(D({},sn),{source:Q.url,embed:Ge});Z.setData(fe(On))}}},sr=function(Z,xe){for(var Q=Z.dom.select("*[data-mce-object]"),Ge=0;Ge<xe.length;Ge++)for(var sn=Q.length-1;sn>=0;sn--)xe[Ge]===Q[sn]&&Q.splice(sn,1);Z.selection.select(Q[0])},oa=function(Z,xe){var Q=Z.dom.select("*[data-mce-object]");Z.insertContent(xe),sr(Z,Q),Z.nodeChanged()},Cr=function(Z,xe,Q){xe.embed=pt(xe.embed,xe),xe.embed&&(Z.source===xe.source||ke(xe.source))?oa(Q,xe.embed):Jt(Q,xe).then(function(Ge){oa(Q,Ge.html)}).catch(Ct(Q))},vr=function(Z){var xe=Ut(Z),Q=St(xe),Ge=fe(xe),sn=function(Sn,Zn){var or=Nn(Zn.getData(),"source");Sn.source!==or.source&&(Pn(on,Z)({url:or.source,html:""}),Jt(Z,or).then(Pn(on,Z)).catch(Ct(Z)))},On=function(Sn){var Zn=Nn(Sn.getData()),or=it(Z,Zn.embed);Sn.setData(fe(or))},j=function(Sn,Zn){var or=Nn(Sn.getData(),Zn),ir=qr(Z,or);Sn.setData(fe(D(D({},or),{embed:ir})))},ne=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Ze=rt(Z)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],kt={title:"General",name:"general",items:we([ne,Ze])},O={type:"textarea",name:"embed",label:"Paste your embed code below:"},H={title:"Embed",items:[O]},te=[];an(Z)&&te.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),C(Z)&&te.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var be={title:"Advanced",name:"advanced",items:te},Ve=[kt,H];te.length>0&&Ve.push(be);var qe={type:"tabpanel",tabs:Ve},on=Z.windowManager.open({title:"Insert/Edit Media",size:"normal",body:qe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Sn){var Zn=Nn(Sn.getData());Cr(Q.get(),Zn,Z),Sn.close()},onChange:function(Sn,Zn){switch(Zn.name){case"source":sn(Q.get(),Sn);break;case"embed":On(Sn);break;case"dimensions":case"altsource":case"poster":j(Sn,Zn.name);break}Q.set(Nn(Sn.getData()))},initialData:Ge})},sa=function(Z){var xe=function(){vr(Z)};return{showDialog:xe}},bo=function(Z){var xe=function(){vr(Z)};Z.addCommand("mceMedia",xe)},Ba=tinymce.util.Tools.resolve("tinymce.html.Node"),wa=tinymce.util.Tools.resolve("tinymce.Env"),La=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ko=function(Z,xe){if(Ie(Z)===!1)return xe;var Q=vn(),Ge;return ze({validate:!1,allow_conditional_comments:!1,comment:function(sn){Ge||Q.comment(sn)},cdata:function(sn){Ge||Q.cdata(sn)},text:function(sn,On){Ge||Q.text(sn,On)},start:function(sn,On,j){if(Ge=!0,!(sn==="script"||sn==="noscript"||sn==="svg")){for(var ne=On.length-1;ne>=0;ne--){var Ze=On[ne].name;Ze.indexOf("on")===0&&(delete On.map[Ze],On.splice(ne,1)),Ze==="style"&&(On[ne].value=Z.dom.serializeStyle(Z.dom.parseStyle(On[ne].value),sn))}Q.start(sn,On,j),Ge=!1}},end:function(sn){Ge||Q.end(sn)}},Fe({})).parse(xe),Q.getContent()},Ha=function(Z){var xe=Z.name;return xe==="iframe"||xe==="video"||xe==="audio"},Fa=function(Z,xe,Q,Ge){Ge===void 0&&(Ge=null);var sn=Z.attr(Q);return He(sn)?sn:Je(xe,Q)?null:Ge},io=function(Z,xe,Q){var Ge=xe.name==="img"||Z.name==="video",sn=Ge?"300":null,On=Z.name==="audio"?"30":"150",j=Ge?On:null;xe.attr({width:Fa(Z,Q,"width",sn),height:Fa(Z,Q,"height",j)})},Br=function(Z,xe,Q,Ge){for(var sn=La({forced_root_block:!1,validate:!1},Z.schema).parse(Ge,{context:xe});sn.firstChild;)Q.append(sn.firstChild)},uo=function(Z,xe){var Q=xe.name,Ge=new Ba("img",1);return Ge.shortEnded=!0,bi(Z,xe,Ge),io(xe,Ge,{}),Ge.attr({style:xe.attr("style"),src:wa.transparentSrc,"data-mce-object":Q,class:"mce-object mce-object-"+Q}),Ge},Ln=function(Z,xe){var Q=xe.name,Ge=new Ba("span",1);Ge.attr({contentEditable:"false",style:xe.attr("style"),"data-mce-object":Q,class:"mce-preview-object mce-object-"+Q}),bi(Z,xe,Ge);var sn=Z.dom.parseStyle(xe.attr("style")),On=new Ba(Q,1);if(io(xe,On,sn),On.attr({src:xe.attr("src"),style:xe.attr("style"),class:xe.attr("class")}),Q==="iframe")On.attr({allowfullscreen:xe.attr("allowfullscreen"),frameborder:"0"});else{var j=["controls","crossorigin","currentTime","loop","muted","poster","preload"];je(j,function(kt){On.attr(kt,xe.attr(kt))});var ne=Ge.attr("data-mce-html");He(ne)&&Br(Z,Q,On,unescape(ne))}var Ze=new Ba("span",1);return Ze.attr("class","mce-shim"),Ge.append(On),Ge.append(Ze),Ge},bi=function(Z,xe,Q){for(var Ge=xe.attributes,sn=Ge.length;sn--;){var On=Ge[sn].name,j=Ge[sn].value;On!=="width"&&On!=="height"&&On!=="style"&&((On==="data"||On==="src")&&(j=Z.convertURL(j,On)),Q.attr("data-mce-p-"+On,j))}var ne=xe.firstChild&&xe.firstChild.value;ne&&(Q.attr("data-mce-html",escape(ko(Z,ne))),Q.firstChild=null)},to=function(Z){var xe=Z.attr("class");return xe&&/\btiny-pageembed\b/.test(xe)},zo=function(Z){for(;Z=Z.parent;)if(Z.attr("data-ephox-embed-iri")||to(Z))return!0;return!1},yi=function(Z){return function(xe){for(var Q=xe.length,Ge,sn;Q--;)Ge=xe[Q],Ge.parent&&(Ge.parent.attr("data-mce-object")||Ge.name==="script"&&(sn=Yt($(Z),Ge.attr("src")),!sn)||(sn&&(sn.width&&Ge.attr("width",sn.width.toString()),sn.height&&Ge.attr("height",sn.height.toString())),Ha(Ge)&&Kt(Z)&&wa.ceFalse?zo(Ge)||Ge.replace(Ln(Z,Ge)):zo(Ge)||Ge.replace(uo(Z,Ge))))}},Lo=function(Z){Z.on("preInit",function(){var xe=Z.schema.getSpecialElements();ft.each("video audio iframe object".split(" "),function(Ge){xe[Ge]=new RegExp("</"+Ge+"[^>]*>","gi")});var Q=Z.schema.getBoolAttrs();ft.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Ge){Q[Ge]={}}),Z.parser.addNodeFilter("iframe,video,audio,object,embed,script",yi(Z)),Z.serializer.addAttributeFilter("data-mce-object",function(Ge,sn){for(var On=Ge.length,j,ne,Ze,kt,O,H,te,be;On--;)if(j=Ge[On],!!j.parent){for(te=j.attr(sn),ne=new Ba(te,1),te!=="audio"&&te!=="script"&&(be=j.attr("class"),be&&be.indexOf("mce-preview-object")!==-1?ne.attr({width:j.firstChild.attr("width"),height:j.firstChild.attr("height")}):ne.attr({width:j.attr("width"),height:j.attr("height")})),ne.attr({style:j.attr("style")}),kt=j.attributes,Ze=kt.length;Ze--;){var Ve=kt[Ze].name;Ve.indexOf("data-mce-p-")===0&&ne.attr(Ve.substr(11),kt[Ze].value)}te==="script"&&ne.attr("type","text/javascript"),O=j.attr("data-mce-html"),O&&(H=new Ba("#text",3),H.raw=!0,H.value=ko(Z,unescape(O)),ne.append(H)),j.replace(ne)}})}),Z.on("SetContent",function(){Z.$("span.mce-preview-object").each(function(xe,Q){var Ge=Z.$(Q);Ge.find("span.mce-shim").length===0&&Ge.append('<span class="mce-shim"></span>')})})},wi=function(Z){Z.on("ResolveName",function(xe){var Q;xe.target.nodeType===1&&(Q=xe.target.getAttribute("data-mce-object"))&&(xe.name=Q)})},Ci=function(Z){var xe=function(){return Z.execCommand("mceMedia")};Z.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:xe,onSetup:function(Q){var Ge=Z.selection;return Q.setActive(_t(Ge.getNode())),Ge.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Q.setActive).unbind}}),Z.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:xe})};function Ji(){Y.add("media",function(Z){return bo(Z),Ci(Z),wi(Z),Lo(Z),Pt(Z),sa(Z)})}Ji()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(se){var Re=se.getParam("nonbreaking_force_tab",0);return typeof Re=="boolean"?Re===!0?3:0:Re},X=function(se){return se.getParam("nonbreaking_wrap",!0,"boolean")},oe=function(se,Re){for(var Be="",Xe=0;Xe<Re;Xe++)Be+=se;return Be},ue=function(se){return se.plugins.visualchars?se.plugins.visualchars.isEnabled():!1},Pe=function(se,Re){var Be=function(){return ue(se)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},Xe=function(){return'<span class="'+Be()+'" contenteditable="false">'+oe("&nbsp;",Re)+"</span>"},ve=X(se),yt=ve||se.plugins.visualchars?Xe():oe("&nbsp;",Re);se.undoManager.transact(function(){return se.insertContent(yt)})},at=function(se){se.addCommand("mceNonBreaking",function(){Pe(se,1)})},ct=tinymce.util.Tools.resolve("tinymce.util.VK"),He=function(se){var Re=D(se);Re>0&&se.on("keydown",function(Be){if(Be.keyCode===ct.TAB&&!Be.isDefaultPrevented()){if(Be.shiftKey)return;Be.preventDefault(),Be.stopImmediatePropagation(),Pe(se,Re)}})},Ft=function(se){var Re=function(){return se.execCommand("mceNonBreaking")};se.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:Re}),se.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:Re})};function Te(){Y.add("nonbreaking",function(se){at(se),Ft(se),He(se)})}Te()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.util.Tools"),X=function(Te){return Te.getParam("noneditable_noneditable_class","mceNonEditable")},oe=function(Te){return Te.getParam("noneditable_editable_class","mceEditable")},ue=function(Te){var se=Te.getParam("noneditable_regexp",[]);return se&&se.constructor===RegExp?[se]:se},Pe=function(Te){return function(se){return(" "+se.attr("class")+" ").indexOf(Te)!==-1}},at=function(Te,se,Re){return function(Be){var Xe=arguments,ve=Xe[Xe.length-2],yt=ve>0?se.charAt(ve-1):"";if(yt==='"')return Be;if(yt===">"){var Qe=se.lastIndexOf("<",ve);if(Qe!==-1){var Vt=se.substring(Qe,ve);if(Vt.indexOf('contenteditable="false"')!==-1)return Be}}return'<span class="'+Re+'" data-mce-content="'+Te.dom.encode(Xe[0])+'">'+Te.dom.encode(typeof Xe[1]=="string"?Xe[1]:Xe[0])+"</span>"}},ct=function(Te,se,Re){var Be=se.length,Xe=Re.content;if(Re.format!=="raw"){for(;Be--;)Xe=Xe.replace(se[Be],at(Te,Xe,X(Te)));Re.content=Xe}},He=function(Te){var se="contenteditable",Re=" "+D.trim(oe(Te))+" ",Be=" "+D.trim(X(Te))+" ",Xe=Pe(Re),ve=Pe(Be),yt=ue(Te);Te.on("PreInit",function(){yt.length>0&&Te.on("BeforeSetContent",function(Qe){ct(Te,yt,Qe)}),Te.parser.addAttributeFilter("class",function(Qe){for(var Vt=Qe.length,I;Vt--;)I=Qe[Vt],Xe(I)?I.attr(se,"true"):ve(I)&&I.attr(se,"false")}),Te.serializer.addAttributeFilter(se,function(Qe){for(var Vt=Qe.length,I;Vt--;)I=Qe[Vt],!(!Xe(I)&&!ve(I))&&(yt.length>0&&I.attr("data-mce-content")?(I.name="#text",I.type=3,I.raw=!0,I.value=I.attr("data-mce-content")):I.attr(se,null))})})};function Ft(){Y.add("noneditable",function(Te){He(Te)})}Ft()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.Env"),X=function(se){return se.getParam("pagebreak_separator","<!-- pagebreak -->")},oe=function(se){return se.getParam("pagebreak_split_block",!1)},ue="mce-pagebreak",Pe=function(se){var Re='<img src="'+D.transparentSrc+'" class="'+ue+'" data-mce-resize="false" data-mce-placeholder />';return se?"<p>"+Re+"</p>":Re},at=function(se){var Re=X(se),Be=function(){return oe(se)},Xe=new RegExp(Re.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(ve){return"\\"+ve}),"gi");se.on("BeforeSetContent",function(ve){ve.content=ve.content.replace(Xe,Pe(Be()))}),se.on("PreInit",function(){se.serializer.addNodeFilter("img",function(ve){for(var yt=ve.length,Qe,Vt;yt--;)if(Qe=ve[yt],Vt=Qe.attr("class"),Vt&&Vt.indexOf(ue)!==-1){var I=Qe.parent;if(se.schema.getBlockElements()[I.name]&&Be()){I.type=3,I.value=Re,I.raw=!0,Qe.remove();continue}Qe.type=3,Qe.value=Re,Qe.raw=!0}})})},ct=function(se){se.addCommand("mcePageBreak",function(){se.insertContent(Pe(oe(se)))})},He=function(se){se.on("ResolveName",function(Re){Re.target.nodeName==="IMG"&&se.dom.hasClass(Re.target,ue)&&(Re.name="pagebreak")})},Ft=function(se){var Re=function(){return se.execCommand("mcePageBreak")};se.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:Re}),se.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:Re})};function Te(){Y.add("pagebreak",function(se){ct(se),Ft(se),at(se),He(se)})}Te()})();(function(){var Y=function(b){var _=b,L=function(){return _},ce=function(Ke){_=Ke};return{get:L,set:ce}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(b){return b.hasPlugin("powerpaste",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},oe=function(b){return{clipboard:b}},ue=function(b){var _=typeof b;return b===null?"null":_==="object"&&(Array.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="Array")?"array":_==="object"&&(String.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="String")?"string":_},Pe=function(b){return function(_){return ue(_)===b}},at=function(b){return function(_){return typeof _===b}},ct=Pe("array"),He=function(b){return b==null},Ft=function(b){return!He(b)},Te=at("function"),se=function(){},Re=function(b){return function(){return b}},Be=function(b){return b},Xe=Re(!1),ve=Re(!0),yt=function(){return Qe},Qe=function(){var b=function(ce){return ce()},_=Be,L={fold:function(ce,Ke){return ce()},isSome:Xe,isNone:ve,getOr:_,getOrThunk:b,getOrDie:function(ce){throw new Error(ce||"error: getOrDie called on none.")},getOrNull:Re(null),getOrUndefined:Re(void 0),or:_,orThunk:b,map:yt,each:se,bind:yt,exists:Xe,forall:ve,filter:function(){return yt()},toArray:function(){return[]},toString:Re("none()")};return L}(),Vt=function(b){var _=Re(b),L=function(){return Ke},ce=function(qt){return qt(b)},Ke={fold:function(qt,qn){return qn(b)},isSome:ve,isNone:Xe,getOr:_,getOrThunk:_,getOrDie:_,getOrNull:_,getOrUndefined:_,or:L,orThunk:L,map:function(qt){return Vt(qt(b))},each:function(qt){qt(b)},bind:ce,exists:ce,forall:ce,filter:function(qt){return qt(b)?Ke:Qe},toArray:function(){return[b]},toString:function(){return"some("+b+")"}};return Ke},I=function(b){return b==null?Qe:Vt(b)},je={some:Vt,none:yt,from:I},we=Array.prototype.slice,St=Array.prototype.push,et=function(b,_){for(var L=0,ce=b.length;L<ce;L++){var Ke=b[L];if(_(Ke,L))return!0}return!1},Ae=function(b,_){for(var L=b.length,ce=new Array(L),Ke=0;Ke<L;Ke++){var qt=b[Ke];ce[Ke]=_(qt,Ke)}return ce},Ue=function(b,_){for(var L=0,ce=b.length;L<ce;L++){var Ke=b[L];_(Ke,L)}},Ee=function(b,_){for(var L=[],ce=0,Ke=b.length;ce<Ke;ce++){var qt=b[ce];_(qt,ce)&&L.push(qt)}return L},Je=function(b,_,L){return Ue(b,function(ce,Ke){L=_(L,ce,Ke)}),L},$=function(b){for(var _=[],L=0,ce=b.length;L<ce;++L){if(!ct(b[L]))throw new Error("Arr.flatten item "+L+" was not an array, input: "+b);St.apply(_,b[L])}return _},ae=function(b,_){return $(Ae(b,_))},Oe=Te(Array.from)?Array.from:function(b){return we.call(b)},Kt=function(){return Kt=Object.assign||function(_){for(var L,ce=1,Ke=arguments.length;ce<Ke;ce++){L=arguments[ce];for(var qt in L)Object.prototype.hasOwnProperty.call(L,qt)&&(_[qt]=L[qt])}return _},Kt.apply(this,arguments)},Ie=function(b){var _=Y(je.none()),L=function(){return _.get().each(b)},ce=function(){L(),_.set(je.none())},Ke=function(){return _.get().isSome()},qt=function(){return _.get()},qn=function(cr){L(),_.set(je.some(cr))};return{clear:ce,isSet:Ke,get:qt,set:qn}},cn=function(){var b=Ie(se),_=function(L){return b.get().each(L)};return Kt(Kt({},b),{on:_})},an=function(b,_,L){return _===""||b.length>=_.length&&b.substr(L,L+_.length)===_},C=function(b,_){return an(b,_,0)},rt=function(b,_){return an(b,_,b.length-_.length)},ft=function(b,_){return _<=0?"":new Array(_+1).join(b)},jt=tinymce.util.Tools.resolve("tinymce.Env"),ze=tinymce.util.Tools.resolve("tinymce.util.Delay"),Yt=tinymce.util.Tools.resolve("tinymce.util.Promise"),Zt=tinymce.util.Tools.resolve("tinymce.util.VK"),Qt=function(b,_,L,ce){return b.fire("PastePreProcess",{content:_,internal:L,wordContent:ce})},z=function(b,_,L,ce){return b.fire("PastePostProcess",{node:_,internal:L,wordContent:ce})},Wn=function(b,_){return b.fire("PastePlainTextToggle",{state:_})},dt=function(b,_){return b.fire("paste",{ieFake:_})},Fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),vn=function(b){return b.getParam("paste_block_drop",!1)},Ne=function(b){return b.getParam("paste_data_images",!1)},De=function(b){return b.getParam("paste_filter_drop",!0)},nt=function(b){return b.getParam("paste_preprocess")},Dt=function(b){return b.getParam("paste_postprocess")},ot=function(b){return b.getParam("paste_webkit_styles")},pt=function(b){return b.getParam("paste_remove_styles_if_webkit",!0)},$n=function(b){return b.getParam("paste_merge_formats",!0)},le=function(b){return b.getParam("smart_paste",!0)},vt=function(b){return b.getParam("paste_as_text",!1)},ln=function(b){return b.getParam("paste_retain_style_properties")},En=function(b){var _="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return b.getParam("paste_word_valid_elements",_)},Fn=function(b){return b.getParam("paste_convert_word_fake_lists",!0)},jn=function(b){return b.getParam("paste_enable_default_filters",!0)},Sr=function(b){return b.getParam("validate")},Rr=function(b){return b.getParam("allow_html_data_urls",!1,"boolean")},qr=function(b){return b.getParam("paste_data_images",!1,"boolean")},_t=function(b){return b.getParam("images_dataimg_filter")},Pt=function(b){return b.getParam("images_reuse_filename")},Mt=function(b){return b.getParam("forced_root_block")},Le=function(b){return b.getParam("forced_root_block_attrs")},Ye=function(b){return b.getParam("paste_tab_spaces",4,"number")},Wt=function(b){var _="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Fe.explode(b.getParam("images_file_types",_,"string"))},dn="x-tinymce/html",Jt="<!-- "+dn+" -->",ke=function(b){return Jt+b},Rt=function(b){return b.replace(Jt,"")},bn=function(b){return b.indexOf(Jt)!==-1},un=Re(dn),Nn=Object.hasOwnProperty,fe=function(b,_){return Nn.call(b,_)},Ct=tinymce.util.Tools.resolve("tinymce.html.Entities"),it=function(b){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(b)},Ut=function(b){return b.replace(/\r?\n/g,"<br>")},Pn=function(b,_){var L=[],ce="<"+b;if(typeof _=="object"){for(var Ke in _)fe(_,Ke)&&L.push(Ke+'="'+Ct.encodeAllRaw(_[Ke])+'"');L.length&&(ce+=" "+L.join(" "))}return ce+">"},sr=function(b,_,L){var ce=b.split(/\n\n/),Ke=Pn(_,L),qt="</"+_+">",qn=Fe.map(ce,function(Cn){return Cn.split(/\n/).join("<br />")}),cr=function(Cn){return Ke+Cn+qt};return qn.length===1?qn[0]:Fe.map(qn,cr).join("")},oa=function(b,_,L){return _?sr(b,_===!0?"p":_,L):Ut(b)},Cr=tinymce.util.Tools.resolve("tinymce.html.DomParser"),vr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),sa="\xA0",bo=tinymce.util.Tools.resolve("tinymce.html.Node"),Ba=tinymce.util.Tools.resolve("tinymce.html.Schema"),wa=function(b){return b.constructor===RegExp},La=function(b,_){return Fe.each(_,function(L){wa(L)?b=b.replace(L,""):b=b.replace(L[0],L[1])}),b},ko=function(b){var _=Ba(),L=Cr({},_),ce="",Ke=_.getShortEndedElements(),qt=Fe.makeMap("script noscript style textarea video audio iframe object"," "),qn=_.getBlockElements(),cr=function(Cn){var Hn=Cn.name,xr=Cn;if(Hn==="br"){ce+=`
`;return}if(Hn!=="wbr"){if(Ke[Hn]&&(ce+=" "),qt[Hn]){ce+=" ";return}if(Cn.type===3&&(ce+=Cn.value),!Cn.shortEnded&&(Cn=Cn.firstChild))do cr(Cn);while(Cn=Cn.next);qn[Hn]&&xr.next&&(ce+=`
`,Hn==="p"&&(ce+=`
`))}};return b=La(b,[/<!\[[^\]]+\]>/g]),cr(L.parse(b)),ce},Ha=function(b){var _=function(L,ce,Ke){return!ce&&!Ke?" ":sa};return b=La(b,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,_],/<br class="Apple-interchange-newline">/g,/<br>$/i]),b},Fa=function(b){var _=0;return function(){return b+_++}},io=function(b){var _=b.toLowerCase(),L={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Fe.hasOwn(L,_)?"image/"+L[_]:"image/"+_},Br=function(b){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(b)||/class="OutlineElement/.test(b)||/id="?docs\-internal\-guid\-/.test(b)},uo=function(b){var _=!1,L=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return b=b.replace(/^[\u00a0 ]+/,""),Fe.each(L,function(ce){if(ce.test(b))return _=!0,!1}),_},Ln=function(b){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(b)},bi=function(b){for(var _,L,ce=1,Ke=function(pr){var ia="";if(pr.type===3)return pr.value;if(pr=pr.firstChild)do ia+=Ke(pr);while(pr=pr.next);return ia},qt=function(pr,ia){if(pr.type===3&&ia.test(pr.value))return pr.value=pr.value.replace(ia,""),!1;if(pr=pr.firstChild)do if(!qt(pr,ia))return!1;while(pr=pr.next);return!0},qn=function(pr){if(pr._listIgnore){pr.remove();return}if(pr=pr.firstChild)do qn(pr);while(pr=pr.next)},cr=function(pr,ia,na){var ci=pr._listLevel||ce;ci!==ce&&(ci<ce?_&&(_=_.parent.parent):(L=_,_=null)),!_||_.name!==ia?(L=L||_,_=new bo(ia,1),na>1&&_.attr("start",""+na),pr.wrap(_)):_.append(pr),pr.name="li",ci>ce&&L&&L.lastChild.append(_),ce=ci,qn(pr),qt(pr,/^\u00a0+/),qt(pr,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),qt(pr,/^\u00a0+/)},Cn=[],Hn=b.firstChild;typeof Hn!="undefined"&&Hn!==null;)if(Cn.push(Hn),Hn=Hn.walk(),Hn!==null)for(;typeof Hn!="undefined"&&Hn.parent!==b;)Hn=Hn.walk();for(var xr=0;xr<Cn.length;xr++)if(b=Cn[xr],b.name==="p"&&b.firstChild){var Pr=Ke(b);if(Ln(Pr)){cr(b,"ul");continue}if(uo(Pr)){var lr=/([0-9]+)\./.exec(Pr),Ca=1;lr&&(Ca=parseInt(lr[1],10)),cr(b,"ol",Ca);continue}if(b._listLevel){cr(b,"ul",1);continue}_=null}else L=_,_=null},to=function(b,_,L,ce){var Ke={},qt=b.dom.parseStyle(ce);Fe.each(qt,function(cr,Cn){switch(Cn){case"mso-list":var Hn=/\w+ \w+([0-9]+)/i.exec(ce);Hn&&(L._listLevel=parseInt(Hn[1],10)),/Ignore/i.test(cr)&&L.firstChild&&(L._listIgnore=!0,L.firstChild._listIgnore=!0);break;case"horiz-align":Cn="text-align";break;case"vert-align":Cn="vertical-align";break;case"font-color":case"mso-foreground":Cn="color";break;case"mso-background":case"mso-highlight":Cn="background";break;case"font-weight":case"font-style":cr!=="normal"&&(Ke[Cn]=cr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(cr)){L.remove();return}break}if(Cn.indexOf("mso-comment")===0){L.remove();return}Cn.indexOf("mso-")!==0&&(ln(b)==="all"||_&&_[Cn])&&(Ke[Cn]=cr)}),/(bold)/i.test(Ke["font-weight"])&&(delete Ke["font-weight"],L.wrap(new bo("b",1))),/(italic)/i.test(Ke["font-style"])&&(delete Ke["font-style"],L.wrap(new bo("i",1)));var qn=b.dom.serializeStyle(Ke,L.name);return qn||null},zo=function(b,_){var L,ce=ln(b);ce&&(L=Fe.makeMap(ce.split(/[, ]/))),_=La(_,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,sa],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Cn,Hn){return Hn.length>0?Hn.replace(/./," ").slice(Math.floor(Hn.length/2)).split("").join(sa):""}]]);var Ke=En(b),qt=Ba({valid_elements:Ke,valid_children:"-li[p]"});Fe.each(qt.elements,function(Cn){Cn.attributes.class||(Cn.attributes.class={},Cn.attributesOrder.push("class")),Cn.attributes.style||(Cn.attributes.style={},Cn.attributesOrder.push("style"))});var qn=Cr({},qt);qn.addAttributeFilter("style",function(Cn){for(var Hn=Cn.length,xr;Hn--;)xr=Cn[Hn],xr.attr("style",to(b,L,xr,xr.attr("style"))),xr.name==="span"&&xr.parent&&!xr.attributes.length&&xr.unwrap()}),qn.addAttributeFilter("class",function(Cn){for(var Hn=Cn.length,xr,Pr;Hn--;)xr=Cn[Hn],Pr=xr.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Pr)&&xr.remove(),xr.attr("class",null)}),qn.addNodeFilter("del",function(Cn){for(var Hn=Cn.length;Hn--;)Cn[Hn].remove()}),qn.addNodeFilter("a",function(Cn){for(var Hn=Cn.length,xr,Pr,lr;Hn--;){if(xr=Cn[Hn],Pr=xr.attr("href"),lr=xr.attr("name"),Pr&&Pr.indexOf("#_msocom_")!==-1){xr.remove();continue}if(Pr&&Pr.indexOf("file://")===0&&(Pr=Pr.split("#")[1],Pr&&(Pr="#"+Pr)),!Pr&&!lr)xr.unwrap();else{if(lr&&!/^_?(?:toc|edn|ftn)/i.test(lr)){xr.unwrap();continue}xr.attr({href:Pr,name:lr})}}});var cr=qn.parse(_);return Fn(b)&&bi(cr),_=vr({validate:Sr(b)},qt).serialize(cr),_},yi=function(b,_){return jn(b)?zo(b,_):_},Lo=function(b,_){var L=Cr({},b.schema);L.addNodeFilter("meta",function(Ke){Fe.each(Ke,function(qt){qt.remove()})});var ce=L.parse(_,{forced_root_block:!1,isRootContent:!0});return vr({validate:Sr(b)},b.schema).serialize(ce)},wi=function(b,_){return{content:b,cancelled:_}},Ci=function(b,_,L,ce){var Ke=b.dom.create("div",{style:"display:none"},_),qt=z(b,Ke,L,ce);return wi(qt.node.innerHTML,qt.isDefaultPrevented())},Ji=function(b,_,L,ce){var Ke=Qt(b,_,L,ce),qt=Lo(b,Ke.content);return b.hasEventListeners("PastePostProcess")&&!Ke.isDefaultPrevented()?Ci(b,qt,L,ce):wi(qt,Ke.isDefaultPrevented())},Z=function(b,_,L){var ce=Br(_),Ke=ce?yi(b,_):_;return Ji(b,Ke,L,ce)},xe=function(b,_){return b.insertContent(_,{merge:$n(b),paste:!0}),!0},Q=function(b){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(b)},Ge=function(b,_){return Q(_)&&et(Wt(b),function(L){return rt(_.toLowerCase(),"."+L.toLowerCase())})},sn=function(b,_,L){return b.undoManager.extra(function(){L(b,_)},function(){b.insertContent('<img src="'+_+'">')}),!0},On=function(b,_,L){return b.undoManager.extra(function(){L(b,_)},function(){b.execCommand("mceInsertLink",!1,_)}),!0},j=function(b,_,L){return b.selection.isCollapsed()===!1&&Q(_)?On(b,_,L):!1},ne=function(b,_,L){return Ge(b,_)?sn(b,_,L):!1},Ze=function(b,_){Fe.each([j,ne,xe],function(L){return L(b,_,xe)!==!0})},kt=function(b,_,L){L||le(b)===!1?xe(b,_):Ze(b,_)},O=function(b){return" \f	\v".indexOf(b)!==-1},H=function(b){return b===`
`||b==="\r"},te=function(b,_){return _<b.length&&_>=0?H(b[_]):!1},be=function(b,_){var L=ft(" ",Ye(b)),ce=_.replace(/\t/g,L),Ke=Je(ce,function(qt,qn){return O(qn)||qn===sa?qt.pcIsSpace||qt.str===""||qt.str.length===ce.length-1||te(ce,qt.str.length+1)?{pcIsSpace:!1,str:qt.str+sa}:{pcIsSpace:!0,str:qt.str+" "}:{pcIsSpace:H(qn),str:qt.str+qn}},{pcIsSpace:!1,str:""});return Ke.str},Ve=function(b,_,L,ce){var Ke=Z(b,_,L);Ke.cancelled===!1&&kt(b,Ke.content,ce)},qe=function(b,_,L){var ce=L||bn(_);Ve(b,Rt(_),ce,!1)},on=function(b,_){var L=b.dom.encode(_).replace(/\r\n/g,`
`),ce=be(b,L),Ke=oa(ce,Mt(b),Le(b));Ve(b,Ke,!1,!0)},Sn=function(b){var _={},L="data:text/mce-internal,";if(b){if(b.getData){var ce=b.getData("Text");ce&&ce.length>0&&ce.indexOf(L)===-1&&(_["text/plain"]=ce)}if(b.types)for(var Ke=0;Ke<b.types.length;Ke++){var qt=b.types[Ke];try{_[qt]=b.getData(qt)}catch(qn){_[qt]=""}}}return _},Zn=function(b,_){return Sn(_.clipboardData||b.getDoc().dataTransfer)},or=function(b,_){return _ in b&&b[_].length>0},ir=function(b){return or(b,"text/html")||or(b,"text/plain")},hr=function(b){var _=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(b);return _?{type:_[1],data:decodeURIComponent(_[2])}:{type:null,data:null}},Zr=function(b,_){var L=_t(b);return L?L(_):!0},Va=function(b,_){var L=_.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ft(L)?b.dom.encode(L[1]):null},ui=Fa("mceclip"),Qi=function(b,_){var L=hr(_.uri),ce=L.data,Ke=L.type,qt=ui(),qn=_.blob,cr=new Image;if(cr.src=_.uri,Zr(b,cr)){var Cn=b.editorUpload.blobCache,Hn=void 0,xr=Cn.getByData(ce,Ke);if(xr)Hn=xr;else{var Pr=Pt(b)&&Ft(qn.name),lr=Pr?Va(b,qn.name):qt,Ca=Pr?qn.name:void 0;Hn=Cn.create(qt,qn,ce,lr,Ca),Cn.add(Hn)}qe(b,'<img src="'+Hn.blobUri()+'">',!1)}else qe(b,'<img src="'+_.uri+'">',!1)},Mi=function(b){return b.type==="paste"},Ua=function(b){return Ft(b.getAsFile)},gs=function(b){return Yt.all(Ae(b,function(_){return new Yt(function(L){var ce=Ua(_)?_.getAsFile():_,Ke=new window.FileReader;Ke.onload=function(){L({blob:ce,uri:Ke.result})},Ke.readAsDataURL(ce)})}))},ku=function(b){var _=Wt(b);return function(L){return C(L.type,"image/")&&et(_,function(ce){return io(ce)===L.type})}},xi=function(b,_){var L=_.items?ae(Oe(_.items),function(Ke){return Ke.kind==="file"?[Ke.getAsFile()]:[]}):[],ce=_.files?Oe(_.files):[];return Ee(L.length>0?L:ce,ku(b))},yo=function(b,_,L){var ce=Mi(_)?_.clipboardData:_.dataTransfer;if(qr(b)&&ce){var Ke=xi(b,ce);if(Ke.length>0)return _.preventDefault(),gs(Ke).then(function(qt){L&&b.selection.setRng(L),Ue(qt,function(qn){Qi(b,qn)})}),!0}return!1},hs=function(b){var _=b.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&_&&_.items&&_.items.length===0},cu=function(b){return Zt.metaKeyPressed(b)&&b.keyCode===86||b.shiftKey&&b.keyCode===45},ps=function(b,_,L){var ce=cn(),Ke=cn(),qt;b.on("keyup",Ke.clear),b.on("keydown",function(Cn){var Hn=function(xr){cu(xr)&&!xr.isDefaultPrevented()&&_.remove()};if(cu(Cn)&&!Cn.isDefaultPrevented()){if(qt=Cn.shiftKey&&Cn.keyCode===86,qt&&jt.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(Cn.stopImmediatePropagation(),ce.set(Cn),Ke.set(!0),jt.ie&&qt){Cn.preventDefault(),dt(b,!0);return}_.remove(),_.create(),b.once("keyup",Hn),b.once("paste",function(){b.off("keyup",Hn)})}});var qn=function(Cn,Hn,xr,Pr,lr){var Ca;or(Hn,"text/html")?Ca=Hn["text/html"]:(Ca=_.getHtml(),lr=lr||bn(Ca),_.isDefaultContent(Ca)&&(Pr=!0)),Ca=Ha(Ca),_.remove();var pr=lr===!1&&it(Ca),ia=Q(Ca);if((!Ca.length||pr&&!ia)&&(Pr=!0),(Pr||ia)&&(or(Hn,"text/plain")&&pr?Ca=Hn["text/plain"]:Ca=ko(Ca)),_.isDefaultContent(Ca)){xr||Cn.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Pr?on(Cn,Ca):qe(Cn,Ca,lr)},cr=function(){return _.getLastRng()||b.selection.getRng()};b.on("paste",function(Cn){var Hn=ce.isSet()||Ke.isSet();Hn&&ce.clear();var xr=Zn(b,Cn),Pr=L.get()==="text"||qt,lr=or(xr,un());if(qt=!1,Cn.isDefaultPrevented()||hs(Cn)){_.remove();return}if(!ir(xr)&&yo(b,Cn,cr())){_.remove();return}Hn||Cn.preventDefault(),jt.ie&&(!Hn||Cn.ieFake)&&!or(xr,"text/html")&&(_.create(),b.dom.bind(_.getEl(),"paste",function(Ca){Ca.stopPropagation()}),b.getDoc().execCommand("Paste",!1,null),xr["text/html"]=_.getHtml()),or(xr,"text/html")?(Cn.preventDefault(),lr||(lr=bn(xr["text/html"])),qn(b,xr,Hn,Pr,lr)):ze.setEditorTimeout(b,function(){qn(b,xr,Hn,Pr,lr)},0)})},$s=function(b,_,L){ps(b,_,L);var ce;b.parser.addNodeFilter("img",function(Ke,qt,qn){var cr=function(lr){return lr.data&&lr.data.paste===!0},Cn=function(lr){!lr.attr("data-mce-object")&&ce!==jt.transparentSrc&&lr.remove()},Hn=function(lr){return lr.indexOf("webkit-fake-url")===0},xr=function(lr){return lr.indexOf("data:")===0};if(!qr(b)&&cr(qn))for(var Pr=Ke.length;Pr--;)ce=Ke[Pr].attr("src"),!!ce&&(Hn(ce)||!Rr(b)&&xr(ce))&&Cn(Ke[Pr])})},lu=function(b){return jt.ie&&b.inline?document.body:b.getBody()},Ri=function(b){return lu(b)!==b.getBody()},zs=function(b,_,L){Ri(b)&&b.dom.bind(_,"paste keyup",function(ce){rn(b,L)||b.fire("paste")})},Gu=function(b,_,L){var ce=b.dom,Ke=b.getBody();_.set(b.selection.getRng());var qt=b.dom.add(lu(b),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},L);(jt.ie||jt.gecko)&&ce.setStyle(qt,"left",ce.getStyle(Ke,"direction",!0)==="rtl"?65535:-65535),ce.bind(qt,"beforedeactivate focusin focusout",function(qn){qn.stopPropagation()}),zs(b,qt,L),qt.focus(),b.selection.select(qt,!0)},bs=function(b,_){if(N(b)){for(var L=void 0,ce=_.get();L=b.dom.get("mcepastebin");)b.dom.remove(L),b.dom.unbind(L);ce&&b.selection.setRng(ce)}_.set(null)},N=function(b){return b.dom.get("mcepastebin")},me=function(b){var _=function(cr,Cn){cr.appendChild(Cn),b.dom.remove(Cn,!0)},L=Fe.grep(lu(b).childNodes,function(cr){return cr.id==="mcepastebin"}),ce=L.shift();Fe.each(L,function(cr){_(ce,cr)});for(var Ke=b.dom.select("div[id=mcepastebin]",ce),qt=Ke.length-1;qt>=0;qt--){var qn=b.dom.create("div");ce.insertBefore(qn,Ke[qt]),_(qn,Ke[qt])}return ce?ce.innerHTML:""},$e=function(b,_){return _===b},Tt=function(b){return b&&b.id==="mcepastebin"},rn=function(b,_){var L=N(b);return Tt(L)&&$e(_,L.innerHTML)},Vn=function(b){var _=Y(null),L="%MCEPASTEBIN%";return{create:function(){return Gu(b,_,L)},remove:function(){return bs(b,_)},getEl:function(){return N(b)},getHtml:function(){return me(b)},getLastRng:_.get,isDefault:function(){return rn(b,L)},isDefaultContent:function(ce){return $e(L,ce)}}},Xr=function(b,_){var L=Vn(b);return b.on("PreInit",function(){return $s(b,L,_)}),{pasteFormat:_,pasteHtml:function(ce,Ke){return qe(b,ce,Ke)},pasteText:function(ce){return on(b,ce)},pasteImageData:function(ce,Ke){return yo(b,ce,Ke)},getDataTransferItems:Sn,hasHtmlOrText:ir,hasContentType:or}},ta=function(b,_){_.pasteFormat.get()==="text"?(_.pasteFormat.set("html"),Wn(b,!1)):(_.pasteFormat.set("text"),Wn(b,!0)),b.focus()},Tr=function(b,_){b.addCommand("mceTogglePlainTextPaste",function(){ta(b,_)}),b.addCommand("mceInsertClipboardContent",function(L,ce){ce.content&&_.pasteHtml(ce.content,ce.internal),ce.text&&_.pasteText(ce.text)})},ca=function(b){return jt.iOS===!1&&typeof(b==null?void 0:b.setData)=="function"},Da=function(b,_,L){if(ca(b))try{return b.clearData(),b.setData("text/html",_),b.setData("text/plain",L),b.setData(un(),_),!0}catch(ce){return!1}else return!1},fu=function(b,_,L,ce){Da(b.clipboardData,_.html,_.text)?(b.preventDefault(),ce()):L(_.html,ce)},hc=function(b){return function(_,L){var ce=ke(_),Ke=b.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),qt=b.dom.create("div",{contenteditable:"true"},ce);b.dom.setStyles(Ke,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),Ke.appendChild(qt),b.dom.add(b.getBody(),Ke);var qn=b.selection.getRng();qt.focus();var cr=b.dom.createRng();cr.selectNodeContents(qt),b.selection.setRng(cr),ze.setTimeout(function(){b.selection.setRng(qn),Ke.parentNode.removeChild(Ke),L()},0)}},pc=function(b){return{html:b.selection.getContent({contextual:!0}),text:b.selection.getContent({format:"text"})}},Jn=function(b){return!!b.dom.getParent(b.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",b.getBody())},Eu=function(b){return!b.selection.isCollapsed()||Jn(b)},tl=function(b){return function(_){Eu(b)&&fu(_,pc(b),hc(b),function(){if(jt.browser.isChrome()||jt.browser.isFirefox()){var L=b.selection.getRng();ze.setEditorTimeout(b,function(){b.selection.setRng(L),b.execCommand("Delete")},0)}else b.execCommand("Delete")})}},eu=function(b){return function(_){Eu(b)&&fu(_,pc(b),hc(b),se)}},nl=function(b){b.on("cut",tl(b)),b.on("copy",eu(b))},_f=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Hl=function(b,_){return _f.getCaretRangeFromPoint(_.clientX,_.clientY,b.getDoc())},_a=function(b){var _=b["text/plain"];return _?_.indexOf("file://")===0:!1},Ls=function(b,_){b.focus(),b.selection.setRng(_)},Pf=function(b,_,L){vn(b)&&b.on("dragend dragover draggesture dragdrop drop drag",function(ce){ce.preventDefault(),ce.stopPropagation()}),Ne(b)||b.on("drop",function(ce){var Ke=ce.dataTransfer;Ke&&Ke.files&&Ke.files.length>0&&ce.preventDefault()}),b.on("drop",function(ce){var Ke=Hl(b,ce);if(!(ce.isDefaultPrevented()||L.get())){var qt=_.getDataTransferItems(ce.dataTransfer),qn=_.hasContentType(qt,un());if(!((!_.hasHtmlOrText(qt)||_a(qt))&&_.pasteImageData(ce,Ke))&&Ke&&De(b)){var cr=qt["mce-internal"]||qt["text/html"]||qt["text/plain"];cr&&(ce.preventDefault(),ze.setEditorTimeout(b,function(){b.undoManager.transact(function(){qt["mce-internal"]&&b.execCommand("Delete"),Ls(b,Ke),cr=Ha(cr),qt["text/html"]?_.pasteHtml(cr,qn):_.pasteText(cr)})}))}}}),b.on("dragstart",function(ce){L.set(!0)}),b.on("dragover dragend",function(ce){Ne(b)&&L.get()===!1&&(ce.preventDefault(),Ls(b,Hl(b,ce))),ce.type==="dragend"&&L.set(!1)})},Ni=function(b){var _=b.plugins.paste,L=nt(b);L&&b.on("PastePreProcess",function(Ke){L.call(_,_,Ke)});var ce=Dt(b);ce&&b.on("PastePostProcess",function(Ke){ce.call(_,_,Ke)})},si=function(b,_){b.on("PastePreProcess",function(L){L.content=_(b,L.content,L.internal,L.wordContent)})},bc=function(b,_){b.on("PastePostProcess",function(L){_(b,L.node)})},xt=function(b,_){if(!Br(_))return _;var L=[];Fe.each(b.schema.getBlockElements(),function(Ke,qt){L.push(qt)});var ce=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+L.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return _=La(_,[[ce,"$1"]]),_=La(_,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),_},Hs=function(b,_,L,ce){if(ce||L)return _;var Ke=ot(b),qt;if(pt(b)===!1||Ke==="all")return _;if(Ke&&(qt=Ke.split(/[, ]/)),qt){var qn=b.dom,cr=b.selection.getNode();_=_.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Cn,Hn,xr,Pr){var lr=qn.parseStyle(qn.decode(xr)),Ca={};if(qt==="none")return Hn+Pr;for(var pr=0;pr<qt.length;pr++){var ia=lr[qt[pr]],na=qn.getStyle(cr,qt[pr],!0);/color/.test(qt[pr])&&(ia=qn.toHex(ia),na=qn.toHex(na)),na!==ia&&(Ca[qt[pr]]=ia)}var ci=qn.serializeStyle(Ca,"span");return ci?Hn+' style="'+ci+'"'+Pr:Hn+Pr})}else _=_.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return _=_.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Cn,Hn,xr,Pr){return Hn+' style="'+xr+'"'+Pr}),_},Eo=function(b,_){b.$("a",_).find("font,u").each(function(L,ce){b.dom.remove(ce,!0)})},rl=function(b){jt.webkit&&si(b,Hs),jt.ie&&(si(b,xt),bc(b,Eo))},Ku=function(b,_){return function(L){L.setActive(_.pasteFormat.get()==="text");var ce=function(Ke){return L.setActive(Ke.state)};return b.on("PastePlainTextToggle",ce),function(){return b.off("PastePlainTextToggle",ce)}}},Vs=function(b,_){var L=function(){return b.execCommand("mceTogglePlainTextPaste")};b.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:L,onSetup:Ku(b,_)}),b.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:L,onSetup:Ku(b,_)})};function k(){D.add("paste",function(b){if(X(b)===!1){var _=Y(!1),L=Y(vt(b)?"text":"html"),ce=Xr(b,L);return rl(b),Vs(b,ce),Tr(b,ce),Ni(b),nl(b),Pf(b,ce,_),oe(ce)}})}k()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.Env"),X=tinymce.util.Tools.resolve("tinymce.util.Tools"),oe=function(Xe){return Xe.getParam("content_style","","string")},ue=function(Xe){return Xe.getParam("content_css_cors",!1,"boolean")},Pe=function(Xe){var ve=Xe.getParam("body_class","","hash");return ve[Xe.id]||""},at=function(Xe){var ve=Xe.getParam("body_class","","string");return ve.indexOf("=")===-1?ve:Pe(Xe)},ct=function(Xe){var ve=Xe.getParam("body_id","","hash");return ve[Xe.id]||ve},He=function(Xe){var ve=Xe.getParam("body_id","tinymce","string");return ve.indexOf("=")===-1?ve:ct(Xe)},Ft=function(Xe){var ve="",yt=Xe.dom.encode,Qe=oe(Xe);ve+='<base href="'+yt(Xe.documentBaseURI.getURI())+'">';var Vt=ue(Xe)?' crossorigin="anonymous"':"";X.each(Xe.contentCSS,function(Ee){ve+='<link type="text/css" rel="stylesheet" href="'+yt(Xe.documentBaseURI.toAbsolute(Ee))+'"'+Vt+">"}),Qe&&(ve+='<style type="text/css">'+Qe+"</style>");var I=He(Xe),je=at(Xe),we=D.mac?"e.metaKey":"e.ctrlKey && !e.altKey",St='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+we+")) {e.preventDefault();}}}, false);<\/script> ",et=Xe.getBody().dir,Ae=et?' dir="'+yt(et)+'"':"",Ue="<!DOCTYPE html><html><head>"+ve+'</head><body id="'+yt(I)+'" class="mce-content-body '+yt(je)+'"'+Ae+">"+Xe.getContent()+St+"</body></html>";return Ue},Te=function(Xe){var ve=Ft(Xe),yt=Xe.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:ve}});yt.focus("close")},se=function(Xe){Xe.addCommand("mcePreview",function(){Te(Xe)})},Re=function(Xe){var ve=function(){return Xe.execCommand("mcePreview")};Xe.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:ve}),Xe.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:ve})};function Be(){Y.add("preview",function(Xe){se(Xe),Re(Xe)})}Be()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.Env"),X=function(Pe){Pe.addCommand("mcePrint",function(){D.browser.isIE()?Pe.getDoc().execCommand("print",!1,null):Pe.getWin().print()})},oe=function(Pe){var at=function(){return Pe.execCommand("mcePrint")};Pe.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:at}),Pe.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:at})};function ue(){Y.add("print",function(Pe){X(Pe),oe(Pe),Pe.addShortcut("Meta+P","","mcePrint")})}ue()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),X=tinymce.util.Tools.resolve("tinymce.util.Tools"),oe=function(Be){return Be.getParam("save_enablewhendirty",!0)},ue=function(Be){return!!Be.getParam("save_onsavecallback")},Pe=function(Be){return!!Be.getParam("save_oncancelcallback")},at=function(Be,Xe){Be.notificationManager.open({text:Xe,type:"error"})},ct=function(Be){var Xe=D.DOM.getParent(Be.id,"form");if(!(oe(Be)&&!Be.isDirty())){if(Be.save(),ue(Be)){Be.execCallback("save_onsavecallback",Be),Be.nodeChanged();return}Xe?(Be.setDirty(!1),(!Xe.onsubmit||Xe.onsubmit())&&(typeof Xe.submit=="function"?Xe.submit():at(Be,"Error: Form submit field collision.")),Be.nodeChanged()):at(Be,"Error: No form element found.")}},He=function(Be){var Xe=X.trim(Be.startContent);if(Pe(Be)){Be.execCallback("save_oncancelcallback",Be);return}Be.resetContent(Xe)},Ft=function(Be){Be.addCommand("mceSave",function(){ct(Be)}),Be.addCommand("mceCancel",function(){He(Be)})},Te=function(Be){return function(Xe){var ve=function(){Xe.setDisabled(oe(Be)&&!Be.isDirty())};return ve(),Be.on("NodeChange dirty",ve),function(){return Be.off("NodeChange dirty",ve)}}},se=function(Be){Be.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return Be.execCommand("mceSave")},onSetup:Te(Be)}),Be.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return Be.execCommand("mceCancel")},onSetup:Te(Be)}),Be.addShortcut("Meta+S","","mceSave")};function Re(){Y.add("save",function(Be){se(Be),Ft(Be)})}Re()})();(function(){var Y=function(j){var ne=j,Ze=function(){return ne},kt=function(O){ne=O};return{get:Ze,set:kt}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(){return X=Object.assign||function(ne){for(var Ze,kt=1,O=arguments.length;kt<O;kt++){Ze=arguments[kt];for(var H in Ze)Object.prototype.hasOwnProperty.call(Ze,H)&&(ne[H]=Ze[H])}return ne},X.apply(this,arguments)},oe=function(j){var ne=typeof j;return j===null?"null":ne==="object"&&(Array.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="Array")?"array":ne==="object"&&(String.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="String")?"string":ne},ue=function(j){return function(ne){return oe(ne)===j}},Pe=function(j){return function(ne){return typeof ne===j}},at=ue("string"),ct=ue("array"),He=Pe("boolean"),Ft=Pe("number"),Te=function(){},se=function(j){return function(){return j}},Re=function(j){return j},Be=se(!1),Xe=se(!0),ve="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",yt=se(ve),Qe=function(){return Vt},Vt=function(){var j=function(kt){return kt()},ne=Re,Ze={fold:function(kt,O){return kt()},isSome:Be,isNone:Xe,getOr:ne,getOrThunk:j,getOrDie:function(kt){throw new Error(kt||"error: getOrDie called on none.")},getOrNull:se(null),getOrUndefined:se(void 0),or:ne,orThunk:j,map:Qe,each:Te,bind:Qe,exists:Be,forall:Xe,filter:function(){return Qe()},toArray:function(){return[]},toString:se("none()")};return Ze}(),I=function(j){var ne=se(j),Ze=function(){return O},kt=function(H){return H(j)},O={fold:function(H,te){return te(j)},isSome:Xe,isNone:Be,getOr:ne,getOrThunk:ne,getOrDie:ne,getOrNull:ne,getOrUndefined:ne,or:Ze,orThunk:Ze,map:function(H){return I(H(j))},each:function(H){H(j)},bind:kt,exists:kt,forall:kt,filter:function(H){return H(j)?O:Vt},toArray:function(){return[j]},toString:function(){return"some("+j+")"}};return O},je=function(j){return j==null?Vt:I(j)},we={some:I,none:Qe,from:je},St=yt,et=tinymce.util.Tools.resolve("tinymce.Env"),Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ue=Array.prototype.slice,Ee=Array.prototype.push,Je=function(j,ne){for(var Ze=j.length,kt=new Array(Ze),O=0;O<Ze;O++){var H=j[O];kt[O]=ne(H,O)}return kt},$=function(j,ne){for(var Ze=0,kt=j.length;Ze<kt;Ze++){var O=j[Ze];ne(O,Ze)}},ae=function(j,ne){for(var Ze=j.length-1;Ze>=0;Ze--){var kt=j[Ze];ne(kt,Ze)}},Oe=function(j,ne){if(j.length===0)return[];for(var Ze=ne(j[0]),kt=[],O=[],H=0,te=j.length;H<te;H++){var be=j[H],Ve=ne(be);Ve!==Ze&&(kt.push(O),O=[]),Ze=Ve,O.push(be)}return O.length!==0&&kt.push(O),kt},Kt=function(j,ne,Ze){return $(j,function(kt,O){Ze=ne(Ze,kt,O)}),Ze},Ie=function(j){for(var ne=[],Ze=0,kt=j.length;Ze<kt;++Ze){if(!ct(j[Ze]))throw new Error("Arr.flatten item "+Ze+" was not an array, input: "+j);Ee.apply(ne,j[Ze])}return ne},cn=function(j,ne){return Ie(Je(j,ne))},an=function(j,ne){var Ze=Ue.call(j,0);return Ze.sort(ne),Ze},C=Object.hasOwnProperty,rt=function(j,ne){return C.call(j,ne)};typeof window!="undefined"||Function("return this;")();var ft=9,jt=11,ze=1,Yt=3,Zt=function(j){return j.dom.nodeType},Qt=function(j){return function(ne){return Zt(ne)===j}},z=Qt(Yt),Wn=function(j,ne,Ze){if(at(Ze)||He(Ze)||Ft(Ze))j.setAttribute(ne,Ze+"");else throw console.error("Invalid call to Attribute.set. Key ",ne,":: Value ",Ze,":: Element ",j),new Error("Attribute value was not simple")},dt=function(j,ne,Ze){Wn(j.dom,ne,Ze)},Fe=function(j,ne,Ze){return(j.compareDocumentPosition(ne)&Ze)!==0},vn=function(j,ne){return Fe(j,ne,Node.DOCUMENT_POSITION_PRECEDING)},Ne=function(j,ne){var Ze=ne||document,kt=Ze.createElement("div");if(kt.innerHTML=j,!kt.hasChildNodes()||kt.childNodes.length>1)throw console.error("HTML does not have a single root node",j),new Error("HTML must have a single root node");return Dt(kt.childNodes[0])},De=function(j,ne){var Ze=ne||document,kt=Ze.createElement(j);return Dt(kt)},nt=function(j,ne){var Ze=ne||document,kt=Ze.createTextNode(j);return Dt(kt)},Dt=function(j){if(j==null)throw new Error("Node cannot be null or undefined");return{dom:j}},ot=function(j,ne,Ze){return we.from(j.dom.elementFromPoint(ne,Ze)).map(Dt)},pt={fromHtml:Ne,fromTag:De,fromText:nt,fromDom:Dt,fromPoint:ot},$n=function(j){return j.nodeType!==ze&&j.nodeType!==ft&&j.nodeType!==jt||j.childElementCount===0},le=function(j,ne){var Ze=ne===void 0?document:ne.dom;return $n(Ze)?[]:Je(Ze.querySelectorAll(j),pt.fromDom)},vt=function(j){return we.from(j.dom.parentNode).map(pt.fromDom)},ln=function(j){return Je(j.dom.childNodes,pt.fromDom)},En=function(j,ne){return{element:j,offset:ne}},Fn=function(j,ne){var Ze=ln(j);return Ze.length>0&&ne<Ze.length?En(Ze[ne],0):En(j,ne)},jn=function(j,ne){var Ze=vt(j);Ze.each(function(kt){kt.dom.insertBefore(ne.dom,j.dom)})},Sr=function(j,ne){j.dom.appendChild(ne.dom)},Rr=function(j,ne){jn(j,ne),Sr(ne,j)},qr=function(j,ne){var Ze=function(H){if(!j(H))throw new Error("Can only get "+ne+" value of a "+ne+" node");return kt(H).getOr("")},kt=function(H){return j(H)?we.from(H.dom.nodeValue):we.none()},O=function(H,te){if(!j(H))throw new Error("Can only set raw "+ne+" value of a "+ne+" node");H.dom.nodeValue=te};return{get:Ze,getOption:kt,set:O}},_t=qr(z,"text"),Pt=function(j){return _t.get(j)},Mt=function(j,ne){return le(ne,j)},Le=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ye=function(j,ne){return j.isBlock(ne)||rt(j.schema.getShortEndedElements(),ne.nodeName)},Wt=function(j,ne){return j.getContentEditable(ne)==="false"},dn=function(j,ne){return j.getContentEditable(ne)==="true"&&j.getContentEditableParent(ne.parentNode)==="false"},Jt=function(j,ne){return!j.isBlock(ne)&&rt(j.schema.getWhiteSpaceElements(),ne.nodeName)},ke=function(j,ne){return Ye(j,ne)||Wt(j,ne)||Jt(j,ne)||dn(j,ne)},Rt=function(j){return j.nodeType===3},bn=function(){return{sOffset:0,fOffset:0,elements:[]}},un=function(j,ne){return Fn(pt.fromDom(j),ne)},Nn=function(j,ne,Ze,kt,O,H){H===void 0&&(H=!0);for(var te=H?ne(!1):Ze;te;){var be=Wt(j,te);if(be||Jt(j,te)){var Ve=be?kt.cef(te):kt.boundary(te);if(Ve)break;te=ne(!0);continue}else if(Ye(j,te)){if(kt.boundary(te))break}else Rt(te)&&kt.text(te);if(te===O)break;te=ne(!1)}},fe=function(j,ne,Ze,kt,O){if(!ke(j,Ze)){var H=j.getParent(kt,j.isBlock),te=new Le(Ze,H),be=O?te.next.bind(te):te.prev.bind(te);Nn(j,be,Ze,{boundary:Xe,cef:Xe,text:function(Ve){O?ne.fOffset+=Ve.length:ne.sOffset+=Ve.length,ne.elements.push(pt.fromDom(Ve))}})}},Ct=function(j,ne,Ze,kt,O,H){H===void 0&&(H=!0);var te=new Le(Ze,ne),be=[],Ve=bn();fe(j,Ve,Ze,ne,!1);var qe=function(){return Ve.elements.length>0&&(be.push(Ve),Ve=bn()),!1};return Nn(j,te.next.bind(te),Ze,{boundary:qe,cef:function(on){return qe(),O&&be.push.apply(be,O.cef(on)),!1},text:function(on){Ve.elements.push(pt.fromDom(on)),O&&O.text(on,Ve)}},kt,H),kt&&fe(j,Ve,kt,ne,!0),qe(),be},it=function(j,ne){var Ze=un(ne.startContainer,ne.startOffset),kt=Ze.element.dom,O=un(ne.endContainer,ne.endOffset),H=O.element.dom;return Ct(j,ne.commonAncestorContainer,kt,H,{text:function(te,be){te===H?be.fOffset+=te.length-O.offset:te===kt&&(be.sOffset+=Ze.offset)},cef:function(te){var be=cn(Mt(pt.fromDom(te),"*[contenteditable=true]"),function(Ve){var qe=Ve.dom;return Ct(j,qe,qe)});return an(be,function(Ve,qe){return vn(Ve.elements[0].dom,qe.elements[0].dom)?1:-1})}},!1)},Ut=function(j,ne){return ne.collapsed?[]:it(j,ne)},Pn=function(j,ne){var Ze=j.createRng();return Ze.selectNode(ne),Ut(j,Ze)},sr=function(j,ne){return cn(ne,function(Ze){return Pn(j,Ze)})},oa=function(j,ne,Ze,kt){Ze===void 0&&(Ze=0),kt===void 0&&(kt=j.length);var O=ne.regex;O.lastIndex=Ze;for(var H=[],te;te=O.exec(j);){var be=te[ne.matchIndex],Ve=te.index+te[0].indexOf(be),qe=Ve+be.length;if(qe>kt)break;H.push({start:Ve,finish:qe}),O.lastIndex=qe}return H},Cr=function(j,ne){var Ze=Kt(j,function(kt,O){var H=Pt(O),te=kt.last,be=te+H.length,Ve=cn(ne,function(qe,on){return qe.start<be&&qe.finish>te?[{element:O,start:Math.max(te,qe.start)-te,finish:Math.min(be,qe.finish)-te,matchId:on}]:[]});return{results:kt.results.concat(Ve),last:be}},{results:[],last:0}).results;return Oe(Ze,function(kt){return kt.matchId})},vr=function(j,ne){return cn(ne,function(Ze){var kt=Ze.elements,O=Je(kt,Pt).join(""),H=oa(O,j,Ze.sOffset,O.length-Ze.fOffset);return Cr(kt,H)})},sa=function(j,ne){ae(j,function(Ze,kt){ae(Ze,function(O){var H=pt.fromDom(ne.cloneNode(!1));dt(H,"data-mce-index",kt);var te=O.element.dom;if(te.length===O.finish&&O.start===0)Rr(O.element,H);else{te.length!==O.finish&&te.splitText(O.finish);var be=te.splitText(O.start);Rr(pt.fromDom(be),H)}})})},bo=function(j,ne,Ze,kt){var O=Pn(j,Ze),H=vr(ne,O);return sa(H,kt),H.length},Ba=function(j,ne,Ze,kt){var O=Ze.getBookmark(),H=j.select("td[data-mce-selected],th[data-mce-selected]"),te=H.length>0?sr(j,H):Ut(j,Ze.getRng()),be=vr(ne,te);return sa(be,kt),Ze.moveToBookmark(O),be.length},wa=function(j){var ne=j.getAttribute("data-mce-index");return typeof ne=="number"?""+ne:ne},La=function(j,ne,Ze,kt){var O=j.dom.create("span",{"data-mce-bogus":1});O.className="mce-match-marker";var H=j.getBody();return yi(j,ne,!1),kt?Ba(j.dom,Ze,j.selection,O):bo(j.dom,Ze,H,O)},ko=function(j){var ne=j.parentNode;j.firstChild&&ne.insertBefore(j.firstChild,j),j.parentNode.removeChild(j)},Ha=function(j,ne){var Ze=[],kt=Ae.toArray(j.getBody().getElementsByTagName("span"));if(kt.length)for(var O=0;O<kt.length;O++){var H=wa(kt[O]);H===null||!H.length||H===ne.toString()&&Ze.push(kt[O])}return Ze},Fa=function(j,ne,Ze){var kt=ne.get(),O=kt.index,H=j.dom;Ze=Ze!==!1,Ze?O+1===kt.count?O=0:O++:O-1===-1?O=kt.count-1:O--,H.removeClass(Ha(j,kt.index),"mce-match-marker-selected");var te=Ha(j,O);return te.length?(H.addClass(Ha(j,O),"mce-match-marker-selected"),j.selection.scrollIntoView(te[0]),O):-1},io=function(j,ne){var Ze=ne.parentNode;j.remove(ne),j.isEmpty(Ze)&&j.remove(Ze)},Br=function(j,ne){var Ze=j.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),kt="("+Ze+")";return ne?"(?:^|\\s|"+St()+")"+kt+("(?=$|\\s|"+St()+")"):kt},uo=function(j,ne,Ze,kt,O,H){var te=j.selection,be=Br(Ze,O),Ve=te.isForward(),qe={regex:new RegExp(be,kt?"g":"gi"),matchIndex:1},on=La(j,ne,qe,H);if(et.browser.isSafari()&&te.setRng(te.getRng(),Ve),on){var Sn=Fa(j,ne,!0);ne.set({index:Sn,count:on,text:Ze,matchCase:kt,wholeWord:O,inSelection:H})}return on},Ln=function(j,ne){var Ze=Fa(j,ne,!0);ne.set(X(X({},ne.get()),{index:Ze}))},bi=function(j,ne){var Ze=Fa(j,ne,!1);ne.set(X(X({},ne.get()),{index:Ze}))},to=function(j){var ne=wa(j);return ne!==null&&ne.length>0},zo=function(j,ne,Ze,kt,O){var H=ne.get(),te=H.index,be,Ve=te;kt=kt!==!1;for(var qe=j.getBody(),on=Ae.grep(Ae.toArray(qe.getElementsByTagName("span")),to),Sn=0;Sn<on.length;Sn++){var Zn=wa(on[Sn]),or=be=parseInt(Zn,10);if(O||or===H.index){for(Ze.length?(on[Sn].firstChild.nodeValue=Ze,ko(on[Sn])):io(j.dom,on[Sn]);on[++Sn];)if(or=parseInt(wa(on[Sn]),10),or===be)io(j.dom,on[Sn]);else{Sn--;break}kt&&Ve--}else be>te&&on[Sn].setAttribute("data-mce-index",String(be-1))}return ne.set(X(X({},H),{count:O?0:H.count-1,index:Ve})),kt?Ln(j,ne):bi(j,ne),!O&&ne.get().count>0},yi=function(j,ne,Ze){for(var kt,O,H=ne.get(),te=Ae.toArray(j.getBody().getElementsByTagName("span")),be=0;be<te.length;be++){var Ve=wa(te[be]);Ve!==null&&Ve.length&&(Ve===H.index.toString()&&(kt||(kt=te[be].firstChild),O=te[be].firstChild),ko(te[be]))}if(ne.set(X(X({},H),{index:-1,count:0,text:""})),kt&&O){var qe=j.dom.createRng();return qe.setStart(kt,0),qe.setEnd(O,O.data.length),Ze!==!1&&j.selection.setRng(qe),qe}},Lo=function(j,ne){return ne.get().count>1},wi=function(j,ne){return ne.get().count>1},Ci=function(j,ne){var Ze=function(be){return yi(j,ne,be)},kt=function(be,Ve,qe,on){return on===void 0&&(on=!1),uo(j,ne,be,Ve,qe,on)},O=function(){return Ln(j,ne)},H=function(){return bi(j,ne)},te=function(be,Ve,qe){return zo(j,ne,be,Ve,qe)};return{done:Ze,find:kt,next:O,prev:H,replace:te}},Ji=function(j){var ne=Y(we.none()),Ze=function(){return ne.get().each(j)},kt=function(){Ze(),ne.set(we.none())},O=function(){return ne.get().isSome()},H=function(){return ne.get()},te=function(be){Ze(),ne.set(we.some(be))};return{clear:kt,isSet:O,get:H,set:te}},Z=function(){var j=Ji(Te),ne=function(Ze){return j.get().each(Ze)};return X(X({},j),{on:ne})},xe=function(j,ne){var Ze=Z();j.undoManager.add();var kt=Ae.trim(j.selection.getContent({format:"text"})),O=function(ir){var hr=Lo(j,ne)?ir.enable:ir.disable;hr("next");var Zr=wi(j,ne)?ir.enable:ir.disable;Zr("prev")},H=function(ir){var hr=ir.getData(),Zr=ne.get();ne.set(X(X({},Zr),{matchCase:hr.matchcase,wholeWord:hr.wholewords,inSelection:hr.inselection}))},te=function(ir,hr){var Zr=["replace","replaceall","prev","next"],Va=hr?ir.disable:ir.enable;$(Zr,Va)},be=function(ir){j.windowManager.alert("Could not find the specified string.",function(){ir.focus("findtext")})},Ve=function(ir,hr){et.browser.isSafari()&&et.deviceType.isTouch()&&(hr==="find"||hr==="replace"||hr==="replaceall")&&ir.focus(hr)},qe=function(ir){yi(j,ne,!1),te(ir,!0),O(ir)},on=function(ir){var hr=ir.getData(),Zr=ne.get();if(!hr.findtext.length){qe(ir);return}if(Zr.text===hr.findtext&&Zr.matchCase===hr.matchcase&&Zr.wholeWord===hr.wholewords)Ln(j,ne);else{var Va=uo(j,ne,hr.findtext,hr.matchcase,hr.wholewords,hr.inselection);Va<=0&&be(ir),te(ir,Va===0)}O(ir)},Sn=ne.get(),Zn={findtext:kt,replacetext:"",wholewords:Sn.wholeWord,matchcase:Sn.matchCase,inselection:Sn.inSelection},or={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:Zn,onChange:function(ir,hr){hr.name==="findtext"&&ne.get().count>0&&qe(ir)},onAction:function(ir,hr){var Zr=ir.getData();switch(hr.name){case"find":on(ir);break;case"replace":zo(j,ne,Zr.replacetext)?O(ir):qe(ir);break;case"replaceall":zo(j,ne,Zr.replacetext,!0,!0),qe(ir);break;case"prev":bi(j,ne),O(ir);break;case"next":Ln(j,ne),O(ir);break;case"matchcase":case"wholewords":case"inselection":H(ir),qe(ir);break}Ve(ir,hr.name)},onSubmit:function(ir){on(ir),Ve(ir,"find")},onClose:function(){j.focus(),yi(j,ne),j.undoManager.add()}};Ze.set(j.windowManager.open(or,{inline:"toolbar"}))},Q=function(j,ne){j.addCommand("SearchReplace",function(){xe(j,ne)})},Ge=function(j,ne){return function(){xe(j,ne)}},sn=function(j,ne){j.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Ge(j,ne),icon:"search"}),j.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Ge(j,ne),icon:"search"}),j.shortcuts.add("Meta+F","",Ge(j,ne))};function On(){D.add("searchreplace",function(j){var ne=Y({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Q(j,ne),sn(j,ne),Ci(j,ne)})}On()})();(function(){var Y=function(ze){var Yt=ze,Zt=function(){return Yt},Qt=function(z){Yt=z};return{get:Zt,set:Qt}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(ze){return ze.hasPlugin("tinymcespellchecker",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},oe=Object.hasOwnProperty,ue=function(ze){for(var Yt in ze)if(oe.call(ze,Yt))return!1;return!0},Pe=tinymce.util.Tools.resolve("tinymce.util.Tools"),at=tinymce.util.Tools.resolve("tinymce.util.URI"),ct=tinymce.util.Tools.resolve("tinymce.util.XHR"),He=function(ze){return ze.fire("SpellcheckStart")},Ft=function(ze){return ze.fire("SpellcheckEnd")},Te=function(ze){var Yt="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return ze.getParam("spellchecker_languages",Yt)},se=function(ze){var Yt=ze.getParam("language","en");return ze.getParam("spellchecker_language",Yt)},Re=function(ze){return ze.getParam("spellchecker_rpc_url")},Be=function(ze){return ze.getParam("spellchecker_callback")},Xe=function(ze){var Yt=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\xA7\xA9\xAB\xAE\xB1\xB6\xB7\xB8\xBB\xBC\xBD\xBE\xBF\xD7\xF7\xA4\u201D\u201C\u201E\xA0\u2002\u2003\u2009]+',"g");return ze.getParam("spellchecker_wordchar_pattern",Yt)},ve=function(ze){return ze&&ze.nodeType===1&&ze.contentEditable==="false"},yt=function(ze,Yt){var Zt,Qt=[],z=Yt.dom,Wn=Yt.schema.getBlockElements(),dt=Yt.schema.getWhiteSpaceElements(),Fe=Yt.schema.getShortEndedElements(),vn=function(Le,Ye){if(!Le[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:Le.index,end:Le.index+Le[0].length,text:Le[0],data:Ye}},Ne=function(Le){if(Le.nodeType===3)return Le.data;if(dt[Le.nodeName]&&!Wn[Le.nodeName])return"";if(ve(Le))return`
`;var Ye="";if((Wn[Le.nodeName]||Fe[Le.nodeName])&&(Ye+=`
`),Le=Le.firstChild)do Ye+=Ne(Le);while(Le=Le.nextSibling);return Ye},De=function(Le,Ye,Wt){var dn,Jt,ke,Rt,bn=[],un=0,Nn=Le,fe,Ct=0;Ye=Ye.slice(0),Ye.sort(function(it,Ut){return it.start-Ut.start}),fe=Ye.shift();e:for(;;){if((Wn[Nn.nodeName]||Fe[Nn.nodeName]||ve(Nn))&&un++,Nn.nodeType===3&&(!Jt&&Nn.length+un>=fe.end?(Jt=Nn,Rt=fe.end-un):dn&&bn.push(Nn),!dn&&Nn.length+un>fe.start&&(dn=Nn,ke=fe.start-un),un+=Nn.length),dn&&Jt){if(Nn=Wt({startNode:dn,startNodeIndex:ke,endNode:Jt,endNodeIndex:Rt,innerNodes:bn,match:fe.text,matchIndex:Ct}),un-=Jt.length-Rt,dn=null,Jt=null,bn=[],fe=Ye.shift(),Ct++,!fe)break}else if((!dt[Nn.nodeName]||Wn[Nn.nodeName])&&Nn.firstChild){if(!ve(Nn)){Nn=Nn.firstChild;continue}}else if(Nn.nextSibling){Nn=Nn.nextSibling;continue}for(;;)if(Nn.nextSibling){Nn=Nn.nextSibling;break}else if(Nn.parentNode!==Le)Nn=Nn.parentNode;else break e}},nt=function(Le){var Ye=function(Wt,dn){var Jt=Qt[dn];Jt.stencil||(Jt.stencil=Le(Jt));var ke=Jt.stencil.cloneNode(!1);return ke.setAttribute("data-mce-index",""+dn),Wt&&ke.appendChild(z.doc.createTextNode(Wt)),ke};return function(Wt){var dn,Jt,ke,Rt=Wt.startNode,bn=Wt.endNode,un=Wt.matchIndex,Nn=z.doc;if(Rt===bn){var fe=Rt;ke=fe.parentNode,Wt.startNodeIndex>0&&(dn=Nn.createTextNode(fe.data.substring(0,Wt.startNodeIndex)),ke.insertBefore(dn,fe));var Ct=Ye(Wt.match,un);return ke.insertBefore(Ct,fe),Wt.endNodeIndex<fe.length&&(Jt=Nn.createTextNode(fe.data.substring(Wt.endNodeIndex)),ke.insertBefore(Jt,fe)),fe.parentNode.removeChild(fe),Ct}dn=Nn.createTextNode(Rt.data.substring(0,Wt.startNodeIndex)),Jt=Nn.createTextNode(bn.data.substring(Wt.endNodeIndex));for(var it=Ye(Rt.data.substring(Wt.startNodeIndex),un),Ut=0,Pn=Wt.innerNodes.length;Ut<Pn;++Ut){var sr=Wt.innerNodes[Ut],oa=Ye(sr.data,un);sr.parentNode.replaceChild(oa,sr)}var Cr=Ye(bn.data.substring(0,Wt.endNodeIndex),un);return ke=Rt.parentNode,ke.insertBefore(dn,Rt),ke.insertBefore(it,Rt),ke.removeChild(Rt),ke=bn.parentNode,ke.insertBefore(Cr,bn),ke.insertBefore(Jt,bn),ke.removeChild(bn),Cr}},Dt=function(Le){for(var Ye=Le.parentNode;Le.childNodes.length>0;)Ye.insertBefore(Le.childNodes[0],Le);Ye.removeChild(Le)},ot=function(Le){return Le.className.indexOf("mce-spellchecker-word")!==-1},pt=function(Le){var Ye=ze.getElementsByTagName("*"),Wt=[];Le=typeof Le=="number"?""+Le:null;for(var dn=0;dn<Ye.length;dn++){var Jt=Ye[dn],ke=Jt.getAttribute("data-mce-index");ke!==null&&ke.length&&ot(Jt)&&(ke===Le||Le===null)&&Wt.push(Jt)}return Wt},$n=function(Le){for(var Ye=Qt.length;Ye--;)if(Qt[Ye]===Le)return Ye;return-1};function le(Le){var Ye=[];return vt(function(Wt,dn){Le(Wt,dn)&&Ye.push(Wt)}),Qt=Ye,this}function vt(Le){for(var Ye=0,Wt=Qt.length;Ye<Wt&&Le(Qt[Ye],Ye)!==!1;Ye++);return this}function ln(Le){return Qt.length&&De(ze,Qt,nt(Le)),this}function En(Le,Ye){if(Mt&&Le.global)for(;Zt=Le.exec(Mt);)Qt.push(vn(Zt,Ye));return this}function Fn(Le){var Ye,Wt=pt(Le?$n(Le):null);for(Ye=Wt.length;Ye--;)Dt(Wt[Ye]);return this}var jn=function(Le){return Qt[Le.getAttribute("data-mce-index")]},Sr=function(Le){return pt($n(Le))[0]};function Rr(Le,Ye,Wt){return Qt.push({start:Le,end:Le+Ye,text:Mt.substr(Le,Ye),data:Wt}),this}var qr=function(Le){var Ye=pt($n(Le)),Wt=Yt.dom.createRng();return Wt.setStartBefore(Ye[0]),Wt.setEndAfter(Ye[Ye.length-1]),Wt},_t=function(Le,Ye){var Wt=qr(Le);return Wt.deleteContents(),Ye.length>0&&Wt.insertNode(Yt.dom.doc.createTextNode(Ye)),Wt};function Pt(){return Qt.splice(0,Qt.length),Fn(),this}var Mt=Ne(ze);return{text:Mt,matches:Qt,each:vt,filter:le,reset:Pt,matchFromElement:jn,elementFromMatch:Sr,find:En,add:Rr,wrap:ln,unwrap:Fn,replace:_t,rangeFromMatch:qr,indexOf:$n}},Qe=function(ze,Yt){if(!Yt.get()){var Zt=yt(ze.getBody(),ze);Yt.set(Zt)}return Yt.get()},Vt=function(ze,Yt,Zt){return function(Qt,z,Wn,dt){var Fe={method:Qt,lang:Zt.get()},vn="";Fe[Qt==="addToDictionary"?"word":"text"]=z,Pe.each(Fe,function(Ne,De){vn&&(vn+="&"),vn+=De+"="+encodeURIComponent(Ne)}),ct.send({url:new at(Yt).toAbsolute(Re(ze)),type:"post",content_type:"application/x-www-form-urlencoded",data:vn,success:function(Ne){var De=JSON.parse(Ne);if(De)De.error?dt(De.error):Wn(De);else{var nt=ze.translate("Server response wasn't proper JSON.");dt(nt)}},error:function(){var Ne=ze.translate("The spelling service was not found: (")+Re(ze)+ze.translate(")");dt(Ne)}})}},I=function(ze,Yt,Zt,Qt,z,Wn,dt){var Fe=Be(ze),vn=Fe||Vt(ze,Yt,Zt);vn.call(ze.plugins.spellchecker,Qt,z,Wn,dt)},je=function(ze,Yt,Zt,Qt,z,Wn){if(!Ae(ze,Zt,Qt)){var dt=function(vn){ze.notificationManager.open({text:vn,type:"error"}),ze.setProgressState(!1),Ae(ze,Zt,Qt)},Fe=function(vn){Je(ze,Zt,Qt,z,vn)};ze.setProgressState(!0),I(ze,Yt,Wn,"spellcheck",Qe(ze,Qt).text,Fe,dt),ze.focus()}},we=function(ze,Yt,Zt){ze.dom.select("span.mce-spellchecker-word").length||Ae(ze,Yt,Zt)},St=function(ze,Yt,Zt,Qt,z,Wn,dt){ze.setProgressState(!0),I(ze,Yt,z,"addToDictionary",Wn,function(){ze.setProgressState(!1),ze.dom.remove(dt,!0),we(ze,Zt,Qt)},function(Fe){ze.notificationManager.open({text:Fe,type:"error"}),ze.setProgressState(!1)})},et=function(ze,Yt,Zt,Qt,z,Wn){ze.selection.collapse(),Wn?Pe.each(ze.dom.select("span.mce-spellchecker-word"),function(dt){dt.getAttribute("data-mce-word")===Qt&&ze.dom.remove(dt,!0)}):ze.dom.remove(z,!0),we(ze,Yt,Zt)},Ae=function(ze,Yt,Zt){var Qt=ze.selection.getBookmark();if(Qe(ze,Zt).reset(),ze.selection.moveToBookmark(Qt),Zt.set(null),Yt.get())return Yt.set(!1),Ft(ze),!0},Ue=function(ze){var Yt=ze.getAttribute("data-mce-index");return typeof Yt=="number"?""+Yt:Yt},Ee=function(ze,Yt){var Zt=[],Qt=Pe.toArray(ze.getBody().getElementsByTagName("span"));if(Qt.length)for(var z=0;z<Qt.length;z++){var Wn=Ue(Qt[z]);Wn===null||!Wn.length||Wn===Yt.toString()&&Zt.push(Qt[z])}return Zt},Je=function(ze,Yt,Zt,Qt,z){var Wn=!!z.dictionary,dt=z.words;if(ze.setProgressState(!1),ue(dt)){var Fe=ze.translate("No misspellings found.");ze.notificationManager.open({text:Fe,type:"info"}),Yt.set(!1);return}Qt.set({suggestions:dt,hasDictionarySupport:Wn});var vn=ze.selection.getBookmark();Qe(ze,Zt).find(Xe(ze)).filter(function(Ne){return!!dt[Ne.text]}).wrap(function(Ne){return ze.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Ne.text})}),ze.selection.moveToBookmark(vn),Yt.set(!0),He(ze)},$=function(ze,Yt,Zt,Qt,z){var Wn=function(){return Xe(ze)},dt=function(Fe){Je(ze,Yt,Qt,Zt,Fe)};return{getTextMatcher:Qt.get,getWordCharPattern:Wn,markErrors:dt,getLanguage:z.get}},ae=function(ze,Yt,Zt,Qt,z,Wn){ze.addCommand("mceSpellCheck",function(){je(ze,Yt,Zt,Qt,z,Wn)})},Oe=function(){return Oe=Object.assign||function(Yt){for(var Zt,Qt=1,z=arguments.length;Qt<z;Qt++){Zt=arguments[Qt];for(var Wn in Zt)Object.prototype.hasOwnProperty.call(Zt,Wn)&&(Yt[Wn]=Zt[Wn])}return Yt},Oe.apply(this,arguments)},Kt="SpellcheckStart SpellcheckEnd",Ie=function(ze,Yt){var Zt=[];return Pe.each(Yt,function(Qt){Zt.push({selectable:!0,text:Qt.name,data:Qt.value})}),Zt},cn=function(ze){return Pe.map(Te(ze).split(","),function(Yt){var Zt=Yt.split("=");return{name:Zt[0],value:Zt[1]}})},an=function(ze,Yt,Zt,Qt,z,Wn){var dt=Ie("Language",cn(ze)),Fe=function(){je(ze,Yt,Zt,Qt,Wn,z)},vn={tooltip:"Spellcheck",onAction:Fe,icon:"spell-check",onSetup:function(De){var nt=function(){De.setActive(Zt.get())};return ze.on(Kt,nt),function(){ze.off(Kt,nt)}}},Ne=Oe(Oe({},vn),{type:"splitbutton",select:function(De){return De===z.get()},fetch:function(De){var nt=Pe.map(dt,function(Dt){return{type:"choiceitem",value:Dt.data,text:Dt.text}});De(nt)},onItemAction:function(De,nt){z.set(nt)}});dt.length>1?ze.ui.registry.addSplitButton("spellchecker",Ne):ze.ui.registry.addToggleButton("spellchecker",vn),ze.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(De){De.setActive(Zt.get());var nt=function(){De.setActive(Zt.get())};return ze.on(Kt,nt),function(){ze.off(Kt,nt)}},onAction:Fe})},C=!0,rt=function(ze,Yt,Zt,Qt,z,Wn,dt,Fe){var vn=[],Ne=Zt.get().suggestions[dt];Pe.each(Ne,function(nt){vn.push({text:nt,onAction:function(){ze.insertContent(ze.dom.encode(nt)),ze.dom.remove(Fe),we(ze,Qt,z)}})});var De=Zt.get().hasDictionarySupport;return De&&(vn.push({type:"separator"}),vn.push({text:"Add to dictionary",onAction:function(){St(ze,Yt,Qt,z,Wn,dt,Fe)}})),vn.push.apply(vn,[{type:"separator"},{text:"Ignore",onAction:function(){et(ze,Qt,z,dt,Fe)}},{text:"Ignore all",onAction:function(){et(ze,Qt,z,dt,Fe,C)}}]),vn},ft=function(ze,Yt,Zt,Qt,z,Wn){var dt=function(Fe){var vn=Fe;if(vn.className==="mce-spellchecker-word"){var Ne=Ee(ze,Ue(vn));if(Ne.length>0){var De=ze.dom.createRng();return De.setStartBefore(Ne[0]),De.setEndAfter(Ne[Ne.length-1]),ze.selection.setRng(De),rt(ze,Yt,Zt,Qt,z,Wn,vn.getAttribute("data-mce-word"),Ne)}}else return[]};ze.ui.registry.addContextMenu("spellchecker",{update:dt})};function jt(){D.add("spellchecker",function(ze,Yt){if(X(ze)===!1){var Zt=Y(!1),Qt=Y(se(ze)),z=Y(null),Wn=Y(null);return an(ze,Yt,Zt,z,Qt,Wn),ft(ze,Yt,Wn,Zt,z,Qt),ae(ze,Yt,Zt,z,Wn,Qt),$(ze,Zt,Wn,z,Qt)}})}jt()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),X=tinymce.util.Tools.resolve("tinymce.EditorManager"),oe=tinymce.util.Tools.resolve("tinymce.Env"),ue=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pe=tinymce.util.Tools.resolve("tinymce.util.Tools"),at=tinymce.util.Tools.resolve("tinymce.util.VK"),ct=function(Be){return Be.getParam("tabfocus_elements",":prev,:next")},He=function(Be){return Be.getParam("tab_focus",ct(Be))},Ft=D.DOM,Te=function(Be){Be.keyCode===at.TAB&&!Be.ctrlKey&&!Be.altKey&&!Be.metaKey&&Be.preventDefault()},se=function(Be){var Xe=function(ve){var yt;if(!(ve.keyCode!==at.TAB||ve.ctrlKey||ve.altKey||ve.metaKey||ve.isDefaultPrevented())){var Qe=function(we){var St=Ft.select(":input:enabled,*[tabindex]:not(iframe)"),et=function(Ee){var Je=Ee;return Ee.nodeName==="BODY"||Je.type!=="hidden"&&Je.style.display!=="none"&&Je.style.visibility!=="hidden"&&et(Ee.parentNode)},Ae=function(Ee){return/INPUT|TEXTAREA|BUTTON/.test(Ee.tagName)&&X.get(ve.id)&&Ee.tabIndex!==-1&&et(Ee)};if(Pe.each(St,function(Ee,Je){if(Ee.id===Be.id)return yt=Je,!1}),we>0){for(var Ue=yt+1;Ue<St.length;Ue++)if(Ae(St[Ue]))return St[Ue]}else for(var Ue=yt-1;Ue>=0;Ue--)if(Ae(St[Ue]))return St[Ue];return null},Vt=Pe.explode(He(Be));Vt.length===1&&(Vt[1]=Vt[0],Vt[0]=":prev");var I;if(ve.shiftKey?Vt[0]===":prev"?I=Qe(-1):I=Ft.get(Vt[0]):Vt[1]===":next"?I=Qe(1):I=Ft.get(Vt[1]),I){var je=X.get(I.id||I.name);I.id&&je?je.focus():ue.setTimeout(function(){oe.webkit||window.focus(),I.focus()},10),ve.preventDefault()}}};Be.on("init",function(){Be.inline&&Ft.setAttrib(Be.getBody(),"tabIndex",null),Be.on("keyup",Te),oe.gecko?Be.on("keypress keydown",Xe):Be.on("keydown",Xe)})};function Re(){Y.add("tabfocus",function(Be){se(Be)})}Re()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(le){var vt=typeof le;return le===null?"null":vt==="object"&&(Array.prototype.isPrototypeOf(le)||le.constructor&&le.constructor.name==="Array")?"array":vt==="object"&&(String.prototype.isPrototypeOf(le)||le.constructor&&le.constructor.name==="String")?"string":vt},X=function(le){return function(vt){return D(vt)===le}},oe=function(le){return function(vt){return typeof vt===le}},ue=X("string"),Pe=oe("function"),at=function(){},ct=function(le){return function(){return le}},He=function(le){return le};function Ft(le){for(var vt=[],ln=1;ln<arguments.length;ln++)vt[ln-1]=arguments[ln];return function(){for(var En=[],Fn=0;Fn<arguments.length;Fn++)En[Fn]=arguments[Fn];var jn=vt.concat(En);return le.apply(null,jn)}}var Te=ct(!1),se=ct(!0),Re=tinymce.util.Tools.resolve("tinymce.util.Tools"),Be=tinymce.util.Tools.resolve("tinymce.util.XHR"),Xe=function(le){return le.getParam("template_cdate_classes","cdate")},ve=function(le){return le.getParam("template_mdate_classes","mdate")},yt=function(le){return le.getParam("template_selected_content_classes","selcontent")},Qe=function(le){return le.getParam("template_preview_replace_values")},Vt=function(le){return le.getParam("content_style","","string")},I=function(le){return le.getParam("content_css_cors",!1,"boolean")},je=function(le){return le.getParam("template_replace_values")},we=function(le){return le.getParam("templates")},St=function(le){return le.getParam("template_cdate_format",le.translate("%Y-%m-%d"))},et=function(le){return le.getParam("template_mdate_format",le.translate("%Y-%m-%d"))},Ae=function(le){var vt=le.getParam("body_class","","hash");return vt[le.id]||""},Ue=function(le){var vt=le.getParam("body_class","","string");return vt.indexOf("=")===-1?vt:Ae(le)},Ee=function(le,vt){if(le=""+le,le.length<vt)for(var ln=0;ln<vt-le.length;ln++)le="0"+le;return le},Je=function(le,vt,ln){ln===void 0&&(ln=new Date);var En="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Fn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),jn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Sr="January February March April May June July August September October November December".split(" ");return vt=vt.replace("%D","%m/%d/%Y"),vt=vt.replace("%r","%I:%M:%S %p"),vt=vt.replace("%Y",""+ln.getFullYear()),vt=vt.replace("%y",""+ln.getYear()),vt=vt.replace("%m",Ee(ln.getMonth()+1,2)),vt=vt.replace("%d",Ee(ln.getDate(),2)),vt=vt.replace("%H",""+Ee(ln.getHours(),2)),vt=vt.replace("%M",""+Ee(ln.getMinutes(),2)),vt=vt.replace("%S",""+Ee(ln.getSeconds(),2)),vt=vt.replace("%I",""+((ln.getHours()+11)%12+1)),vt=vt.replace("%p",ln.getHours()<12?"AM":"PM"),vt=vt.replace("%B",""+le.translate(Sr[ln.getMonth()])),vt=vt.replace("%b",""+le.translate(jn[ln.getMonth()])),vt=vt.replace("%A",""+le.translate(Fn[ln.getDay()])),vt=vt.replace("%a",""+le.translate(En[ln.getDay()])),vt=vt.replace("%%","%"),vt},$=function(le,vt){return function(){var ln=we(le);Pe(ln)?ln(vt):ue(ln)?Be.send({url:ln,success:function(En){vt(JSON.parse(En))}}):vt(ln)}},ae=function(le,vt){return Re.each(vt,function(ln,En){Pe(ln)&&(ln=ln(En)),le=le.replace(new RegExp("\\{\\$"+En+"\\}","g"),ln)}),le},Oe=function(le,vt){var ln=le.dom,En=je(le);Re.each(ln.select("*",vt),function(Fn){Re.each(En,function(jn,Sr){ln.hasClass(Fn,Sr)&&Pe(jn)&&jn(Fn)})})},Kt=function(le,vt){return new RegExp("\\b"+vt+"\\b","g").test(le.className)},Ie=function(le,vt,ln){var En=le.dom,Fn=le.selection.getContent();ln=ae(ln,je(le));var jn=En.create("div",null,ln),Sr=En.select(".mceTmpl",jn);Sr&&Sr.length>0&&(jn=En.create("div",null),jn.appendChild(Sr[0].cloneNode(!0))),Re.each(En.select("*",jn),function(Rr){Kt(Rr,Xe(le).replace(/\s+/g,"|"))&&(Rr.innerHTML=Je(le,St(le))),Kt(Rr,ve(le).replace(/\s+/g,"|"))&&(Rr.innerHTML=Je(le,et(le))),Kt(Rr,yt(le).replace(/\s+/g,"|"))&&(Rr.innerHTML=Fn)}),Oe(le,jn),le.execCommand("mceInsertContent",!1,jn.innerHTML),le.addVisual()},cn=function(){return an},an=function(){var le=function(En){return En()},vt=He,ln={fold:function(En,Fn){return En()},isSome:Te,isNone:se,getOr:vt,getOrThunk:le,getOrDie:function(En){throw new Error(En||"error: getOrDie called on none.")},getOrNull:ct(null),getOrUndefined:ct(void 0),or:vt,orThunk:le,map:cn,each:at,bind:cn,exists:Te,forall:se,filter:function(){return cn()},toArray:function(){return[]},toString:ct("none()")};return ln}(),C=function(le){var vt=ct(le),ln=function(){return Fn},En=function(jn){return jn(le)},Fn={fold:function(jn,Sr){return Sr(le)},isSome:se,isNone:Te,getOr:vt,getOrThunk:vt,getOrDie:vt,getOrNull:vt,getOrUndefined:vt,or:ln,orThunk:ln,map:function(jn){return C(jn(le))},each:function(jn){jn(le)},bind:En,exists:En,forall:En,filter:function(jn){return jn(le)?Fn:an},toArray:function(){return[le]},toString:function(){return"some("+le+")"}};return Fn},rt=function(le){return le==null?an:C(le)},ft={some:C,none:cn,from:rt},jt=function(le,vt){for(var ln=le.length,En=new Array(ln),Fn=0;Fn<ln;Fn++){var jn=le[Fn];En[Fn]=vt(jn,Fn)}return En},ze=function(le,vt,ln){for(var En=0,Fn=le.length;En<Fn;En++){var jn=le[En];if(vt(jn,En))return ft.some(jn);if(ln(jn,En))break}return ft.none()},Yt=function(le,vt){return ze(le,vt,Te)},Zt=tinymce.util.Tools.resolve("tinymce.Env"),Qt=tinymce.util.Tools.resolve("tinymce.util.Promise"),z=Object.hasOwnProperty,Wn=function(le,vt){return dt(le,vt)?ft.from(le[vt]):ft.none()},dt=function(le,vt){return z.call(le,vt)},Fe={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},vn=function(le){return le.replace(/["'<>&]/g,function(vt){return Wn(Fe,vt).getOr(vt)})},Ne=function(le,vt){if(vt.indexOf("<html>")===-1){var ln="",En=Vt(le),Fn=I(le)?' crossorigin="anonymous"':"";Re.each(le.contentCSS,function(Mt){ln+='<link type="text/css" rel="stylesheet" href="'+le.documentBaseURI.toAbsolute(Mt)+'"'+Fn+">"}),En&&(ln+='<style type="text/css">'+En+"</style>");var jn=Ue(le),Sr=le.dom.encode,Rr=Zt.mac?"e.metaKey":"e.ctrlKey && !e.altKey",qr='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Rr+")) {e.preventDefault();}}}, false);<\/script> ",_t=le.getBody().dir,Pt=_t?' dir="'+Sr(_t)+'"':"";vt='<!DOCTYPE html><html><head><base href="'+Sr(le.documentBaseURI.getURI())+'">'+ln+qr+'</head><body class="'+Sr(jn)+'"'+Pt+">"+vt+"</body></html>"}return ae(vt,Qe(le))},De=function(le,vt){var ln=function(){if(!vt||vt.length===0){var Mt=le.translate("No templates defined.");return le.notificationManager.open({text:Mt,type:"info"}),ft.none()}return ft.from(Re.map(vt,function(Le,Ye){var Wt=function(dn){return dn.url!==void 0};return{selected:Ye===0,text:Le.title,value:{url:Wt(Le)?ft.from(Le.url):ft.none(),content:Wt(Le)?ft.none():ft.from(Le.content),description:Le.description}}}))},En=function(Mt){return jt(Mt,function(Le){return{text:Le.text,value:Le.text}})},Fn=function(Mt,Le){return Yt(Mt,function(Ye){return Ye.text===Le})},jn=function(Mt){le.windowManager.alert("Could not load the specified template.",function(){return Mt.focus("template")})},Sr=function(Mt){return new Qt(function(Le,Ye){Mt.value.url.fold(function(){return Le(Mt.value.content.getOr(""))},function(Wt){return Be.send({url:Wt,success:function(dn){Le(dn)},error:function(dn){Ye(dn)}})})})},Rr=function(Mt,Le){return function(Ye,Wt){if(Wt.name==="template"){var dn=Ye.getData().template;Fn(Mt,dn).each(function(Jt){Ye.block("Loading..."),Sr(Jt).then(function(ke){Le(Ye,Jt,ke)}).catch(function(){Le(Ye,Jt,""),Ye.disable("save"),jn(Ye)})})}}},qr=function(Mt){return function(Le){var Ye=Le.getData();Fn(Mt,Ye.template).each(function(Wt){Sr(Wt).then(function(dn){le.execCommand("mceInsertTemplate",!1,dn),Le.close()}).catch(function(){Le.disable("save"),jn(Le)})})}},_t=function(Mt){var Le=En(Mt),Ye=function(Jt,ke){return{title:"Insert Template",size:"large",body:{type:"panel",items:Jt},initialData:ke,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:qr(Mt),onChange:Rr(Mt,Wt)}},Wt=function(Jt,ke,Rt){var bn=Ne(le,Rt),un=[{type:"selectbox",name:"template",label:"Templates",items:Le},{type:"htmlpanel",html:'<p aria-live="polite">'+vn(ke.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],Nn={template:ke.text,preview:bn};Jt.unblock(),Jt.redial(Ye(un,Nn)),Jt.focus("template")},dn=le.windowManager.open(Ye([],{template:"",preview:""}));dn.block("Loading..."),Sr(Mt[0]).then(function(Jt){Wt(dn,Mt[0],Jt)}).catch(function(){Wt(dn,Mt[0],""),dn.disable("save"),jn(dn)})},Pt=ln();Pt.each(_t)},nt=function(le){return function(vt){De(le,vt)}},Dt=function(le){le.addCommand("mceInsertTemplate",Ft(Ie,le)),le.addCommand("mceTemplate",$(le,nt(le)))},ot=function(le){le.on("PreProcess",function(vt){var ln=le.dom,En=et(le);Re.each(ln.select("div",vt.node),function(Fn){ln.hasClass(Fn,"mceTmpl")&&(Re.each(ln.select("*",Fn),function(jn){ln.hasClass(jn,ve(le).replace(/\s+/g,"|"))&&(jn.innerHTML=Je(le,En))}),Oe(le,Fn))})})},pt=function(le){var vt=function(){return le.execCommand("mceTemplate")};le.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:vt}),le.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:vt})};function $n(){Y.add("template",function(le){pt(le),Dt(le),ot(le)})}$n()})();(function(){var Y=function(O){var H=O,te=function(){return H},be=function(Ve){H=Ve};return{get:te,set:be}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(){return X=Object.assign||function(H){for(var te,be=1,Ve=arguments.length;be<Ve;be++){te=arguments[be];for(var qe in te)Object.prototype.hasOwnProperty.call(te,qe)&&(H[qe]=te[qe])}return H},X.apply(this,arguments)};function oe(O,H,te){if(te||arguments.length===2)for(var be=0,Ve=H.length,qe;be<Ve;be++)(qe||!(be in H))&&(qe||(qe=Array.prototype.slice.call(H,0,be)),qe[be]=H[be]);return O.concat(qe||Array.prototype.slice.call(H))}var ue=function(O){var H=typeof O;return O===null?"null":H==="object"&&(Array.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="Array")?"array":H==="object"&&(String.prototype.isPrototypeOf(O)||O.constructor&&O.constructor.name==="String")?"string":H},Pe=function(O){return function(H){return ue(H)===O}},at=Pe("string"),ct=Pe("object"),He=Pe("array"),Ft=function(){},Te=function(O){return function(){return O}},se=function(O){return O},Re=function(O){return function(){throw new Error(O)}},Be=Te(!1),Xe=Te(!0),ve=function(){return yt},yt=function(){var O=function(be){return be()},H=se,te={fold:function(be,Ve){return be()},isSome:Be,isNone:Xe,getOr:H,getOrThunk:O,getOrDie:function(be){throw new Error(be||"error: getOrDie called on none.")},getOrNull:Te(null),getOrUndefined:Te(void 0),or:H,orThunk:O,map:ve,each:Ft,bind:ve,exists:Be,forall:Xe,filter:function(){return ve()},toArray:function(){return[]},toString:Te("none()")};return te}(),Qe=function(O){var H=Te(O),te=function(){return Ve},be=function(qe){return qe(O)},Ve={fold:function(qe,on){return on(O)},isSome:Xe,isNone:Be,getOr:H,getOrThunk:H,getOrDie:H,getOrNull:H,getOrUndefined:H,or:te,orThunk:te,map:function(qe){return Qe(qe(O))},each:function(qe){qe(O)},bind:be,exists:be,forall:be,filter:function(qe){return qe(O)?Ve:yt},toArray:function(){return[O]},toString:function(){return"some("+O+")"}};return Ve},Vt=function(O){return O==null?yt:Qe(O)},I={some:Qe,none:ve,from:Vt},je=Array.prototype.slice,we=Array.prototype.indexOf,St=function(O,H){return we.call(O,H)},et=function(O,H){return St(O,H)>-1},Ae=function(O,H){for(var te=O.length,be=new Array(te),Ve=0;Ve<te;Ve++){var qe=O[Ve];be[Ve]=H(qe,Ve)}return be},Ue=function(O,H){for(var te=0,be=O.length;te<be;te++){var Ve=O[te];H(Ve,te)}},Ee=function(O,H){for(var te=O.length-1;te>=0;te--){var be=O[te];H(be,te)}},Je=function(O,H){for(var te=[],be=0,Ve=O.length;be<Ve;be++){var qe=O[be];H(qe,be)&&te.push(qe)}return te},$=function(O,H,te){return Ee(O,function(be,Ve){te=H(te,be,Ve)}),te},ae=function(O,H,te){return Ue(O,function(be,Ve){te=H(te,be,Ve)}),te},Oe=function(O,H,te){for(var be=0,Ve=O.length;be<Ve;be++){var qe=O[be];if(H(qe,be))return I.some(qe);if(te(qe,be))break}return I.none()},Kt=function(O,H){return Oe(O,H,Be)},Ie=function(O,H){for(var te=0,be=O.length;te<be;++te){var Ve=O[te];if(H(Ve,te)!==!0)return!1}return!0},cn=function(O,H){var te=je.call(O,0);return te.sort(H),te},an=function(O,H){return H>=0&&H<O.length?I.some(O[H]):I.none()},C=function(O){return an(O,0)},rt=Object.keys,ft=Object.hasOwnProperty,jt=function(O,H){return ft.call(O,H)},ze=function(O){if(!He(O))throw new Error("cases must be an array");if(O.length===0)throw new Error("there must be at least one case");var H=[],te={};return Ue(O,function(be,Ve){var qe=rt(be);if(qe.length!==1)throw new Error("one and only one name per case");var on=qe[0],Sn=be[on];if(te[on]!==void 0)throw new Error("duplicate key detected:"+on);if(on==="cata")throw new Error("cannot have a case named cata (sorry)");if(!He(Sn))throw new Error("case arguments must be an array");H.push(on),te[on]=function(){for(var Zn=[],or=0;or<arguments.length;or++)Zn[or]=arguments[or];var ir=Zn.length;if(ir!==Sn.length)throw new Error("Wrong number of arguments to case "+on+". Expected "+Sn.length+" ("+Sn+"), got "+ir);var hr=function(Zr){var Va=rt(Zr);if(H.length!==Va.length)throw new Error("Wrong number of arguments to match. Expected: "+H.join(",")+`
Actual: `+Va.join(","));var ui=Ie(H,function(Qi){return et(Va,Qi)});if(!ui)throw new Error("Not all branches were specified when using match. Specified: "+Va.join(", ")+`
Required: `+H.join(", "));return Zr[on].apply(null,Zn)};return{fold:function(){for(var Zr=[],Va=0;Va<arguments.length;Va++)Zr[Va]=arguments[Va];if(Zr.length!==O.length)throw new Error("Wrong number of arguments to fold. Expected "+O.length+", got "+Zr.length);var ui=Zr[Ve];return ui.apply(null,Zn)},match:hr,log:function(Zr){}}}}),te},Yt={generate:ze};Yt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Zt=function(O){var H=[],te=[];return Ue(O,function(be){be.fold(function(Ve){H.push(Ve)},function(Ve){te.push(Ve)})}),{errors:H,values:te}},Qt=function(O){var H=function(hr){return Qt(O)},te=function(hr){return Qt(O)},be=function(hr){return Qt(hr(O))},Ve=function(hr){return Qt(O)},qe=function(hr){hr(O)},on=function(hr){return hr(O)},Sn=function(hr,Zr){return Zr(O)},Zn=function(hr){return hr(O)},or=function(hr){return hr(O)},ir=function(){return I.some(O)};return{isValue:Xe,isError:Be,getOr:Te(O),getOrThunk:Te(O),getOrDie:Te(O),or:H,orThunk:te,fold:Sn,map:be,mapError:Ve,each:qe,bind:on,exists:Zn,forall:or,toOptional:ir}},z=function(O){var H=function(or){return or()},te=function(){return Re(String(O))()},be=se,Ve=function(or){return or()},qe=function(or){return z(O)},on=function(or){return z(or(O))},Sn=function(or){return z(O)},Zn=function(or,ir){return or(O)};return{isValue:Be,isError:Xe,getOr:se,getOrThunk:H,getOrDie:te,or:be,orThunk:Ve,fold:Zn,map:qe,mapError:on,each:Ft,bind:Sn,exists:Be,forall:Xe,toOptional:I.none}},Wn=function(O,H){return O.fold(function(){return z(H)},Qt)},dt={value:Qt,error:z,fromOption:Wn},Fe=function(O){return O.type==="inline-command"||O.type==="inline-format"},vn=function(O){return O.type==="block-command"||O.type==="block-format"},Ne=function(O){return cn(O,function(H,te){return H.start.length===te.start.length?0:H.start.length>te.start.length?-1:1})},De=function(O){var H=function(qe){return dt.error({message:qe,pattern:O})},te=function(qe,on,Sn){if(O.format!==void 0){var Zn=void 0;if(He(O.format)){if(!Ie(O.format,at))return H(qe+" pattern has non-string items in the `format` array");Zn=O.format}else if(at(O.format))Zn=[O.format];else return H(qe+" pattern has non-string `format` parameter");return dt.value(on(Zn))}else return O.cmd!==void 0?at(O.cmd)?dt.value(Sn(O.cmd,O.value)):H(qe+" pattern has non-string `cmd` parameter"):H(qe+" pattern is missing both `format` and `cmd` parameters")};if(!ct(O))return H("Raw pattern is not an object");if(!at(O.start))return H("Raw pattern is missing `start` parameter");if(O.end!==void 0){if(!at(O.end))return H("Inline pattern has non-string `end` parameter");if(O.start.length===0&&O.end.length===0)return H("Inline pattern has empty `start` and `end` parameters");var be=O.start,Ve=O.end;return Ve.length===0&&(Ve=be,be=""),te("Inline",function(qe){return{type:"inline-format",start:be,end:Ve,format:qe}},function(qe,on){return{type:"inline-command",start:be,end:Ve,cmd:qe,value:on}})}else return O.replacement!==void 0?at(O.replacement)?O.start.length===0?H("Replacement pattern has empty `start` parameter"):dt.value({type:"inline-command",start:"",end:O.start,cmd:"mceInsertContent",value:O.replacement}):H("Replacement pattern has non-string `replacement` parameter"):O.start.length===0?H("Block pattern has empty `start` parameter"):te("Block",function(qe){return{type:"block-format",start:O.start,format:qe[0]}},function(qe,on){return{type:"block-command",start:O.start,cmd:qe,value:on}})},nt=function(O){if(O.type==="block-command")return{start:O.start,cmd:O.cmd,value:O.value};if(O.type==="block-format")return{start:O.start,format:O.format};if(O.type==="inline-command")return O.cmd==="mceInsertContent"&&O.start===""?{start:O.end,replacement:O.value}:{start:O.start,end:O.end,cmd:O.cmd,value:O.value};if(O.type==="inline-format")return{start:O.start,end:O.end,format:O.format.length===1?O.format[0]:O.format}},Dt=function(O){return{inlinePatterns:Je(O,Fe),blockPatterns:Ne(Je(O,vn))}},ot=function(O){var H=function(be){var Ve=Zt(Ae(be,De));if(Ve.errors.length>0){var qe=Ve.errors[0];throw new Error(qe.message+`:
`+JSON.stringify(qe.pattern,null,2))}O.set(Dt(Ve.values))},te=function(){return oe(oe([],Ae(O.get().inlinePatterns,nt),!0),Ae(O.get().blockPatterns,nt),!0)};return{setPatterns:H,getPatterns:te}},pt=typeof window!="undefined"?window:Function("return this;")(),$n=function(){for(var O=[],H=0;H<arguments.length;H++)O[H]=arguments[H];var te=pt.console;te&&(te.error?te.error.apply(te,O):te.log.apply(te,O))},le=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],vt=function(O){var H=O.getParam("textpattern_patterns",le,"array");if(!He(H))return $n("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var te=Zt(Ae(H,De));return Ue(te.errors,function(be){return $n(be.message,be.pattern)}),Dt(te.values)},ln=function(O){var H=O.getParam("forced_root_block","p");return H===!1?"":H===!0?"p":H},En=tinymce.util.Tools.resolve("tinymce.util.Delay"),Fn=tinymce.util.Tools.resolve("tinymce.util.VK"),jn="\uFEFF",Sr="\xA0",Rr=tinymce.util.Tools.resolve("tinymce.util.Tools"),qr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_t=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Pt=function(O,H){return{container:O,offset:H}},Mt=function(O){return O.nodeType===Node.TEXT_NODE},Le=function(O,H,te){if(H&&O.isEmpty(H)&&!te(H)){var be=H.parentNode;O.remove(H),Le(O,be,te)}},Ye=function(O,H,te,be){be===void 0&&(be=!0);var Ve=H.startContainer.parentNode,qe=H.endContainer.parentNode;H.deleteContents(),be&&!te(H.startContainer)&&(Mt(H.startContainer)&&H.startContainer.data.length===0&&O.remove(H.startContainer),Mt(H.endContainer)&&H.endContainer.data.length===0&&O.remove(H.endContainer),Le(O,Ve,te),Ve!==qe&&Le(O,qe,te))},Wt=function(O,H){var te=H.get(O);return He(te)&&C(te).exists(function(be){return jt(be,"block")})},dn=function(O){return O.start.length===0},Jt=function(O,H){var te=I.from(O.dom.getParent(H.startContainer,O.dom.isBlock));return ln(O)===""?te.orThunk(function(){return I.some(O.getBody())}):te},ke=qr.DOM,Rt=function(O){return function(H){return O===H?-1:0}},bn=function(O){return function(H){return O.isBlock(H)||et(["BR","IMG","HR","INPUT"],H.nodeName)||O.getContentEditable(H)==="false"}},un=function(O,H,te){if(Mt(O)&&H>=0)return I.some(Pt(O,H));var be=_t(ke);return I.from(be.backwards(O,H,Rt(O),te)).map(function(Ve){return Pt(Ve.container,Ve.container.data.length)})},Nn=function(O,H,te){if(Mt(O)&&H>=O.length)return I.some(Pt(O,H));var be=_t(ke);return I.from(be.forwards(O,H,Rt(O),te)).map(function(Ve){return Pt(Ve.container,0)})},fe=function(O,H,te){if(!Mt(O))return I.none();var be=O.textContent;if(H>=0&&H<=be.length)return I.some(Pt(O,H));var Ve=_t(ke);return I.from(Ve.backwards(O,H,Rt(O),te)).bind(function(qe){var on=qe.container.data;return fe(qe.container,H+on.length,te)})},Ct=function(O,H,te){if(!Mt(O))return I.none();var be=O.textContent;if(H<=be.length)return I.some(Pt(O,H));var Ve=_t(ke);return I.from(Ve.forwards(O,H,Rt(O),te)).bind(function(qe){return Ct(qe.container,H-be.length,te)})},it=function(O,H,te,be,Ve){var qe=_t(O,bn(O));return I.from(qe.backwards(H,te,be,Ve))},Ut=function(O,H,te){if(Mt(H)&&(te<0||te>H.data.length))return[];for(var be=[te],Ve=H;Ve!==O&&Ve.parentNode;){for(var qe=Ve.parentNode,on=0;on<qe.childNodes.length;on++)if(qe.childNodes[on]===Ve){be.push(on);break}Ve=qe}return Ve===O?be.reverse():[]},Pn=function(O,H,te,be,Ve){var qe=Ut(O,H,te),on=Ut(O,be,Ve);return{start:qe,end:on}},sr=function(O,H){var te=H.slice(),be=te.pop(),Ve=ae(te,function(qe,on){return qe.bind(function(Sn){return I.from(Sn.childNodes[on])})},I.some(O));return Ve.bind(function(qe){return Mt(qe)&&(be<0||be>qe.data.length)?I.none():I.some({node:qe,offset:be})})},oa=function(O,H){return sr(O,H.start).bind(function(te){var be=te.node,Ve=te.offset;return sr(O,H.end).map(function(qe){var on=qe.node,Sn=qe.offset,Zn=document.createRange();return Zn.setStart(be,Ve),Zn.setEnd(on,Sn),Zn})})},Cr=function(O,H){return Pn(O,H.startContainer,H.startOffset,H.endContainer,H.endOffset)},vr=function(O,H,te){var be=Nn(H,0,H);be.each(function(Ve){var qe=Ve.container;Ct(qe,te.start.length,H).each(function(on){var Sn=O.createRng();Sn.setStart(qe,0),Sn.setEnd(on.container,on.offset),Ye(O,Sn,function(Zn){return Zn===H})})})},sa=function(O,H){var te=O.dom,be=H.pattern,Ve=oa(te.getRoot(),H.range).getOrDie("Unable to resolve path range");return Jt(O,Ve).each(function(qe){be.type==="block-format"?Wt(be.format,O.formatter)&&O.undoManager.transact(function(){vr(O.dom,qe,be),O.formatter.apply(be.format)}):be.type==="block-command"&&O.undoManager.transact(function(){vr(O.dom,qe,be),O.execCommand(be.cmd,!1,be.value)})}),!0},bo=function(O,H){var te=H.replace(Sr," ");return Kt(O,function(be){return H.indexOf(be.start)===0||te.indexOf(be.start)===0})},Ba=function(O,H){var te=O.dom,be=O.selection.getRng();return Jt(O,be).filter(function(Ve){var qe=ln(O),on=qe===""&&te.is(Ve,"body")||te.is(Ve,qe);return Ve!==null&&on}).bind(function(Ve){var qe=Ve.textContent,on=bo(H,qe);return on.map(function(Sn){return Rr.trim(qe).length===Sn.start.length?[]:[{pattern:Sn,range:Pn(te.getRoot(),Ve,0,Ve,0)}]})}).getOr([])},wa=function(O,H){if(H.length!==0){var te=O.selection.getBookmark();Ue(H,function(be){return sa(O,be)}),O.selection.moveToBookmark(te)}},La=0,ko=function(O){var H=new Date,te=H.getTime(),be=Math.floor(Math.random()*1e9);return La++,O+"_"+be+La+String(te)},Ha=function(O,H,te){return H===""||O.length>=H.length&&O.substr(te,te+H.length)===H},Fa=function(O,H){return Ha(O,H,O.length-H.length)},io=function(O,H){return O.create("span",{"data-mce-type":"bookmark",id:H})},Br=function(O,H){var te=O.createRng();return te.setStartAfter(H.start),te.setEndBefore(H.end),te},uo=function(O,H,te){var be=oa(O.getRoot(),te).getOrDie("Unable to resolve path range"),Ve=be.startContainer,qe=be.endContainer,on=be.endOffset===0?qe:qe.splitText(be.endOffset),Sn=be.startOffset===0?Ve:Ve.splitText(be.startOffset);return{prefix:H,end:on.parentNode.insertBefore(io(O,H+"-end"),on),start:Sn.parentNode.insertBefore(io(O,H+"-start"),Sn)}},Ln=function(O,H,te){Le(O,O.get(H.prefix+"-end"),te),Le(O,O.get(H.prefix+"-start"),te)},bi=function(O,H,te){return function(be,Ve){var qe=be.data,on=qe.substring(0,Ve),Sn=on.lastIndexOf(te.charAt(te.length-1)),Zn=on.lastIndexOf(te);return Zn!==-1?Zn+te.length:Sn!==-1?Sn+1:-1}},to=function(O,H,te,be){var Ve=H.start,qe=it(O,be.container,be.offset,bi(O,te,Ve),te);return qe.bind(function(on){if(on.offset>=Ve.length){var Sn=O.createRng();return Sn.setStart(on.container,on.offset-Ve.length),Sn.setEnd(on.container,on.offset),I.some(Sn)}else{var Zn=on.offset-Ve.length;return fe(on.container,Zn,te).map(function(or){var ir=O.createRng();return ir.setStart(or.container,or.offset),ir.setEnd(on.container,on.offset),ir}).filter(function(or){return or.toString()===Ve}).orThunk(function(){return to(O,H,te,Pt(on.container,0))})}})},zo=function(O,H,te,be,Ve,qe){if(qe===void 0&&(qe=!1),H.start.length===0&&!qe){var on=O.createRng();return on.setStart(te,be),on.setEnd(te,be),I.some(on)}return un(te,be,Ve).bind(function(Sn){var Zn=to(O,H,Ve,Sn);return Zn.bind(function(or){if(qe){if(or.endContainer===Sn.container&&or.endOffset===Sn.offset)return I.none();if(Sn.offset===0&&or.endContainer.textContent.length===or.endOffset)return I.none()}return I.some(or)})})},yi=function(O,H,te){var be=O.dom,Ve=be.getRoot(),qe=te.pattern,on=te.position.container,Sn=te.position.offset;return fe(on,Sn-te.pattern.end.length,H).bind(function(Zn){var or=Pn(Ve,Zn.container,Zn.offset,on,Sn);if(dn(qe))return I.some({matches:[{pattern:qe,startRng:or,endRng:or}],position:Zn});var ir=Lo(O,te.remainingPatterns,Zn.container,Zn.offset,H),hr=ir.getOr({matches:[],position:Zn}),Zr=hr.position,Va=zo(be,qe,Zr.container,Zr.offset,H,ir.isNone());return Va.map(function(ui){var Qi=Cr(Ve,ui);return{matches:hr.matches.concat([{pattern:qe,startRng:Qi,endRng:or}]),position:Pt(ui.startContainer,ui.startOffset)}})})},Lo=function(O,H,te,be,Ve){var qe=O.dom;return un(te,be,qe.getRoot()).bind(function(on){var Sn=qe.createRng();Sn.setStart(Ve,0),Sn.setEnd(te,be);for(var Zn=Sn.toString(),or=0;or<H.length;or++){var ir=H[or];if(!!Fa(Zn,ir.end)){var hr=H.slice();hr.splice(or,1);var Zr=yi(O,Ve,{pattern:ir,remainingPatterns:hr,position:on});if(Zr.isSome())return Zr}}return I.none()})},wi=function(O,H,te){O.selection.setRng(te),H.type==="inline-format"?Ue(H.format,function(be){O.formatter.apply(be)}):O.execCommand(H.cmd,!1,H.value)},Ci=function(O,H,te,be){var Ve=Br(O.dom,te);Ye(O.dom,Ve,be),wi(O,H,Ve)},Ji=function(O,H,te,be,Ve){var qe=O.dom,on=Br(qe,be),Sn=Br(qe,te);Ye(qe,Sn,Ve),Ye(qe,on,Ve);var Zn={prefix:te.prefix,start:te.end,end:be.start},or=Br(qe,Zn);wi(O,H,or)},Z=function(O,H){var te=ko("mce_textpattern"),be=$(H,function(Ve,qe){var on=uo(O,te+("_end"+Ve.length),qe.endRng);return Ve.concat([X(X({},qe),{endMarker:on})])},[]);return $(be,function(Ve,qe){var on=be.length-Ve.length-1,Sn=dn(qe.pattern)?qe.endMarker:uo(O,te+("_start"+on),qe.startRng);return Ve.concat([X(X({},qe),{startMarker:Sn})])},[])},xe=function(O,H,te){var be=O.selection.getRng();return be.collapsed===!1?[]:Jt(O,be).bind(function(Ve){var qe=be.startOffset-(te?1:0);return Lo(O,H,be.startContainer,qe,Ve)}).fold(function(){return[]},function(Ve){return Ve.matches})},Q=function(O,H){if(H.length!==0){var te=O.dom,be=O.selection.getBookmark(),Ve=Z(te,H);Ue(Ve,function(qe){var on=te.getParent(qe.startMarker.start,te.isBlock),Sn=function(Zn){return Zn===on};dn(qe.pattern)?Ci(O,qe.pattern,qe.endMarker,Sn):Ji(O,qe.pattern,qe.startMarker,qe.endMarker,Sn),Ln(te,qe.endMarker,Sn),Ln(te,qe.startMarker,Sn)}),O.selection.moveToBookmark(be)}},Ge=function(O,H){if(!O.selection.isCollapsed())return!1;var te=xe(O,H.inlinePatterns,!1),be=Ba(O,H.blockPatterns);return be.length>0||te.length>0?(O.undoManager.add(),O.undoManager.extra(function(){O.execCommand("mceInsertNewLine")},function(){O.insertContent(jn),Q(O,te),wa(O,be);var Ve=O.selection.getRng(),qe=un(Ve.startContainer,Ve.startOffset,O.dom.getRoot());O.execCommand("mceInsertNewLine"),qe.each(function(on){var Sn=on.container;Sn.data.charAt(on.offset-1)===jn&&(Sn.deleteData(on.offset-1,1),Le(O.dom,Sn.parentNode,function(Zn){return Zn===O.dom.getRoot()}))})}),!0):!1},sn=function(O,H){var te=xe(O,H.inlinePatterns,!0);te.length>0&&O.undoManager.transact(function(){Q(O,te)})},On=function(O,H,te){for(var be=0;be<O.length;be++)if(te(O[be],H))return!0;return!1},j=function(O,H){return On(O,H,function(te,be){return te===be.keyCode&&Fn.modifierPressed(be)===!1})},ne=function(O,H){return On(O,H,function(te,be){return te.charCodeAt(0)===be.charCode})},Ze=function(O,H){var te=[",",".",";",":","!","?"],be=[32];O.on("keydown",function(Ve){Ve.keyCode===13&&!Fn.modifierPressed(Ve)&&Ge(O,H.get())&&Ve.preventDefault()},!0),O.on("keyup",function(Ve){j(be,Ve)&&sn(O,H.get())}),O.on("keypress",function(Ve){ne(te,Ve)&&En.setEditorTimeout(O,function(){sn(O,H.get())})})};function kt(){D.add("textpattern",function(O){var H=Y(vt(O));return Ze(O,H),ot(H)})}kt()})();(function(){var Y=function(Te){var se=Te,Re=function(){return se},Be=function(Xe){se=Xe};return{get:Re,set:Be}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(Te,se){Te.fire("VisualBlocks",{state:se})},oe=function(Te,se,Re){var Be=Te.dom;Be.toggleClass(Te.getBody(),"mce-visualblocks"),Re.set(!Re.get()),X(Te,Re.get())},ue=function(Te,se,Re){Te.addCommand("mceVisualBlocks",function(){oe(Te,se,Re)})},Pe=function(Te){return Te.getParam("visualblocks_default_state",!1,"boolean")},at=function(Te,se,Re){Te.on("PreviewFormats AfterPreviewFormats",function(Be){Re.get()&&Te.dom.toggleClass(Te.getBody(),"mce-visualblocks",Be.type==="afterpreviewformats")}),Te.on("init",function(){Pe(Te)&&oe(Te,se,Re)})},ct=function(Te,se){return function(Re){Re.setActive(se.get());var Be=function(Xe){return Re.setActive(Xe.state)};return Te.on("VisualBlocks",Be),function(){return Te.off("VisualBlocks",Be)}}},He=function(Te,se){var Re=function(){return Te.execCommand("mceVisualBlocks")};Te.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:Re,onSetup:ct(Te,se)}),Te.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:Re,onSetup:ct(Te,se)})};function Ft(){D.add("visualblocks",function(Te,se){var Re=Y(!1);ue(Te,se,Re),He(Te,Re),at(Te,se,Re)})}Ft()})();(function(){var Y=function(fe){var Ct=fe,it=function(){return Ct},Ut=function(Pn){Ct=Pn};return{get:it,set:Ut}},D=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(fe){var Ct=function(){return fe.get()};return{isEnabled:Ct}},oe=function(fe,Ct){return fe.fire("VisualChars",{state:Ct})},ue=function(fe){var Ct=typeof fe;return fe===null?"null":Ct==="object"&&(Array.prototype.isPrototypeOf(fe)||fe.constructor&&fe.constructor.name==="Array")?"array":Ct==="object"&&(String.prototype.isPrototypeOf(fe)||fe.constructor&&fe.constructor.name==="String")?"string":Ct},Pe=function(fe){return function(Ct){return ue(Ct)===fe}},at=function(fe){return function(Ct){return typeof Ct===fe}},ct=Pe("string"),He=at("boolean"),Ft=at("number"),Te=function(){},se=function(fe){return function(){return fe}},Re=function(fe){return fe},Be=se(!1),Xe=se(!0),ve=function(){return yt},yt=function(){var fe=function(Ut){return Ut()},Ct=Re,it={fold:function(Ut,Pn){return Ut()},isSome:Be,isNone:Xe,getOr:Ct,getOrThunk:fe,getOrDie:function(Ut){throw new Error(Ut||"error: getOrDie called on none.")},getOrNull:se(null),getOrUndefined:se(void 0),or:Ct,orThunk:fe,map:ve,each:Te,bind:ve,exists:Be,forall:Xe,filter:function(){return ve()},toArray:function(){return[]},toString:se("none()")};return it}(),Qe=function(fe){var Ct=se(fe),it=function(){return Pn},Ut=function(sr){return sr(fe)},Pn={fold:function(sr,oa){return oa(fe)},isSome:Xe,isNone:Be,getOr:Ct,getOrThunk:Ct,getOrDie:Ct,getOrNull:Ct,getOrUndefined:Ct,or:it,orThunk:it,map:function(sr){return Qe(sr(fe))},each:function(sr){sr(fe)},bind:Ut,exists:Ut,forall:Ut,filter:function(sr){return sr(fe)?Pn:yt},toArray:function(){return[fe]},toString:function(){return"some("+fe+")"}};return Pn},Vt=function(fe){return fe==null?yt:Qe(fe)},I={some:Qe,none:ve,from:Vt},je=function(fe,Ct){for(var it=fe.length,Ut=new Array(it),Pn=0;Pn<it;Pn++){var sr=fe[Pn];Ut[Pn]=Ct(sr,Pn)}return Ut},we=function(fe,Ct){for(var it=0,Ut=fe.length;it<Ut;it++){var Pn=fe[it];Ct(Pn,it)}},St=function(fe,Ct){for(var it=[],Ut=0,Pn=fe.length;Ut<Pn;Ut++){var sr=fe[Ut];Ct(sr,Ut)&&it.push(sr)}return it},et=Object.keys,Ae=function(fe,Ct){for(var it=et(fe),Ut=0,Pn=it.length;Ut<Pn;Ut++){var sr=it[Ut],oa=fe[sr];Ct(oa,sr)}};typeof window!="undefined"||Function("return this;")();var Ue=3,Ee=function(fe){return fe.dom.nodeType},Je=function(fe){return fe.dom.nodeValue},$=function(fe){return function(Ct){return Ee(Ct)===fe}},ae=$(Ue),Oe=function(fe,Ct,it){if(ct(it)||He(it)||Ft(it))fe.setAttribute(Ct,it+"");else throw console.error("Invalid call to Attribute.set. Key ",Ct,":: Value ",it,":: Element ",fe),new Error("Attribute value was not simple")},Kt=function(fe,Ct,it){Oe(fe.dom,Ct,it)},Ie=function(fe,Ct){var it=fe.dom.getAttribute(Ct);return it===null?void 0:it},cn=function(fe,Ct){fe.dom.removeAttribute(Ct)},an=function(fe,Ct){var it=Ie(fe,Ct);return it===void 0||it===""?[]:it.split(" ")},C=function(fe,Ct,it){var Ut=an(fe,Ct),Pn=Ut.concat([it]);return Kt(fe,Ct,Pn.join(" ")),!0},rt=function(fe,Ct,it){var Ut=St(an(fe,Ct),function(Pn){return Pn!==it});return Ut.length>0?Kt(fe,Ct,Ut.join(" ")):cn(fe,Ct),!1},ft=function(fe){return fe.dom.classList!==void 0},jt=function(fe){return an(fe,"class")},ze=function(fe,Ct){return C(fe,"class",Ct)},Yt=function(fe,Ct){return rt(fe,"class",Ct)},Zt=function(fe,Ct){ft(fe)?fe.dom.classList.add(Ct):ze(fe,Ct)},Qt=function(fe){var Ct=ft(fe)?fe.dom.classList:jt(fe);Ct.length===0&&cn(fe,"class")},z=function(fe,Ct){if(ft(fe)){var it=fe.dom.classList;it.remove(Ct)}else Yt(fe,Ct);Qt(fe)},Wn=function(fe,Ct){var it=Ct||document,Ut=it.createElement("div");if(Ut.innerHTML=fe,!Ut.hasChildNodes()||Ut.childNodes.length>1)throw console.error("HTML does not have a single root node",fe),new Error("HTML must have a single root node");return vn(Ut.childNodes[0])},dt=function(fe,Ct){var it=Ct||document,Ut=it.createElement(fe);return vn(Ut)},Fe=function(fe,Ct){var it=Ct||document,Ut=it.createTextNode(fe);return vn(Ut)},vn=function(fe){if(fe==null)throw new Error("Node cannot be null or undefined");return{dom:fe}},Ne=function(fe,Ct,it){return I.from(fe.dom.elementFromPoint(Ct,it)).map(vn)},De={fromHtml:Wn,fromTag:dt,fromText:Fe,fromDom:vn,fromPoint:Ne},nt={"\xA0":"nbsp","\xAD":"shy"},Dt=function(fe,Ct){var it="";return Ae(fe,function(Ut,Pn){it+=Pn}),new RegExp("["+it+"]",Ct?"g":"")},ot=function(fe){var Ct="";return Ae(fe,function(it){Ct&&(Ct+=","),Ct+="span.mce-"+it}),Ct},pt=Dt(nt),$n=Dt(nt,!0),le=ot(nt),vt="mce-nbsp",ln=function(fe){return'<span data-mce-bogus="1" class="mce-'+nt[fe]+'">'+fe+"</span>"},En=function(fe){var Ct=Je(fe);return ae(fe)&&Ct!==void 0&&pt.test(Ct)},Fn=function(fe,Ct){var it=[],Ut=fe.dom,Pn=je(Ut.childNodes,De.fromDom);return we(Pn,function(sr){Ct(sr)&&(it=it.concat([sr])),it=it.concat(Fn(sr,Ct))}),it},jn=function(fe,Ct){for(;fe.parentNode;){if(fe.parentNode===Ct)return fe;fe=fe.parentNode}},Sr=function(fe){return fe.replace($n,ln)},Rr=function(fe){return fe.nodeName.toLowerCase()==="span"&&fe.classList.contains("mce-nbsp-wrap")},qr=function(fe,Ct){var it=Fn(De.fromDom(Ct),En);we(it,function(Ut){var Pn=Ut.dom.parentNode;if(Rr(Pn))Zt(De.fromDom(Pn),vt);else{for(var sr=Sr(fe.dom.encode(Je(Ut))),oa=fe.dom.create("div",null,sr),Cr=void 0;Cr=oa.lastChild;)fe.dom.insertAfter(Cr,Ut.dom);fe.dom.remove(Ut.dom)}})},_t=function(fe,Ct){var it=fe.dom.select(le,Ct);we(it,function(Ut){Rr(Ut)?z(De.fromDom(Ut),vt):fe.dom.remove(Ut,!0)})},Pt=function(fe){var Ct=fe.getBody(),it=fe.selection.getBookmark(),Ut=jn(fe.selection.getNode(),Ct);Ut=Ut!==void 0?Ut:Ct,_t(fe,Ut),qr(fe,Ut),fe.selection.moveToBookmark(it)},Mt=function(fe,Ct){oe(fe,Ct.get());var it=fe.getBody();Ct.get()===!0?qr(fe,it):_t(fe,it)},Le=function(fe,Ct){Ct.set(!Ct.get());var it=fe.selection.getBookmark();Mt(fe,Ct),fe.selection.moveToBookmark(it)},Ye=function(fe,Ct){fe.addCommand("mceVisualChars",function(){Le(fe,Ct)})},Wt=function(fe){return fe.getParam("visualchars_default_state",!1)},dn=function(fe){return fe.getParam("forced_root_block")!==!1},Jt=function(fe,Ct){fe.on("init",function(){Mt(fe,Ct)})},ke=tinymce.util.Tools.resolve("tinymce.util.Delay"),Rt=function(fe,Ct){var it=ke.debounce(function(){Pt(fe)},300);dn(fe)&&fe.on("keydown",function(Ut){Ct.get()===!0&&(Ut.keyCode===13?Pt(fe):it())}),fe.on("remove",it.stop)},bn=function(fe,Ct){return function(it){it.setActive(Ct.get());var Ut=function(Pn){return it.setActive(Pn.state)};return fe.on("VisualChars",Ut),function(){return fe.off("VisualChars",Ut)}}},un=function(fe,Ct){var it=function(){return fe.execCommand("mceVisualChars")};fe.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:it,onSetup:bn(fe,Ct)}),fe.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:it,onSetup:bn(fe,Ct)})};function Nn(){D.add("visualchars",function(fe){var Ct=Y(Wt(fe));return Ye(fe,Ct),un(fe,Ct),Rt(fe,Ct),Jt(fe,Ct),X(Ct)})}Nn()})();(function(){var Y=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=function(Ne){return Ne},X=function(){return X=Object.assign||function(De){for(var nt,Dt=1,ot=arguments.length;Dt<ot;Dt++){nt=arguments[Dt];for(var pt in nt)Object.prototype.hasOwnProperty.call(nt,pt)&&(De[pt]=nt[pt])}return De},X.apply(this,arguments)},oe="\uFEFF",ue=function(Ne){return Ne.replace(/\uFEFF/g,"")},Pe=function(Ne,De){for(var nt=Ne.length,Dt=new Array(nt),ot=0;ot<nt;ot++){var pt=Ne[ot];Dt[ot]=De(pt,ot)}return Dt},at="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",ct={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:at},He={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Ft=[new RegExp(ct.aletter),new RegExp(ct.midnumlet),new RegExp(ct.midletter),new RegExp(ct.midnum),new RegExp(ct.numeric),new RegExp(ct.cr),new RegExp(ct.lf),new RegExp(ct.newline),new RegExp(ct.extend),new RegExp(ct.format),new RegExp(ct.katakana),new RegExp(ct.extendnumlet),new RegExp("@")],Te="",se=new RegExp("^"+ct.punctuation+"$"),Re=/^\s+$/,Be=Ft,Xe=He.OTHER,ve=function(Ne){for(var De=Xe,nt=Be.length,Dt=0;Dt<nt;++Dt){var ot=Be[Dt];if(ot&&ot.test(Ne)){De=Dt;break}}return De},yt=function(Ne){var De={};return function(nt){if(De[nt])return De[nt];var Dt=Ne(nt);return De[nt]=Dt,Dt}},Qe=function(Ne){var De=yt(ve);return Pe(Ne,De)},Vt=function(Ne,De){var nt=Ne[De],Dt=Ne[De+1];if(De<0||De>Ne.length-1&&De!==0||nt===He.ALETTER&&Dt===He.ALETTER)return!1;var ot=Ne[De+2];if(nt===He.ALETTER&&(Dt===He.MIDLETTER||Dt===He.MIDNUMLET||Dt===He.AT)&&ot===He.ALETTER)return!1;var pt=Ne[De-1];return(nt===He.MIDLETTER||nt===He.MIDNUMLET||Dt===He.AT)&&Dt===He.ALETTER&&pt===He.ALETTER||(nt===He.NUMERIC||nt===He.ALETTER)&&(Dt===He.NUMERIC||Dt===He.ALETTER)||(nt===He.MIDNUM||nt===He.MIDNUMLET)&&Dt===He.NUMERIC&&pt===He.NUMERIC||nt===He.NUMERIC&&(Dt===He.MIDNUM||Dt===He.MIDNUMLET)&&ot===He.NUMERIC||nt===He.EXTEND||nt===He.FORMAT||pt===He.EXTEND||pt===He.FORMAT||Dt===He.EXTEND||Dt===He.FORMAT||nt===He.CR&&Dt===He.LF?!1:nt===He.NEWLINE||nt===He.CR||nt===He.LF||Dt===He.NEWLINE||Dt===He.CR||Dt===He.LF?!0:!(nt===He.KATAKANA&&Dt===He.KATAKANA||Dt===He.EXTENDNUMLET&&(nt===He.ALETTER||nt===He.NUMERIC||nt===He.KATAKANA||nt===He.EXTENDNUMLET)||nt===He.EXTENDNUMLET&&(Dt===He.ALETTER||Dt===He.NUMERIC||Dt===He.KATAKANA)||nt===He.AT)},I=Te,je=Re,we=se,St=function(Ne){return Ne==="http"||Ne==="https"},et=function(Ne,De){var nt;for(nt=De;nt<Ne.length&&!je.test(Ne[nt]);nt++);return nt},Ae=function(Ne,De){var nt=et(Ne,De+1),Dt=Ne.slice(De+1,nt).join(I);return Dt.substr(0,3)==="://"?nt:De},Ue=function(Ne,De,nt,Dt){for(var ot=[],pt=[],$n=0;$n<nt.length;++$n)if(pt.push(Ne[$n]),Vt(nt,$n)){var le=De[$n];if((Dt.includeWhitespace||!je.test(le))&&(Dt.includePunctuation||!we.test(le))){var vt=$n-pt.length+1,ln=$n+1,En=De.slice(vt,ln).join(I);if(St(En)){var Fn=Ae(De,$n),jn=Ne.slice(ln,Fn);Array.prototype.push.apply(pt,jn),$n=Fn}ot.push(pt)}pt=[]}return ot},Ee=function(){return{includeWhitespace:!1,includePunctuation:!1}},Je=function(Ne,De,nt){nt=X(X({},Ee()),nt);for(var Dt=[],ot=[],pt=0;pt<Ne.length;pt++){var $n=De(Ne[pt]);$n!==oe&&(Dt.push(Ne[pt]),ot.push($n))}var le=Qe(ot);return Ue(Dt,ot,le,nt)},$=Je,ae=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Oe=function(Ne,De){for(var nt=De.getBlockElements(),Dt=De.getShortEndedElements(),ot=function(vt){return nt[vt.nodeName]||Dt[vt.nodeName]},pt=[],$n="",le=new ae(Ne,Ne);Ne=le.next();)Ne.nodeType===3?$n+=ue(Ne.data):ot(Ne)&&$n.length&&(pt.push($n),$n="");return $n.length&&pt.push($n),pt},Kt=function(Ne){return Ne.replace(/\u200B/g,"")},Ie=function(Ne){return Ne.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},cn=function(Ne,De){var nt=Kt(Oe(Ne,De).join(`
`));return $(nt.split(""),D).length},an=function(Ne,De){var nt=Oe(Ne,De).join("");return Ie(nt)},C=function(Ne,De){var nt=Oe(Ne,De).join("").replace(/\s/g,"");return Ie(nt)},rt=function(Ne,De){return function(){return De(Ne.getBody(),Ne.schema)}},ft=function(Ne,De){return function(){return De(Ne.selection.getRng().cloneContents(),Ne.schema)}},jt=function(Ne){return rt(Ne,cn)},ze=function(Ne){return{body:{getWordCount:jt(Ne),getCharacterCount:rt(Ne,an),getCharacterCountWithoutSpaces:rt(Ne,C)},selection:{getWordCount:ft(Ne,cn),getCharacterCount:ft(Ne,an),getCharacterCountWithoutSpaces:ft(Ne,C)},getCount:jt(Ne)}},Yt=function(Ne,De){Ne.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(De.body.getWordCount()),String(De.selection.getWordCount())],["Characters (no spaces)",String(De.body.getCharacterCountWithoutSpaces()),String(De.selection.getCharacterCountWithoutSpaces())],["Characters",String(De.body.getCharacterCount()),String(De.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Zt=function(Ne,De){Ne.addCommand("mceWordCount",function(){return Yt(Ne,De)})},Qt=tinymce.util.Tools.resolve("tinymce.util.Delay"),z=function(Ne,De){Ne.fire("wordCountUpdate",{wordCount:{words:De.body.getWordCount(),characters:De.body.getCharacterCount(),charactersWithoutSpaces:De.body.getCharacterCountWithoutSpaces()}})},Wn=function(Ne,De){z(Ne,De)},dt=function(Ne,De,nt){var Dt=Qt.debounce(function(){return Wn(Ne,De)},nt);Ne.on("init",function(){Wn(Ne,De),Qt.setEditorTimeout(Ne,function(){Ne.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Dt)},0)})},Fe=function(Ne){var De=function(){return Ne.execCommand("mceWordCount")};Ne.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:De}),Ne.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:De})};function vn(Ne){Ne===void 0&&(Ne=300),Y.add("wordcount",function(De){var nt=ze(De);return Zt(De,nt),Fe(De),dt(De,nt,Ne),nt})}vn()})();const uG=Is({name:"TinymceImageUpload",components:{Upload:iG,Button:oI},props:{fullscreen:Boolean,disabled:Boolean},emits:["uploading","done","error"],setup(Y,{emit:D}){let X=!1;const{uploadUrl:oe}=Cj(),{t:ue}=xj(),Pe=Az("tinymce-img-upload"),at=za(()=>{const{disabled:He}=Y;return{disabled:He}});function ct(He){var Be;const Ft=He.file,Te=Ft==null?void 0:Ft.status,se=(Be=Ft==null?void 0:Ft.response)==null?void 0:Be.url,Re=Ft==null?void 0:Ft.name;switch(Te){case"uploading":if(X)return;D("uploading",Re),X=!0;break;case"done":D("done",Re,se),X=!1;break;case"error":D("error"),X=!1}}return{prefixCls:Pe,t:ue,getButtonProps:at,uploadUrl:oe,handleChange:ct}}});function sG(Y,D,X,oe,ue,Pe){const at=iI("Button"),ct=iI("Upload");return nx(),uI("div",{class:Tz([Y.prefixCls,{fullscreen:Y.fullscreen}])},[rr(ct,{name:"file",multiple:"",accept:".jpg,.jpeg,.gif,.png,.webp",onChange:Y.handleChange,action:Y.uploadUrl,"show-upload-list":!1},{default:sI(()=>[rr(at,Sj({type:"primary"},Y.getButtonProps),{default:sI(()=>[kj(Ej(Y.t("component.upload.imgUpload")),1)]),_:1},16)]),_:1},8,["onChange","action"])],2)}var cG=Ez(uG,[["render",sG],["__scopeId","data-v-5e280119"]]);const lG=[];for(let Y=0;Y<=15;Y++)lG[Y]=Y.toString(16);let xz=0;function Sz(Y=""){const D=Date.now(),X=Math.floor(Math.random()*1e9);return xz++,Y+"_"+X+xz+String(D)}const fG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],vG=Y=>fG.indexOf(Y)!==-1,dG=(Y,D,X)=>{Object.keys(D).filter(vG).forEach(oe=>{const ue=D[oe];typeof ue=="function"&&(oe==="onInit"?ue(Y,X):X.on(oe.substring(2),Pe=>ue(Pe,X)))})};const mG=["advlist anchor autolink autosave code codesample  directionality  fullscreen hr insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus  template  textpattern visualblocks visualchars wordcount"],gG=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],hG={options:{type:Object,default:()=>({})},value:String,toolbar:{type:Array,default:()=>gG},plugins:{type:Array,default:()=>mG},modelVlaue:String,height:{type:[Number,String],default:400,required:!1},width:{type:[Number,String],default:"auto",required:!1},showImageUpload:{type:Boolean,default:!0}},pG=Is({name:"Tinymce",components:{ImgUpload:cG},inheritAttrs:!1,props:hG,emits:["change","update:modelValue","inited","init-error"],setup(Y,{attrs:D,emit:X}){const oe=qu(null),ue=qu(!1),Pe=qu(Sz("tiny-vue")),at=qu(null),ct=Az("tinymce-container"),He=za(()=>Y.modelVlaue),Ft=za(()=>{const{width:St}=Y;return Tj(St)?`${St}px`:St}),Te=za(()=>ms(Oj)==="light"?"oxide":"oxide-dark"),se=za(()=>{const St=Aj().getLocale.value;return[XN.zh_CN,XN.en_US].includes(St)?St:XN.zh_CN}),Re=za(()=>{const{height:St,toolbar:et,plugins:Ae,options:Ue}=Y,Ee="/admin/";return uz(iz({selector:`#${ms(Pe)}`,height:St,toolbar:et,menubar:"file edit insert view format table tools",plugins:Ae,language_url:Ee+"resources/tinymce/langs/"+ms(se)+".js",language:ms(se),branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,skin:Te.value,skin_url:Ee+"resource/tinymce/skins/ui/"+Te.value,content_css:Ee+"resource/tinymce/skins/ui/"+Te.value+"/content.min.css"},Ue),{setup:Je=>{oe.value=Je,Je.on("init",yt)}})}),Be=za(()=>{const{options:St}=Y,et=St&&Reflect.get(St,"readonly"),Ae=ms(oe);return Ae&&Ae.setMode(et?"readonly":"design"),et!=null?et:!1});YN(()=>D.disabled,()=>{const St=ms(oe);!St||St.setMode(D.disabled?"readonly":"design")}),Nj(()=>sz(this,null,function*(){Re.value.inline||(Pe.value=Sz("tiny-vue")),yield _j(),setTimeout(Xe,30)})),cI(ve),Dj(ve);function Xe(){const St=ms(at);St&&(St.style.visibility=""),nI.init(ms(Re)).then(et=>X("inited",et)).catch(et=>X("init-error",et))}function ve(){!nI||nI.remove(ms(Re).selector)}function yt(St){const et=ms(oe);if(!et)return;const Ae=Y.modelVlaue||"";et.setContent(Ae),Qe(et),dG(St,D,ms(oe))}function Qe(St){var Ue;const et=(Ue=D.modelEvents)!=null?Ue:null,Ae=Array.isArray(et)?et.join(" "):et;YN(()=>Y.modelVlaue,(Ee,Je)=>{Vt(St,Ee,Je)}),YN(()=>Y.value,(Ee,Je)=>{Vt(St,Ee,Je)},{immediate:!0}),St.on(Ae||"change keyup undo redo",()=>{const Ee=St.getContent({format:D.outputFormat});X("update:modelValue",Ee),X("change",Ee)}),St.on("FullscreenStateChanged",Ee=>{ue.value=Ee.state})}function Vt(St,et,Ae){St&&Pj.exports.isString(et)&&et!==Ae&&et!==St.getContent({format:D.outputFormat})&&St.setContent(et)}function I(St){var Ue;const et=ms(oe);if(!et)return;et.execCommand("mceInsertContent",!1,je(St));const Ae=(Ue=et==null?void 0:et.getContent())!=null?Ue:"";Vt(et,Ae)}function je(St){return`[uploading:${St}]`}function we(St,et){var Je,$;const Ae=ms(oe);if(!Ae)return;const Ue=(Je=Ae==null?void 0:Ae.getContent())!=null?Je:"",Ee=($=Ue==null?void 0:Ue.replace(je(St),`<img src="${et}/>`))!=null?$:"";Vt(Ae,Ee)}return{prefixCls:ct,containerWidth:Ft,initOptions:Re,tinymceContent:He,elRef:at,tinymceId:Pe,handleImageUploading:I,handleDone:we,editorRef:oe,fullscreen:ue,disabled:Be}}}),bG=["id"];function yG(Y,D,X,oe,ue,Pe){const at=iI("ImgUpload");return nx(),uI("div",{class:Tz(Y.prefixCls),style:Mj({width:Y.containerWidth})},[Y.showImageUpload?lI((nx(),Oz(at,{key:0,disabled:Y.disabled,fullscreen:Y.fullscreen,onDone:Y.handleDone,onUploading:Y.handleImageUploading},null,8,["disabled","fullscreen","onDone","onUploading"])),[[fI,Y.editorRef]]):Bj("v-if",!0),Y.initOptions.inline?Fj(Y.$slots,"default",{key:2},void 0,!0):(nx(),uI("textarea",{key:1,id:Y.tinymceId,ref:"elRef",style:{visibility:"hidden"}},null,8,bG))],6)}var wG=Ez(pG,[["render",yG],["__scopeId","data-v-c18f0470"]]);const CG=Rj(wG),KG=Is({setup(Y){const D=qu("hello world");function X(oe){}return(oe,ue)=>(nx(),Oz(ms(Ij),{title:"\u5BCC\u6587\u672C\u7EC4\u4EF6\u793A\u4F8B"},{default:sI(()=>[rr(ms(CG),{modelValue:D.value,"onUpdate:modelValue":ue[0]||(ue[0]=Pe=>D.value=Pe),onChange:X,width:"100%"},null,8,["modelValue"])]),_:1}))}});export{KG as default};
